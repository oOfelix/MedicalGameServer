window.__require=function t(e,n,o){function c(r,l){if(!n[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var s="function"==typeof __require&&__require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return c(e[r][1][t]||t)},u,u.exports,t,e,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)c(o[r]);return c}({BaseObject:[function(t,e,n){"use strict";cc._RF.push(e,"38701egHSZOWr3DULWH7gcb","BaseObject");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,l=r.ccclass,a=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.object_id=0,e}return c(e,t),e.prototype.distalk=function(){this.talk(-1,function(){})},e.prototype.talk=function(t,e){void 0===e&&(e=null),"function"==typeof e&&e()},e.prototype.walkTo=function(t,e,n){"function"==typeof n&&n()},e.prototype.idle=function(t){"function"==typeof t&&t()},e.prototype.moveTo=function(t,e,n){"function"==typeof n&&n()},e.prototype.show=function(t,e){"function"==typeof e&&e()},i([a],e.prototype,"object_id",void 0),i([l],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],Bear:[function(t,e,n){"use strict";cc._RF.push(e,"39929P4AE5KPJLyBKw4Z+4L","Bear");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),l=t("./BaseObject"),a=t("../Utils/CommonUtils"),s=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.update=function(){},e.prototype.turnOnHands=function(t){var e=this;this.node.runAction(cc.sequence(cc.callFunc(function(){e.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1)}),cc.delayTime(1),cc.callFunc(function(){e.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof t&&t()})))},e.prototype.walkTo=function(t,e,n){var o=this;console.log("\u5c0f\u718a\u8d70\u5411\uff1a"+e.x+", "+e.y),a.CommonUtils.comprareTo(this.node.x,e.x)!=a.ConstDefine.EQUAL||a.CommonUtils.comprareTo(this.node.y,e.y)!=a.ConstDefine.EQUAL||"function"!=typeof n?(this.node.x<e.x?(this.node.scaleX=-1,this.wordPanel.scaleX=-1,this.wordPanel.setPosition(-290,340)):(this.node.scaleX=1,this.wordPanel.scaleX=1,this.wordPanel.setPosition(290,340)),this.node.runAction(cc.sequence(cc.callFunc(function(){o.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(t,e),cc.callFunc(function(){o.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0)}),cc.delayTime(.3),cc.callFunc(function(){"function"==typeof n&&n()})))):n()},e.prototype.idle=function(t){this.node.stopAllActions(),this.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof t&&t()},e.prototype.distalk=function(){this.wordPanel.active=!1,this.word.string=""},e.prototype.talk=function(t,e){if(void 0===e&&(e=null),console.log("talk ID:"+t),t==a.ConstDefine.SAY_NOTING_ID)return this.wordPanel.active=!1,this.word.string="",void("function"==typeof e&&e());var n=r.default.getInstance().getStoryById(t);null!=n&&(this.wordPanel.active=!0,this.word.string=n.m_Word);var o=cc.find("PlaySound").getComponent(s.default).playSound(n.m_ID);this.scheduleOnce(function(){"function"==typeof e&&e()},o)},e.prototype.getAlgorithmDetectionResult=function(t,e){for(var n=null,o=r.default.getInstance().getAlgorithmDetectionCount(),c=0;c<o;c++){var i=r.default.getInstance().getAlgorithmDetection(c);if(i.m_CheckType==t&&i.m_StatusId==e){n=i;break}}return n},i([d(cc.Node)],e.prototype,"wordPanel",void 0),i([d(cc.Label)],e.prototype,"word",void 0),i([p],e)}(l.default);n.default=f,cc._RF.pop()},{"../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],Bird:[function(t,e,n){"use strict";cc._RF.push(e,"acf9b1KdmJHcKF0g1BCsnq5","Bird");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./BaseObject"),l=t("../Tables/TableSystem"),a=t("../Utils/CommonUtils"),s=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.update=function(){},e.prototype.talk=function(t,e){var n=this;if(-1!=t){var o=l.default.getInstance().getStoryById(t);null!=o&&this.node.runAction(cc.sequence(cc.callFunc(function(){1==o.m_IsCallBack?(n.wordPanel.active=!1,n.word.string="",n.node.stopAllActions(),"function"==typeof e&&e(o)):(n.wordPanel.active=!0,n.word.string=o.m_Word,cc.find("PlaySound").getComponent(s.default).playSound(o.m_ID))}),cc.delayTime(o.m_Time),cc.callFunc(function(){n.wordPanel.active=!1,n.word.string=""}),cc.callFunc(function(){if(-1==o.m_Next)return 1==o.m_IsBirdFly&&n.node.runAction(cc.moveTo(5,new cc.Vec2(a.DeviceUtils.getVisibleSize().width+200,n.node.position.y+100))),void("function"==typeof e&&e());n.talk(o.m_Next,e)})))}else this.wordPanel.active=!1},i([d(cc.Node)],e.prototype,"wordPanel",void 0),i([d(cc.Label)],e.prototype,"word",void 0),i([p],e)}(r.default);n.default=f,cc._RF.pop()},{"../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],CheckSystem:[function(t,e,n){"use strict";cc._RF.push(e,"35decf988xOBpVRydzEx+UF","CheckSystem"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../NetUtils/NetUtils"),c=function(){function t(){}return t.checkResult=function(t,e,n,c){var i={operationCode:5,checkType:t,result:e};o.default.requestOnPost(i,function(t){if(console.log("\u6b63\u786e\uff1a\u6536\u5230\u53ef\u8bc6\u522b\u68c0\u6d4b\u7ed3\u679c"),"function"==typeof n){var e={checkType:t.checkType,result:t.result};n(e)}},function(t){if(console.log("\u9519\u8bef\uff1a\u6536\u5230\u4e0d\u53ef\u8bc6\u522b\u68c0\u6d4b\u7ed3\u679c"),"function"==typeof c){var e={errorMsg:t.errorMsg};c(e)}})},t}();n.default=c,cc._RF.pop()},{"../NetUtils/NetUtils":"NetUtils"}],ChoosePanel:[function(t,e,n){"use strict";cc._RF.push(e,"832c081iUxNka2Cyl2r7/8U","ChoosePanel");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,l=r.ccclass,a=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.description=null,e.btnCancel=null,e.btnOK=null,e.okCallbackEvent=null,e.cancelCallbackEvent=null,e}return c(e,t),e.prototype.start=function(){},e.prototype.show=function(t,e,n,o,c){void 0===c&&(c=0),console.log("\u9009\u62e9\u9762\u677f\u663e\u793a\u5267\u60c5"),null!=this.title&&(this.title.string=t),null!=this.description&&(this.description.string=e),this.okCallbackEvent=n,this.cancelCallbackEvent=o},e.prototype.onOK=function(){"function"==typeof this.okCallbackEvent&&this.okCallbackEvent()},e.prototype.onCancel=function(){"function"==typeof this.cancelCallbackEvent&&this.cancelCallbackEvent()},i([a(cc.Label)],e.prototype,"title",void 0),i([a(cc.Label)],e.prototype,"description",void 0),i([a(cc.Node)],e.prototype,"btnCancel",void 0),i([a(cc.Node)],e.prototype,"btnOK",void 0),i([l],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],ChooseScenePanel:[function(t,e,n){"use strict";cc._RF.push(e,"9fc89gEUWtHjK5xAtfk+s8X","ChooseScenePanel");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Object/BaseObject"),l=cc._decorator,a=l.ccclass,s=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.start=function(){},e.prototype.moveTo=function(t,e,n){console.log("\u5f39\u51fa\u9009\u62e9\u573a\u666f\u9762\u677f"),this.node.runAction(cc.sequence(cc.moveTo(t,e),cc.callFunc(function(){"function"==typeof n&&n()})))},e.prototype.changeScene=function(t,e){switch(e){case"1":cc.director.loadScene("SupermarketScene");break;case"2":cc.director.loadScene("KindergartenScene");break;case"3":cc.director.loadScene("ParkScene")}},i([a],e)}(r.default));n.default=s,cc._RF.pop()},{"../Object/BaseObject":"BaseObject"}],CommonUtils:[function(t,e,n){"use strict";cc._RF.push(e,"af584CvWQ1Ahacd111giWvE","CommonUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.DataStorageUtils=n.EncryptUtils=n.TimeUtils=n.DebugUtils=n.DeviceUtils=n.SystemUtils=n.AnimationUtils=n.OperationUtils=n.CommonUtils=n.ConstDefine=void 0;var o=function(){function t(){}return t.SCREEN_WIDTH_LOGIC=1920,t.SCREEN_HEIGHT_LOGIC=1080,t.DIRECTION_LEFT=0,t.DIRECTION_UP=1,t.DIRECTION_RIGHT=2,t.DIRECTION_DOWN=3,t.INVALIDE_VALUE=-1,t.ZERO=5e-4,t.EQUAL=0,t.BIGGER=1,t.SMALLER=2,t.ORITATION_AUTO=0,t.ORITATION_PORTRAIT=1,t.ORITATION_LANDSCAPE=2,t.PLATFORM_ORIGNAL=0,t.PLATFORM_WECHAT=1,t.PLATFORM_TIKTOK=2,t.PLATFORM_ANDROID=3,t.PLATFORM_GOOGLE=4,t.PLATFORM_TYPE=0,t.SERVER_IP="http://127.0.0.1",t.SERVER_PORT="8080",t.LOGIN_SERVER_LET="MedicalGame/OperationServlet",t.GAME_MODEL=1,t.USER_NAME="",t.PASSWORD="",t.CURRENT_CHECK_INFO="",t.SAY_NOTING_ID=-1,t.BEFORE_STORY_SHOW_NPC=1,t.BEFORE_STORY_SHOW_NPC_FINISH=2,t.BEFORE_STORY_SHOW_TIPS=3,t.BEFORE_STORY_SHOW_TIPS_FINISH=4,t.WAIT_STORY_CHECK_RESULT=5,t.WAIT_STORY_CHECK_RESULT_FINISH=6,t.AFTER_STORY_FINISH_TIPS=7,t.AFTER_STORY_FINISH_TIPS_FINISH=8,t.AFTER_STORY_FINISH_NPC=9,t.AFTER_STORY_FINISH_NPC_FINISH=10,t.FINISH_STORY=11,t.FINISH_STORY_FINISH=12,t.STORY_STEP_DESCRIPTION=["\u5267\u60c5\u6b65\u9aa41:\u6267\u884c\u89d2\u8272\u52a8\u4f5c","\u5267\u60c5\u6b65\u9aa42:\u5f39\u51fa\u63d0\u793a\u9762\u677f","\u5267\u60c5\u6b65\u9aa43:\u68c0\u6d4b\u5267\u60c5\u7ed3\u679c","\u5267\u60c5\u6b65\u9aa44:\u6e05\u7406\u63d0\u793a\u9762\u677f","\u5267\u60c5\u6b65\u9aa45:\u7ed3\u675f\u89d2\u8272\u52a8\u4f5c","\u5267\u60c5\u6b65\u9aa46:\u7ed3\u675f\u5f53\u524d\u5267\u60c5"],t.SCENE_HOME=0,t.SCENE_SUPERMARKET=1,t.SCENE_KINDERGARTEN=2,t}();n.ConstDefine=o;var c=function(){function t(){}return t.isEqual=function(t,e,n){return Math.abs(t-e)<=n},t.comprareTo=function(t,e,n){return void 0===n&&(n=o.ZERO),Math.abs(t-e)<=n?o.EQUAL:t>e?o.BIGGER:o.SMALLER},t.getDistancePoint=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.getDistancePointXY=function(t,e,n,o){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-o,2))},t.getNodePositionDiff=function(t,e){var n=t.getNodeToWorldTransformAR(),o=n.tx,c=n.ty,i=e.getNodeToWorldTransformAR(),r=i.tx,l=i.ty;return cc.v2(r-o,l-c)},t.isPointInRect=function(e,n,c,i,r){return void 0===r&&(r=o.ZERO),t.comprareTo(e.x,n.x-c/2,r)===o.BIGGER&&t.comprareTo(e.x,n.x+c/2,r)===o.SMALLER&&t.comprareTo(e.y,n.y-i/2,r)===o.BIGGER&&t.comprareTo(e.y,n.y+i/2,r)===o.SMALLER},t.getRandomRange=function(t,e){return Math.floor(Math.random()*e)%(e-t)+t},t}();n.CommonUtils=c;var i=function(){function t(){}return t.addMoveEvent=function(t){null!=t&&null!=t?t.on(cc.Node.EventType.TOUCH_MOVE,function(e){var n=e.getDelta(),o=t.position.add(n);t.position=o}):console.error("Are you sure try to add move event on a nil node?")},t.addEndEvent=function(t,e,n,o,c){null!=t&&null!=t?t.on(cc.Node.EventType.TOUCH_END,function(){var i=e.x,r=e.y,l=e.width,a=e.height;t.x>i-l/2&&t.x<i+l/2&&t.y>r-a/2&&t.y<r+a/2&&n?("function"==typeof o&&o(),t.active=!1):"function"==typeof c&&c()}):console.error("Are you sure try to add move end event on a nil node?")},t}();n.OperationUtils=i;var r=function(){function t(){}return t.clickScale=function(t,e,n,o){void 0===o&&(o=null),null!=t&&null!=t?t.runAction(cc.sequence(cc.scaleTo(n/2,e,e),cc.scaleTo(n/2,1,1),cc.callFunc(function(){"function"==typeof o&&o()}))):"function"==typeof o&&o()},t.sequenceAnimation=function(t,e,n,o,c){if(void 0===o&&(o=.05),null!=t&&null!=t){var i=0;t.runAction(cc.repeat(cc.sequence(cc.callFunc(function(){if(++i<=n){var o=e+"_"+i;t.getComponent(cc.Sprite).spriteFrame=o}else"function"==typeof c&&c()}),cc.delayTime(o)),n+1))}else"function"==typeof c&&c()},t}();n.AnimationUtils=r;var l=function(){function t(){}return t.showSystemInfo=function(){o.PLATFORM_TYPE==o.PLATFORM_WECHAT&&cc.sys.dump()},t.startDynamicDrawcallBatch=function(){o.PLATFORM_TYPE==o.PLATFORM_WECHAT&&(cc.macro.CLEANUP_IMAGE_CACHE=!1,cc.dynamicAtlasManager.enabled=!0,cc.dynamicAtlasManager.maxFrameSize=1024)},t}();n.SystemUtils=l;var a=function(){function t(){}return t.getResolutionSize=function(){return cc.view.getFrameSize()},t.getVisibleSize=function(){return cc.view.getVisibleSize()},t.setOritation=function(t){switch(t){case o.ORITATION_PORTRAIT:cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT);break;case o.ORITATION_LANDSCAPE:cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE);break;case o.ORITATION_AUTO:default:cc.view.setOrientation(cc.macro.ORIENTATION_AUTO)}},t}();n.DeviceUtils=a;var s=function(){function t(){}return t.IS_DEBUG=!1,t}();n.DebugUtils=s;var u=function(){function t(){}return t.getCurrentStamp=function(){return cc.sys.now()},t}();n.TimeUtils=u;var p=function(){function t(){}return t.encrypt=function(t){return t},t.decrypt=function(t){return t},t}();n.EncryptUtils=p;var d=function(){function t(){}return t.write=function(t,e){var n=e;cc.sys.localStorage.setItem(t,n)},t.read=function(t){return cc.sys.localStorage.getItem(t)},t}();n.DataStorageUtils=d,cc._RF.pop()},{}],DataSystem:[function(t,e,n){"use strict";cc._RF.push(e,"8e98fgHK3RISKWmVyMjNBXV","DataSystem"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./NetUtils"),c=function(){function t(){}return t.saveScore=function(t,e,n){var c={operationCode:7,point:t};o.default.requestOnPost(c,function(){console.log("\u6b63\u786e:\u79ef\u5206\u4fdd\u5b58\u6210\u529f\uff01"),"function"==typeof e&&e()},function(t){if(console.log("\u9519\u8bef:\u79ef\u5206\u4fdd\u5b58\u5931\u8d25\uff01"),"function"==typeof n){var e={errorMsg:t.errorMsg};n(e)}})},t.queryScore=function(t,e){o.default.requestOnPost({operationCode:9},function(e){if(console.log("\u6b63\u786e:\u79ef\u5206\u8bf7\u6c42\u6210\u529f\uff01"),"function"==typeof t){var n={point:e.point};t(n)}},function(t){if(console.log("\u9519\u8bef:\u79ef\u5206\u8bf7\u6c42\u5931\u8d25\uff01"),"function"==typeof e){var n={errorMsg:t.errorMsg};e(n)}})},t}();n.default=c,cc._RF.pop()},{"./NetUtils":"NetUtils"}],GameProgress:[function(t,e,n){"use strict";cc._RF.push(e,"fc9b4V8kZZPbbosc8Y5xJk/","GameProgress"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./NetUtils"),c=function(){function t(){}return t.saveProgress=function(t,e,n){var c={operationCode:11,status:t};o.default.requestOnPost(c,function(){console.log("\u6b63\u786e:\u8fdb\u5ea6\u4fdd\u5b58\u6210\u529f\uff01"+t),"function"==typeof e&&e()},function(e){if(console.log("\u9519\u8bef:\u8fdb\u5ea6\u4fdd\u5b58\u5931\u8d25\uff01"+t),"function"==typeof n){var o={errorMsg:e.errorMsg};n(o)}})},t.queryProgress=function(t,e){o.default.requestOnPost({operationCode:13},function(e){if(console.log("\u6b63\u786e:\u8fdb\u5ea6\u8bf7\u6c42\u6210\u529f\uff01"),"function"==typeof t){var n={progress:e.status};t(n)}},function(t){if(console.log("\u9519\u8bef:\u8fdb\u5ea6\u8bf7\u6c42\u5931\u8d25\uff01"),"function"==typeof e){var n={errorMsg:t.errorMsg};e(n)}})},t}();n.default=c,cc._RF.pop()},{"./NetUtils":"NetUtils"}],HomeScene:[function(t,e,n){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","HomeScene");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Tables/TableSystem"),l=t("./Utils/CommonUtils"),a=t("./NetUtils/NetUtils"),s=t("./Prefabs/TipsPanel"),u=t("./Utils/Story"),p=t("./NetUtils/GameProgress"),d=t("./Prefabs/PlaySound"),f=cc._decorator,y=f.ccclass,h=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loginPanel=null,e.accountEdit=null,e.passwordEdit=null,e.bear=null,e.showPanel=null,e.tipsPanel=null,e.isStart=!1,e.isOperate=!1,e.NPCNodes=[],e.audios=[],e.playSound=null,e}return c(e,t),e.prototype.start=function(){var t=this;r.default.getInstance(),this.scheduleOnce(function(){var e=cc.find("PlaySound");cc.game.addPersistRootNode(e),e.getComponent(d.default).initSoundRes(),u.default.getInstance().initScene(t,t.NPCNodes,t.tipsPanel),t.showLoginLogic()},2)},e.prototype.onRegister=function(){var t=this;if(this.isStart&&this.isOperate){if(""==this.accountEdit.string||""==this.passwordEdit.string)return cc.log("\u8d26\u53f7\u548c\u5bc6\u7801\u4e0d\u80fd\u7a7a\uff01"),void this.tipsPanel.getComponent(s.default).showTips("\u9519\u8bef","\u8d26\u53f7\u548c\u5bc6\u7801\u4e0d\u80fd\u7a7a\uff01",function(){t.scheduleOnce(t.hideTipsPanelInfo,3)});var e=this,n={operationCode:1,userName:this.accountEdit.string,password:this.passwordEdit.string};l.ConstDefine.USER_NAME=this.accountEdit.string,l.ConstDefine.PASSWORD=this.passwordEdit.string,a.default.requestOnPost(n,function(){console.log("register name : "+l.ConstDefine.USER_NAME+", pwd : "+l.ConstDefine.PASSWORD),e.loginFinish(function(){u.default.getInstance().showStory(5)})},function(){})}else this.tipsPanel.getComponent(s.default).showTips("\u9519\u8bef","\u6e38\u620f\u521d\u59cb\u5316\u4e2d\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01",function(){t.scheduleOnce(t.hideTipsPanelInfo,3)})},e.prototype.hideTipsPanelInfo=function(){cc.find("Canvas/TipsPanel").getComponent(s.default).hideTips(function(){})},e.prototype.onLogin=function(){var t=this;if(this.isStart&&this.isOperate){if(""==this.accountEdit.string||""==this.passwordEdit.string)return cc.log("\u8d26\u53f7\u548c\u5bc6\u7801\u4e0d\u80fd\u7a7a\uff01"),void this.tipsPanel.getComponent(s.default).showTips("\u9519\u8bef","\u8d26\u53f7\u548c\u5bc6\u7801\u4e0d\u80fd\u7a7a\uff01",function(){t.scheduleOnce(t.hideTipsPanelInfo,3)});var e=this,n={operationCode:3,userName:this.accountEdit.string,password:this.passwordEdit.string};l.ConstDefine.USER_NAME=this.accountEdit.string,l.ConstDefine.PASSWORD=this.passwordEdit.string,a.default.requestOnPost(n,function(){console.log("login name : "+l.ConstDefine.USER_NAME+", pwd : "+l.ConstDefine.PASSWORD),e.loginFinish(function(){p.default.queryProgress(function(t){if(""==t.progress)u.default.getInstance().showStory(5);else{var e=t.progress,n=e.scene,o=e.story;switch(n){case l.ConstDefine.SCENE_HOME:u.default.getInstance().showStory(o);break;case l.ConstDefine.SCENE_SUPERMARKET:cc.director.loadScene("EAT");break;case l.ConstDefine.SCENE_KINDERGARTEN:cc.director.loadScene("KindergartenScene");break;default:o.getInstance().showStory(o)}}},function(){u.default.getInstance().showStory(5)})})},function(){})}else this.tipsPanel.getComponent(s.default).showTips("\u9519\u8bef","\u6e38\u620f\u521d\u59cb\u5316\u4e2d\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01",function(){t.scheduleOnce(t.hideTipsPanelInfo,3)})},e.prototype.loginFinish=function(t){this.isOperate=!1,this.loginPanel.runAction(cc.sequence(cc.delayTime(.5),cc.moveTo(1,new cc.Vec2(l.DeviceUtils.getVisibleSize().width,0)),cc.callFunc(function(){"function"==typeof t&&t()})))},e.prototype.showLoginLogic=function(){var t=this;this.loginPanel.runAction(cc.sequence(cc.delayTime(.5),cc.moveTo(1,new cc.Vec2(0,0)),cc.callFunc(function(){t.isStart=!0,t.isOperate=!0})))},e.prototype.playTipAudio=function(t){var e=cc.find("AudioLayer/"+t);null!=e&&null!=e&&cc.audioEngine.play(e.getComponent(cc.AudioSource).clip,!1,1)},i([h(cc.Node)],e.prototype,"loginPanel",void 0),i([h(cc.EditBox)],e.prototype,"accountEdit",void 0),i([h(cc.EditBox)],e.prototype,"passwordEdit",void 0),i([h(cc.Node)],e.prototype,"bear",void 0),i([h(cc.Node)],e.prototype,"showPanel",void 0),i([h(cc.Node)],e.prototype,"tipsPanel",void 0),i([h([cc.Node])],e.prototype,"NPCNodes",void 0),i([h([cc.Node])],e.prototype,"audios",void 0),i([h(cc.Node)],e.prototype,"playSound",void 0),i([y],e)}(cc.Component);n.default=_,cc._RF.pop()},{"./NetUtils/GameProgress":"GameProgress","./NetUtils/NetUtils":"NetUtils","./Prefabs/PlaySound":"PlaySound","./Prefabs/TipsPanel":"TipsPanel","./Tables/TableSystem":"TableSystem","./Utils/CommonUtils":"CommonUtils","./Utils/Story":"Story"}],Home:[function(t,e,n){"use strict";cc._RF.push(e,"8f052jEyTlFCJiD12tionLo","Home");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),l=t("./superBear"),a=cc._decorator,s=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.child=null,e.tips=null,e.door=null,e.elevator=null,e.currentStoryId=-1,e}return c(e,t),e.prototype.start=function(){var t=this;r.default.getInstance(),this.child.getComponent(l.default).walkTo(3,new cc.Vec2(350,-530),function(){t.child.getComponent(l.default).walkTo(3,new cc.Vec2(350,-250),function(){t.door.active=!1,t.node.runAction(cc.sequence(cc.callFunc(function(){t.child.opacity=0,t.child.getComponent(l.default).walkTo(.1,new cc.Vec2(-1500,-500),function(){})}),cc.delayTime(1),cc.callFunc(function(){t.child.opacity=255,t.child.getComponent(l.default).walkTo(3,new cc.Vec2(600,-500),function(){t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),t.scheduleOnce(function(){t.runtalk()},2)})})))})})},e.prototype.runtalk=function(){var t=this;this.child.getComponent(l.default).walkTo(2,new cc.Vec2(300,-500),function(){}),this.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),this.elevator.active=!1,this.child.getComponent(l.default).talk(1027,function(){},function(){t.child.stopAllActions(),t.scheduleOnce(function(){cc.director.loadScene("KindergartenScene")})})},i([u(cc.Node)],e.prototype,"child",void 0),i([u(cc.Node)],e.prototype,"tips",void 0),i([u(cc.Node)],e.prototype,"door",void 0),i([u(cc.Node)],e.prototype,"elevator",void 0),i([s],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem","./superBear":"superBear"}],KS_Bird:[function(t,e,n){"use strict";cc._RF.push(e,"83716kXWP9CNoc1Mt8w+1c9","KS_Bird");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Object/BaseObject"),l=t("../Tables/TableSystem"),a=cc._decorator,s=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.fly=function(t,e,n){this.node.runAction(cc.moveTo(n,new cc.Vec2(t,e)))},e.prototype.flyOut=function(){this.node.runAction(cc.moveTo(0,new cc.Vec2(-440,400)))},e.prototype.talk=function(t){var e=this;if(-1==t)return this.wordPanel.active=!1,void(this.word.string="");var n=l.default.getInstance().getStoryById(t);null!=n?this.node.runAction(cc.sequence(cc.callFunc(function(){e.wordPanel.active=!0,e.word.string=n.m_Word}),cc.delayTime(n.m_Time),cc.callFunc(function(){e.wordPanel.active=!1,e.word.string=""}),cc.callFunc(function(){-1==n.m_Next&&1==n.m_IsBirdFly&&e.node.runAction(cc.callFunc(function(){e.flyOut()}))}))):cc.log("Can`t find StoryID")},i([u(cc.Node)],e.prototype,"wordPanel",void 0),i([u(cc.Label)],e.prototype,"word",void 0),i([s],e)}(r.default);n.default=p,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Tables/TableSystem":"TableSystem"}],KS_ChoosePanel:[function(t,e,n){"use strict";cc._RF.push(e,"4aa3b6uRopGnqRf4JwU7YNe","KS_ChoosePanel");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./KindergartenScene"),l=t("./KS_Player"),a=cc._decorator,s=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e.player=null,e}return c(e,t),e.prototype.start=function(){this.player=cc.find("Player"),null==this.player&&console.log("\u73a9\u5bb6\u672a\u6210\u529f\u52a0\u8f7d")},e.prototype.show=function(t,e,n){void 0===t&&(t=-700),void 0===e&&(e=800),void 0===n&&(n=0),this.node.x=t,this.node.y=e,this.node.runAction(cc.moveTo(1,new cc.Vec2(this.node.x,n)))},e.prototype.unShow=function(t,e,n){void 0===t&&(t=1200),void 0===e&&(e=0),void 0===n&&(n=null),this.node.runAction(cc.sequence(cc.moveTo(1,new cc.Vec2(t,e)),cc.callFunc(function(){"function"==typeof n&&n()})))},e.prototype.scene_1_OK=function(){},e.prototype.scene_1_Cancel=function(){},e.prototype.scene_2_Right=function(){},e.prototype.scene_2_Wrong=function(){},e.prototype.scene_4_Check=function(){},e.prototype.scene_6_1_Check=function(){cc.log("\u5c0f\u670b\u53cb\u6267\u884c\u5237\u5361/\u6295\u786c\u5e01/\u7eb8\u5e01\u4e09\u8005\u52a8\u4f5c\u4e4b\u4e00"),this.main.getComponent(r.default).runScene_6_2()},e.prototype.scene_6_2_OK=function(){this.unShow(),this.main.getComponent(r.default).runScene_6_4()},e.prototype.scene_6_2_NO=function(){},e.prototype.scene_8_Check=function(t,e){var n=this;this.unShow();var o,c,i=cc.find("KindergartenScene/Scene8/Singer"),a=cc.find("teacher"),s=cc.find("KindergartenScene/Scene8/ChoosePanel_8/mp3_1").getComponent(cc.AudioSource).clip,u=cc.find("KindergartenScene/Scene8/ChoosePanel_8/mp3_2").getComponent(cc.AudioSource).clip,p=cc.find("KindergartenScene/Scene8/ChoosePanel_8/mp3_3").getComponent(cc.AudioSource).clip;switch(cc.log("\u5408\u5531\u5bf9\u5e94\u66f2\u76ee\u3002"),e){case 1:case"1":o=s,c=25;break;case 2:case"2":o=u,c=27;break;case 3:case"3":o=p,c=35;break;default:cc.log("scene_8_Check music \u52a0\u8f7d\u51fa\u9519\uff01")}this.node.runAction(cc.sequence(cc.callFunc(function(){i.runAction(cc.moveTo(2,new cc.Vec2(i.x,-168))),n.player.getComponent(l.default).walk(1160,25,2)}),cc.delayTime(2),cc.callFunc(function(){n.main.getComponent(r.default).bgmShutdown(),cc.audioEngine.play(o,!1,1)}),cc.delayTime(c),cc.callFunc(function(){a.x=-1e3,n.main.getComponent(r.default).bgmStart(),n.main.getComponent(r.default).runScene_10_1()})))},e.prototype.scene_11_Right=function(){},e.prototype.scene_11_Wrong=function(){},i([u(cc.Node)],e.prototype,"main",void 0),i([s],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./KS_Player":"KS_Player","./KindergartenScene":"KindergartenScene"}],KS_Guard:[function(t,e,n){"use strict";cc._RF.push(e,"06d0c5cy9xO75FUyH00z6yM","KS_Guard");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Object/BaseObject"),l=t("../Prefabs/PlaySound"),a=t("../Tables/TableSystem"),s=cc._decorator,u=s.ccclass,p=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e.playSound=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){}),this.playSound=cc.find("PlaySound")},e.prototype.talk=function(t,e){var n=this;if(-1==t)return this.wordPanel.active=!1,void(this.word.string="");var o=a.default.getInstance().getStoryById(t);null!=o?this.node.runAction(cc.sequence(cc.callFunc(function(){n.wordPanel.active=!0,n.word.string=o.m_Word}),cc.delayTime(this.playSound.getComponent(l.default).playSound(t)),cc.callFunc(function(){n.wordPanel.active=!1,n.word.string="","function"==typeof e&&(cc.log("KS_Player.talk \u6267\u884c\u56de\u8c03!"),e(o))}))):cc.log("Can`t find StoryID")},e.prototype.waveHand=function(){cc.log("\u6267\u884c\u6325\u624b\u52a8\u4f5c")},i([p(cc.Node)],e.prototype,"wordPanel",void 0),i([p(cc.Label)],e.prototype,"word",void 0),i([u],e)}(r.default);n.default=d,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem"}],KS_ISContinue:[function(t,e,n){"use strict";cc._RF.push(e,"d6370XOrvtHKoIId5dcEn0W","KS_ISContinue");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,l=r.ccclass,a=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e.title=null,e.description=null,e.YesCallback=null,e.NoCallback=null,e}return c(e,t),e.prototype.start=function(){},e.prototype.show=function(t,e,n,o){this.title.string=t,this.description.string=e,"function"==typeof n&&"function"==typeof o&&(this.YesCallback=n,this.NoCallback=o),this.node.runAction(cc.moveTo(1,new cc.Vec2(this.node.x,320)))},e.prototype.Yes=function(){console.log("\u8df3\u8fc7\u5f53\u524d\u573a\u666f\u68c0\u6d4b!"),this.node.y=960,"function"==typeof this.YesCallback&&this.YesCallback()},e.prototype.No=function(){console.log("\u91cd\u65b0\u5f00\u59cb\u5f53\u524d\u573a\u666f!"),this.node.y=960,"function"==typeof this.NoCallback&&this.NoCallback()},i([a(cc.Node)],e.prototype,"main",void 0),i([a(cc.Label)],e.prototype,"title",void 0),i([a(cc.Label)],e.prototype,"description",void 0),i([l],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],KS_Lights:[function(t,e,n){"use strict";cc._RF.push(e,"12f8fGTR4tD+pBPF6yb1U/9","KS_Lights");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Utils/CommonUtils"),l=t("../Tables/TableSystem"),a=t("../Object/BaseObject"),s=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.red=null,e.yellow=null,e.green=null,e.wordPanel=null,e.word=null,e.playSound=null,e}return c(e,t),e.prototype.start=function(){this.shutdown(),this.playSound=cc.find("PlaySound")},e.prototype.shutdown=function(){this.red.active=!1,this.yellow.active=!1,this.green.active=!1,this.wordPanel.active=!1},e.prototype.light=function(t){this.type=0==r.CommonUtils.getRandomRange(0,2)?0:2,this.storyID=t,this.lightIt()},e.prototype.lightIt=function(){var t=this,e=l.default.getInstance().getStoryById(this.storyID+this.type);if(null!=e){switch(this.shutdown(),this.type){case 0:this.red.active=!0;break;case 1:this.yellow.active=!0;break;case 2:this.green.active=!0}this.node.runAction(cc.sequence(cc.callFunc(function(){t.word.string=e.m_Word,t.wordPanel.active=!0}),cc.delayTime(this.playSound.getComponent(s.default).playSound(this.storyID+this.type)),cc.callFunc(function(){t.wordPanel.active=!1})))}else cc.log("Lights::tabStory == NULL ID =",this.storyID+this.type)},e.prototype.getType=function(){return this.type},e.prototype.lightByType=function(t){return(0==t||2==t)&&(this.type=t,this.lightIt(),!0)},e.prototype.btnCheck=function(t,e){switch(this.type){case 0:return 2==e?this.checkSuccess():this.checkFalse("\u73b0\u5728\u662f\u7ea2\u706f\u54e6\uff0c\u4e0d\u53ef\u4ee5\u8fc7\uff01");case 1:return 4==e?this.checkSuccess():this.checkFalse("\u73b0\u5728\u662f\u9ec4\u706f\uff0c\u9700\u8981\u518d\u7b49\u7b49\uff01");case 2:return 5==e?this.checkSuccess():this.checkFalse("\u73b0\u5728\u662f\u7eff\u706f\uff0c\u662f\u53ef\u4ee5\u8fc7\u7684\uff01")}},e.prototype.checkSuccess=function(){var t=this;return this.node.runAction(cc.sequence(cc.callFunc(function(){t.word.string="\u7b54\u5bf9\u5566\uff0c\u4f60\u771f\u68d2\uff01",t.wordPanel.active=!0}),cc.delayTime(2),cc.callFunc(function(){t.wordPanel.active=!1}))),!0},e.prototype.checkFalse=function(t){var e=this;return this.node.runAction(cc.sequence(cc.callFunc(function(){e.word.string=t,e.wordPanel.active=!0}),cc.delayTime(2),cc.callFunc(function(){e.wordPanel.active=!1}))),!1},i([d(cc.Node)],e.prototype,"red",void 0),i([d(cc.Node)],e.prototype,"yellow",void 0),i([d(cc.Node)],e.prototype,"green",void 0),i([d(cc.Node)],e.prototype,"wordPanel",void 0),i([d(cc.Label)],e.prototype,"word",void 0),i([p],e)}(a.default);n.default=f,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils"}],KS_Player:[function(t,e,n){"use strict";cc._RF.push(e,"13775B8HpNKv7r5aNAE9qgY","KS_Player");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),l=t("../Object/BaseObject"),a=t("../Prefabs/PlaySound"),s=cc._decorator,u=s.ccclass,p=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e.player=null,e.playerDisplay=null,e.playSound=null,e}return c(e,t),e.prototype.start=function(){this.playerDisplay=this.player.getComponent(dragonBones.ArmatureDisplay),this.playSound=cc.find("PlaySound"),null==this.playerDisplay&&console.log("player\u9f99\u9aa8\u52a8\u753b\u52a0\u8f7d\u5931\u8d25\uff01"),this.talk(-1,function(){})},e.prototype.talk=function(t,e){var n=this;if(-1==t)return this.wordPanel.active=!1,void(this.word.string="");var o=r.default.getInstance().getStoryById(t);null!=o?this.node.runAction(cc.sequence(cc.callFunc(function(){n.wordPanel.active=!0,n.word.string=o.m_Word}),cc.delayTime(this.playSound.getComponent(a.default).playSound(t)),cc.callFunc(function(){n.wordPanel.active=!1,n.word.string="","function"==typeof e&&(cc.log("KS_Player.talk \u6267\u884c\u56de\u8c03!"),e(o))}))):cc.log("Can`t find StoryID")},e.prototype.distalk=function(){this.wordPanel.active=!1,this.word.string=""},e.prototype.walk=function(t,e,n){var o=this;this.node.runAction(cc.sequence(cc.callFunc(function(){o.node.x<=t?o.player.scaleX=-1:o.player.scaleX=1,o.player.stopAllActions(),o.playerDisplay.playAnimation("walk",0)}),cc.moveTo(n,new cc.Vec2(t,e)),cc.callFunc(function(){o.playerDisplay.playAnimation("stand",0)})))},e.prototype.turnFace=function(){this.player.scaleX*=-1},e.prototype.setLoc=function(t,e){this.node.x=t,this.node.y=e},e.prototype.resetLoc=function(){this.node.x=-100,this.node.y=0},e.prototype.pushButton=function(){this.playerDisplay.playAnimation("atc",1)},e.prototype.sleep=function(){console.log("\u7761\u89c9")},e.prototype.sing=function(){console.log("\u5531\u6b4c")},e.prototype.sitdown=function(){console.log("\u5750\u4e0b")},e.prototype.drinkWater=function(){console.log("\u559d\u6c34")},e.prototype.waveHand=function(){console.log("\u6325\u624b")},e.prototype.handShake=function(){console.log("\u5c0f\u670b\u53cb\u63e1\u624b\u3002")},e.prototype.eating=function(){console.log("\u64ad\u653e\u5403\u996d\u52a8\u753b\uff0c\u6301\u7eed3s\u3002")},e.prototype.embrace=function(){console.log("\u5c0f\u670b\u53cb\u62e5\u62b1\u3002")},e.prototype.nod=function(){console.log("\u5c0f\u670b\u53cb\u70b9\u5934\u3002")},i([p(cc.Node)],e.prototype,"wordPanel",void 0),i([p(cc.Label)],e.prototype,"word",void 0),i([p(cc.Node)],e.prototype,"player",void 0),i([u],e)}(l.default);n.default=d,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem"}],KS_Singer:[function(t,e,n){"use strict";cc._RF.push(e,"8b8adKj29FHwIU6onASCZD+","KS_Singer");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Object/BaseObject"),l=cc._decorator,a=l.ccclass,s=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return c(e,t),e.prototype.start=function(){},i([s(cc.Label)],e.prototype,"label",void 0),i([s],e.prototype,"text",void 0),i([a],e)}(r.default);n.default=u,cc._RF.pop()},{"../Object/BaseObject":"BaseObject"}],KS_Teacher:[function(t,e,n){"use strict";cc._RF.push(e,"cc09c7FVLtAL6UOFBopbyT3","KS_Teacher");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Object/BaseObject"),l=t("../Prefabs/PlaySound"),a=t("../Tables/TableSystem"),s=cc._decorator,u=s.ccclass,p=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e.playSound=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){}),this.playSound=cc.find("PlaySound")},e.prototype.talk=function(t){var e=this;if(-1==t)return this.wordPanel.active=!1,void(this.word.string="");var n=a.default.getInstance().getStoryById(t);null!=n?this.node.runAction(cc.sequence(cc.callFunc(function(){e.wordPanel.active=!0,e.word.string=n.m_Word}),cc.delayTime(this.playSound.getComponent(l.default).playSound(t)),cc.callFunc(function(){e.wordPanel.active=!1,e.word.string=""}))):cc.log("Can`t find StoryID")},e.prototype.walk=function(t,e,n){this.node.runAction(cc.moveTo(n,new cc.Vec2(t,e)))},e.prototype.setLoc=function(t,e){this.node.x=t,this.node.y=e},i([p(cc.Node)],e.prototype,"wordPanel",void 0),i([p(cc.Label)],e.prototype,"word",void 0),i([u],e)}(r.default);n.default=d,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem"}],KS_TipsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"56e87tHw+ZAD7GLJFcbWJE5","KS_TipsPanel");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),l=cc._decorator,a=l.ccclass,s=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.description=null,e.m_0x01_1=null,e.m_0x01_2=null,e.m_0x01_3=null,e.m_0x01_4=null,e.m_0x01_5=null,e.m_0x01_6=null,e.m_0x01_7=null,e.m_0x01_8=null,e.m_0x02_1=null,e.m_0x02_2=null,e.m_0x02_3=null,e.m_0x02_4=null,e.m_0x02_5=null,e}return c(e,t),e.prototype.start=function(){},e.prototype.show=function(t,e,n){var o=this;if(-1!=t){this.setLoc(e);var c=r.default.getInstance().getStoryById(t);null!=c?(this.title.string=c.m_Title,this.description.string=c.m_Word,this.node.runAction(cc.sequence(cc.moveTo(.5,new cc.Vec2(this.node.x,150)),cc.delayTime(.5),cc.callFunc(function(){var t=o.chooseSound(c.m_CheckType,c.m_CheckTargetId);null!=t?cc.audioEngine.play(t,!1,1):cc.log("sound is NULL!!!")}),cc.delayTime(c.m_Time),cc.delayTime(1),cc.callFunc(function(){"function"==typeof n?(cc.log("KS_TipsPanel::show \u6267\u884c\u56de\u8c03!"),n(c)):o.unshow()})))):cc.log("Can`t find StoryID")}},e.prototype.setLoc=function(t,e){void 0===e&&(e=0),this.node.x=t,this.node.y=e},e.prototype.unshow=function(){this.node.runAction(cc.moveTo(.5,new cc.Vec2(this.node.x,-150)))},e.prototype.chooseSound=function(t,e){switch(t){case"0x01":switch(e){case"1":case 1:return this.m_0x01_1;case"2":case 2:return this.m_0x01_2;case"3":case 3:return this.m_0x01_3;case"4":case 4:return this.m_0x01_4;case"5":case 5:return this.m_0x01_5;case"6":case 6:return this.m_0x01_6;case"7":case 7:return this.m_0x01_7;case"8":case 8:return this.m_0x01_8;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x01 StatusId: ",e),null}case"0x02":switch(e){case"1":case 1:return this.m_0x02_1;case"2":case 2:return this.m_0x02_2;case"3":case 3:return this.m_0x02_3;case"4":case 4:return this.m_0x02_4;case"5":case 5:return this.m_0x02_5;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x02 StatusId: ",e),null}default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR AlgorithmId: ",t),null}},i([s(cc.Label)],e.prototype,"title",void 0),i([s(cc.Label)],e.prototype,"description",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_1",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_2",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_3",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_4",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_5",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_6",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_7",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_8",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_1",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_2",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_3",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_4",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_5",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem"}],KindergartenScene:[function(t,e,n){"use strict";cc._RF.push(e,"0c9ccgBRhdBj6+bC5xMnqHn","KindergartenScene");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../KS/KS_Player"),l=t("../KS/KS_ChoosePanel"),a=t("../Tables/TableSystem"),s=t("../Utils/CommonUtils"),u=t("../KS/KS_Lights"),p=t("./KS_TipsPanel"),d=t("./KS_Guard"),f=t("./KS_Teacher"),y=t("../Object/BaseObject"),h=t("../NetUtils/CheckSystem"),_=t("../NetUtils/GameProgress"),g=t("../Prefabs/PlaySound"),m=cc._decorator,S=m.ccclass,v=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bird=null,e.player=null,e.tipPanel=null,e.guard=null,e.teacher=null,e.signer=null,e.bgm=null,e.choosePanel_1=null,e.choosePanel_4=null,e.choosePanel_6_1=null,e.choosePanel_6_2=null,e.choosePanel_8=null,e.lights=null,e.bus=null,e.ISContinue=null,e.scene1=null,e.scene2=null,e.scene3=null,e.scene4=null,e.scene5=null,e.scene6=null,e.scene7=null,e.scene8=null,e.scene9=null,e.scene10=null,e.scene11=null,e.scene12=null,e.isCheck=!0,e.playSound=null,e.times=0,e}return c(e,t),e.prototype.start=function(){this.scene=[this.scene1,this.scene2,this.scene3,this.scene4,this.scene5,this.scene6,this.scene7,this.scene8,this.scene9,this.scene10,this.scene11,this.scene12],this.checkpoint=[2002,2003,2004,2010,2012,2021,2023,2024,2011,2029],this.playSound=cc.find("PlaySound"),this.bgmStart(),this.isCheck?this.readRecord():this.runScene_1_1()},e.prototype.jumpToScene=function(t){switch(t){case this.checkpoint[0]:this.runScene_2_1();break;case this.checkpoint[1]:this.runScene_3_1();break;case this.checkpoint[2]:this.runScene_4_1();break;case this.checkpoint[3]:this.runScene_5_1();break;case this.checkpoint[4]:this.runScene_6_1();break;case this.checkpoint[5]:this.runScene_7_1();break;case this.checkpoint[6]:this.runScene_8_1();break;case this.checkpoint[7]:this.runScene_10_1();break;case this.checkpoint[8]:this.runScene_11_1();break;case this.checkpoint[9]:this.runScene_12_1();break;default:this.runScene_1_1()}},e.prototype.readRecord=function(){var t=this;_.default.queryProgress(function(e){if(""==e.progress)t.runScene_1_1();else{var n=e.progress.story;t.jumpToScene(n)}},function(){t.runScene_1_1()})},e.prototype.saveRecord=function(t,e){void 0===e&&(e=2);var n={scene:e,story:t.m_ID};_.default.saveProgress(JSON.stringify(n),function(){},function(){})},e.prototype.bgmStart=function(){this.backgroundMusic=cc.audioEngine.play(this.bgm,!0,1)},e.prototype.bgmShutdown=function(){cc.audioEngine.stop(this.backgroundMusic)},e.prototype.checkScene=function(t){this.scene1.active=!1,this.scene2.active=!1,this.scene3.active=!1,this.scene4.active=!1,this.scene5.active=!1,this.scene6.active=!1,this.scene7.active=!1,this.scene8.active=!1,this.scene9.active=!1,this.scene10.active=!1,this.scene11.active=!1,this.scene12.active=!1,this.player.stopAllActions(),this.player.getComponent(r.default).distalk(),t>=1&&t<=12&&(this.scene[--t].active=!0)},e.prototype.runScene_1_1=function(){var t=this;this.checkScene(1),this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).resetLoc(),t.player.getComponent(r.default).walk(650,0,5)}),cc.delayTime(5),cc.callFunc(function(){t.player.getComponent(r.default).eating()}),cc.delayTime(3),cc.callFunc(function(){t.player.getComponent(r.default).talk(2001,null)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2001)+.5),cc.callFunc(function(){t.tipPanel.getComponent(p.default).show(2002,1600,function(e){t.check(e,function(){t.saveRecord(e),t.runScene_2_1()},function(){t.runScene_1_1()})})})))},e.prototype.runScene_2_1=function(){var t=this;this.checkScene(2),this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).setLoc(-100,30),t.player.getComponent(r.default).walk(1450,30,8)}),cc.delayTime(8),cc.callFunc(function(){t.tipPanel.getComponent(p.default).setLoc(260),t.tipPanel.getComponent(p.default).show(2027,300,function(e){t.check(e,function(){t.runScene_2_2()},function(){t.runScene_2_1()})})})))},e.prototype.runScene_2_2=function(){var t=this;this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).pushButton()}),cc.delayTime(2),cc.callFunc(function(){t.player.getComponent(r.default).talk(2003,t.saveRecord)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2003)+.5),cc.callFunc(function(){t.player.getComponent(r.default).walk(2200,t.player.y,3)}),cc.delayTime(3.5),cc.callFunc(function(){t.runScene_3_1()})))},e.prototype.runScene_3_1=function(){var t=this;this.checkScene(3),this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).setLoc(2e3,120),t.player.getComponent(r.default).walk(760,120,6)}),cc.delayTime(6),cc.callFunc(function(){cc.log("\u5927\u5bb6\u8138\u8272\u90fd\u4e0d\u597d\u770b")}),cc.delayTime(1.5),cc.callFunc(function(){t.player.getComponent(r.default).talk(2004,t.saveRecord)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2004)+.5),cc.callFunc(function(){t.runScene_4_1()})))},e.prototype.runScene_4_1=function(){var t=this;this.checkScene(4),this.player.getComponent(r.default).resetLoc(),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.lights.getComponent(u.default).light(2005),t.player.getComponent(r.default).walk(165,0,1.5)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2005)+1),cc.callFunc(function(){t.runScene_4_2()})))},e.prototype.runScene_4_2=function(){var t=this;this.tipPanel.getComponent(p.default).show(2==this.lights.getComponent(u.default).getType()?2008:2009,1600,function(e){t.check(e,function(){0==t.lights.getComponent(u.default).getType()?t.node.runAction(cc.sequence(cc.callFunc(function(){t.lights.getComponent(u.default).lightByType(2)}),cc.delayTime(t.playSound.getComponent(g.default).getSoundResDuration(2007)+.5),cc.callFunc(function(){t.runScene_4_2()}))):t.runScene_4_3()},function(){t.runScene_4_2()})})},e.prototype.runScene_4_3=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.tipPanel.getComponent(p.default).show(2010,1600,function(e){t.check(e,function(){t.saveRecord(e),t.runScene_4_4()},function(){t.runScene_4_3()})})})))},e.prototype.runScene_4_4=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){t.player.getComponent(r.default).walk(410,328,4)}),cc.delayTime(4.5),cc.callFunc(function(){t.runScene_5_1()})))},e.prototype.runScene_5_1=function(){var t=this;this.checkScene(5),this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).setLoc(-100,226),t.player.getComponent(r.default).walk(1088,226,6)}),cc.delayTime(2),cc.callFunc(function(){t.player.getComponent(r.default).talk(2011,null)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2011)+.5),cc.callFunc(function(){t.player.getComponent(r.default).sitdown(),t.player.getComponent(r.default).talk(2012,t.saveRecord)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2012)+.5),cc.callFunc(function(){t.player.getComponent(r.default).talk(2013,null)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2013)+.5),cc.callFunc(function(){t.bus.x=3e3,t.bus.y=340,t.bus.scaleX=1,t.bus.runAction(cc.moveTo(2,1200,t.bus.y))}),cc.delayTime(3),cc.callFunc(function(){t.bus.x=3e3,t.bus.y=340,t.runScene_6_1()})))},e.prototype.runScene_6_1=function(){var t=this;this.checkScene(6);var e=cc.find("KindergartenScene/Scene6/bus/background1"),n=cc.find("KindergartenScene/Scene6/bus/background2");cc.find("KindergartenScene/Scene6/bus/background2/old").active=!1,e.active=!0,n.active=!1,this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).setLoc(726,0)}),cc.delayTime(1),cc.callFunc(function(){t.player.getComponent(r.default).talk(2014,null)})))},e.prototype.runScene_6_2=function(){var t=this,e=cc.find("KindergartenScene/Scene6/bus/background1"),n=cc.find("KindergartenScene/Scene6/bus/background2");e.active=!1,n.active=!0,this.player.getComponent(r.default).setLoc(920,0),this.scene_6_2_Type=s.CommonUtils.getRandomRange(0,2),this.node.runAction(cc.callFunc(function(){t.tipPanel.getComponent(p.default).show(t.scene_6_2_Type+2015,300,function(e){t.check(e,function(){t.runScene_6_3()},function(){t.runScene_6_2()})})}))},e.prototype.runScene_6_3=function(){var t=this,e=cc.find("KindergartenScene/Scene6/bus/background2/old");e.x=92,e.y=-230,0==this.scene_6_2_Type?this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).walk(1430,0,2)}),cc.delayTime(2),cc.callFunc(function(){t.player.getComponent(r.default).walk(1430,277,.3)}),cc.delayTime(.5),cc.callFunc(function(){e.active=!0}),cc.delayTime(1),cc.callFunc(function(){t.choosePanel_6_2.getComponent(l.default).show()}))):this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).walk(1080,0,1)}),cc.delayTime(2),cc.callFunc(function(){t.runScene_6_5()})))},e.prototype.runScene_6_4=function(){var t=this,e=cc.find("KindergartenScene/Scene6/bus/background2/old"),n=cc.find("KindergartenScene/Scene6/bus/background2/old/wordbox");this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).walk(1430,0,.3)}),cc.delayTime(.5),cc.callFunc(function(){t.player.getComponent(r.default).walk(1080,0,2),e.runAction(cc.moveTo(2,new cc.Vec2(508,-230)))}),cc.delayTime(2),cc.callFunc(function(){n.active=!0,t.playSound.getComponent(g.default).playSound(2018)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2018)+.5),cc.callFunc(function(){n.active=!1,t.tipPanel.getComponent(p.default).show(2019,300,function(e){t.check(e,function(){t.runScene_6_5()},function(){t.runScene_6_4()})})})))},e.prototype.runScene_6_5=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){cc.log("\u5e7f\u64ad\uff1a\u4e0b\u4e00\u7ad9\u662f\u76ee\u7684\u5730\uff0c\u8981\u51c6\u5907\u5f80\u540e\u95e8\u79fb\uff0c\u51c6\u5907\u4e0b\u8f66\u4e86")}),cc.delayTime(.5),cc.callFunc(function(){t.player.getComponent(r.default).talk(2021,t.saveRecord)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2021)+.5),cc.callFunc(function(){cc.log("\u5c0f\u670b\u53cb\u6267\u884c\u201c\u8d77\u8eab\u4e0b\u8f66\u201d")}),cc.delayTime(2),cc.callFunc(function(){t.runScene_7_1()})))},e.prototype.runScene_7_1=function(){var t=this;this.checkScene(7),this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).setLoc(50,211),t.player.getComponent(r.default).walk(710,0,3)}),cc.delayTime(3),cc.callFunc(function(){t.player.getComponent(r.default).walk(970,118,2)}),cc.delayTime(3),cc.callFunc(function(){t.tipPanel.getComponent(p.default).show(2022,300,function(e){t.check(e,function(){t.runScene_7_2()},function(){t.runScene_7_1()})})})))},e.prototype.runScene_7_2=function(){var t=this;this.node.runAction(cc.sequence(cc.callFunc(function(){t.guard.getComponent(d.default).talk(2023,t.saveRecord)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2023)+.5),cc.callFunc(function(){t.player.getComponent(r.default).walk(1120,255,1)}),cc.delayTime(1),cc.callFunc(function(){t.runScene_8_1()})))},e.prototype.runScene_8_1=function(){var t=this;this.checkScene(8),this.player.getComponent(r.default).setLoc(2080,0),this.teacher.getComponent(f.default).setLoc(412,530),this.signer.x=-100,this.signer.y=-1e3,this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).walk(1234,0,3)}),cc.delayTime(3),cc.callFunc(function(){t.tipPanel.getComponent(p.default).show(2024,300,function(e){t.check(e,function(){t.saveRecord(e),t.runScene_8_2()},function(){t.runScene_8_1()})})})))},e.prototype.runScene_8_2=function(){var t=this;this.node.runAction(cc.sequence(cc.callFunc(function(){t.teacher.getComponent(f.default).talk(2025,null)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2025)+.5),cc.callFunc(function(){t.teacher.getComponent(f.default).talk(2026,null)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2026)+.5),cc.callFunc(function(){t.choosePanel_8.getComponent(l.default).show(0)})))},e.prototype.runScene_10_1=function(){var t=this;this.checkScene(10),this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).setLoc(-100,226),t.player.getComponent(r.default).walk(1088,226,6)}),cc.delayTime(2),cc.callFunc(function(){t.player.getComponent(r.default).talk(2011,t.saveRecord)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2011)+.5),cc.callFunc(function(){t.player.getComponent(r.default).sitdown()}),cc.delayTime(3),cc.callFunc(function(){t.bus.x=-1200,t.bus.y=340,t.bus.scaleX=-1,t.bus.runAction(cc.moveTo(2,950,t.bus.y))}),cc.delayTime(3),cc.callFunc(function(){t.bus.x=-1200,t.bus.y=340,t.runScene_11_1()})))},e.prototype.runScene_11_1=function(){var t=this,e=cc.find("KindergartenScene/Scene11/Background1"),n=cc.find("KindergartenScene/Scene11/Background2");this.player.getComponent(r.default).setLoc(-100,0),this.checkScene(11),e.active=!0,n.active=!1,this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).walk(1340,0,5)}),cc.delayTime(5),cc.callFunc(function(){t.player.getComponent(r.default).walk(1340,336,2)}),cc.delayTime(2.5),cc.callFunc(function(){e.active=!1,n.active=!0,t.player.getComponent(r.default).setLoc(-100,30),t.player.getComponent(r.default).walk(1450,30,8)}),cc.delayTime(8),cc.callFunc(function(){t.tipPanel.getComponent(p.default).show(2029,300,function(e){t.check(e,function(){t.saveRecord(e),t.runScene_11_2()},function(){t.runScene_11_1()})})})))},e.prototype.runScene_11_2=function(){var t=this;this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(r.default).pushButton()}),cc.delayTime(2),cc.callFunc(function(){t.player.getComponent(r.default).talk(2003,null)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2003)+.5),cc.callFunc(function(){t.player.getComponent(r.default).walk(2e3,t.player.y,2)}),cc.delayTime(2.5),cc.callFunc(function(){t.runScene_12_1()})))},e.prototype.runScene_12_1=function(){var t=this;this.checkScene(12);var e=cc.find("KindergartenScene/Scene12/Background1"),n=cc.find("KindergartenScene/Scene12/Background2");e.active=!0,n.active=!1,this.node.runAction(cc.sequence(cc.callFunc(function(){cc.log("\u95f9\u949f\u54cd\u4e86\uff0c\u63d0\u793a\u8be5\u7761\u89c9\u4e86\u3002"),t.player.getComponent(r.default).resetLoc()}),cc.delayTime(1),cc.callFunc(function(){t.player.getComponent(r.default).walk(1430,0,6)}),cc.delayTime(6.5),cc.callFunc(function(){t.player.getComponent(r.default).sleep(),t.player.getComponent(r.default).talk(2028,null)}),cc.delayTime(this.playSound.getComponent(g.default).getSoundResDuration(2028)+.5),cc.callFunc(function(){t.player.getComponent(r.default).resetLoc(),e.active=!1,n.active=!0}),cc.delayTime(2),cc.callFunc(function(){var e=a.default.getInstance().getStoryById(5);t.saveRecord(e,0),t.bgmShutdown(),cc.director.loadScene("HomeScene")})))},e.prototype.check=function(t,e,n){var o=this;this.isCheck?null!=t?(cc.log("\u68c0\u6d4b\uff1a",t.m_CheckType,t.m_Target,t.m_CheckTargetId),h.default.checkResult(t.m_CheckType,t.m_CheckTargetId,function(){o.tipPanel.getComponent(p.default).unshow(),e()},function(){o.check(t,e,n)})):cc.log("tabAlgo \u672a\u627e\u5230!"):(this.tipPanel.getComponent(p.default).unshow(),e())},i([v(cc.Node)],e.prototype,"bird",void 0),i([v(cc.Node)],e.prototype,"player",void 0),i([v(cc.Node)],e.prototype,"tipPanel",void 0),i([v(cc.Node)],e.prototype,"guard",void 0),i([v(cc.Node)],e.prototype,"teacher",void 0),i([v(cc.Node)],e.prototype,"signer",void 0),i([v(cc.AudioClip)],e.prototype,"bgm",void 0),i([v(cc.Node)],e.prototype,"choosePanel_1",void 0),i([v(cc.Node)],e.prototype,"choosePanel_4",void 0),i([v(cc.Node)],e.prototype,"choosePanel_6_1",void 0),i([v(cc.Node)],e.prototype,"choosePanel_6_2",void 0),i([v(cc.Node)],e.prototype,"choosePanel_8",void 0),i([v(cc.Node)],e.prototype,"lights",void 0),i([v(cc.Node)],e.prototype,"bus",void 0),i([v(cc.Node)],e.prototype,"ISContinue",void 0),i([v(cc.Node)],e.prototype,"scene1",void 0),i([v(cc.Node)],e.prototype,"scene2",void 0),i([v(cc.Node)],e.prototype,"scene3",void 0),i([v(cc.Node)],e.prototype,"scene4",void 0),i([v(cc.Node)],e.prototype,"scene5",void 0),i([v(cc.Node)],e.prototype,"scene6",void 0),i([v(cc.Node)],e.prototype,"scene7",void 0),i([v(cc.Node)],e.prototype,"scene8",void 0),i([v(cc.Node)],e.prototype,"scene9",void 0),i([v(cc.Node)],e.prototype,"scene10",void 0),i([v(cc.Node)],e.prototype,"scene11",void 0),i([v(cc.Node)],e.prototype,"scene12",void 0),i([S],e)}(y.default);n.default=b,cc._RF.pop()},{"../KS/KS_ChoosePanel":"KS_ChoosePanel","../KS/KS_Lights":"KS_Lights","../KS/KS_Player":"KS_Player","../NetUtils/CheckSystem":"CheckSystem","../NetUtils/GameProgress":"GameProgress","../Object/BaseObject":"BaseObject","../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./KS_Guard":"KS_Guard","./KS_Teacher":"KS_Teacher","./KS_TipsPanel":"KS_TipsPanel"}],NetUtils:[function(t,e,n){"use strict";cc._RF.push(e,"1983dYJBONFko9/T7flY0gW","NetUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Utils/CommonUtils"),c=function(){function t(){}return t.requestOnGet=function(t,e,n){var c=o.ConstDefine.SERVER_IP+o.ConstDefine.LOGIN_SERVER_LET+"?"+t,i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&i.status>=200&&i.status<400){var t=i.responseText;console.log(t);var o=JSON.parse(t);1==o.state||"true"==o.state?"function"==typeof e&&e(o):"function"==typeof n&&n(o)}},i.open("GET",c,!0),i.send()},t.requestOnPost=function(t,e,n){var c=o.ConstDefine.SERVER_IP+":"+o.ConstDefine.SERVER_PORT+"/"+o.ConstDefine.LOGIN_SERVER_LET,i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&i.status>=200&&i.status<400){var t=i.responseText;console.log(t);var o=JSON.parse(t);1==o.state||"true"==o.state?"function"==typeof e&&e(o):"function"==typeof n&&n(o)}},i.open("POST",c,!0),i.setRequestHeader("content-type","application/json"),t.userName=o.ConstDefine.USER_NAME,t.password=o.ConstDefine.PASSWORD,i.send(JSON.stringify(t)),console.log("\u4fe1\u606f\u68c0\u6d4b\uff1a"+JSON.stringify(t))},t.INVALIDE_MESSAGE_ID=-1,t.CS_MESSAGE_REGISTER=1,t.CS_MESSAGE_LOGIN=3,t.CS_MESSAGE_CHECK=5,t.CS_MESSAGE_SAVE_SCORE=7,t.CS_MESSAGE_QUERY_SCORE=9,t.CS_MESSAGE_SAVE_PROGRESS=11,t.CS_MESSAGE_QUERY_PROGRESS=13,t.SC_MESSAGE_REGISTER=2,t.SC_MESSAGE_LOGIN=4,t.SC_MESSAGE_CHECK=6,t.SC_MESSAGE_SAVE_SCORE=8,t.SC_MESSAGE_QUERY_SCORE=10,t.SC_MESSAGE_SAVE_PROGRESS=12,t.SC_MESSAGE_QUERY_PROGRESS=14,t}();n.default=c,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],OldMan:[function(t,e,n){"use strict";cc._RF.push(e,"9f546UfMopLqJ47mC5j0HDq","OldMan");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./BaseObject"),l=t("../Utils/CommonUtils"),a=t("../Tables/TableSystem"),s=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.walkTo=function(t,e,n){var o=this;console.log("\u8001\u4eba\u8d70\u5411\uff1a"+e.x+", "+e.y),l.CommonUtils.comprareTo(this.node.x,e.x)!=l.ConstDefine.EQUAL||l.CommonUtils.comprareTo(this.node.y,e.y)!=l.ConstDefine.EQUAL||"function"!=typeof n?(this.node.x<e.x?(this.node.scaleX=-1,this.wordPanel.scaleX=-1,this.wordPanel.setPosition(-290,340)):(this.node.scaleX=1,this.wordPanel.scaleX=1,this.wordPanel.setPosition(290,340)),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.callFunc(function(){o.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(t,e),cc.callFunc(function(){"function"==typeof n&&n()})))):n()},e.prototype.idle=function(t){this.node.stopAllActions(),"function"==typeof t&&t()},e.prototype.talk=function(t,e){if(void 0===e&&(e=null),console.log("\u3010\u8001\u4eba\u8bf4\u3011talk ID:"+t),t==l.ConstDefine.SAY_NOTING_ID)return this.wordPanel.active=!1,this.word.string="",void("function"==typeof e&&e());var n=a.default.getInstance().getStoryById(t);null!=n&&(this.wordPanel.active=!0,this.word.string=n.m_Word);var o=cc.find("PlaySound").getComponent(s.default).playSound(n.m_ID);this.scheduleOnce(function(){"function"==typeof e&&e()},o)},e.prototype.getAlgorithmDetectionResult=function(t,e){for(var n=null,o=a.default.getInstance().getAlgorithmDetectionCount(),c=0;c<o;c++){var i=a.default.getInstance().getAlgorithmDetection(c);if(i.m_CheckType==t&&i.m_StatusId==e){n=i;break}}return n},i([d(cc.Node)],e.prototype,"wordPanel",void 0),i([d(cc.Label)],e.prototype,"word",void 0),i([p],e)}(r.default);n.default=f,cc._RF.pop()},{"../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],PlaySound:[function(t,e,n){"use strict";cc._RF.push(e,"e78d3LhFjBEfJ85TXyC8pbV","PlaySound");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),l=cc._decorator,a=l.ccclass,s=(l.property,function(){function t(){this.clip=null}return t.prototype.init=function(t){this.talkID=t.talkID,this.clip=t.clip},t}()),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundRes=[],e}return c(e,t),e.prototype.start=function(){},e.prototype.initSoundRes=function(){var t=r.default.getInstance().getStoryCount();console.log(t);for(var e=0;e<t;e++){var n=r.default.getInstance().getStory(e);"NULL"!=n.m_SoundPath&&this.loadSound(n)}},e.prototype.playSound=function(t){for(var e=null,n=0;n<this.soundRes.length;++n)if(t==this.soundRes[n].talkID){e=this.soundRes[n].clip;break}if(null==e){console.error("PlaySound::storyID NO FOUND, storyID: ",t);var o=r.default.getInstance().getStoryById(t);return null==o?(console.error("PlaySound::storyID ERROR ID: ",t),0):o.m_Time}return cc.audioEngine.play(e,!1,1),console.log("PlaySound::storyID ",t,"Duration:",e.duration),e.duration},e.prototype.getSoundResDuration=function(t){for(var e=null,n=0;n<this.soundRes.length;++n)if(t==this.soundRes[n].talkID){e=this.soundRes[n].clip;break}if(null==e){console.error("PlaySound::NO FOUND, storyID: ",t);var o=r.default.getInstance().getStoryById(t);return null==o?(console.error("PlaySound::storyID ERROR ID: ",t),0):o.m_Time}return console.log("PlaySound::FOUND, SoundRes Duration: ",e.duration),e.duration},e.prototype.loadSound=function(t){var e=this;cc.resources.load(t.m_SoundPath,cc.AudioClip,null,function(n,o){if(n)console.log("PlaySound::loadSound error | error message: "+n.message);else{console.log("PlaySound::loadSound ",t.m_SoundPath);var c=new s;c.init({talkID:t.m_ID,clip:o}),e.soundRes.push(c)}})},i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem"}],Seller:[function(t,e,n){"use strict";cc._RF.push(e,"88289veuIFNrI/WswYbecSc","Seller");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./BaseObject"),l=t("../Utils/CommonUtils"),a=t("../Tables/TableSystem"),s=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.idle=function(t){this.node.stopAllActions(),"function"==typeof t&&t()},e.prototype.talk=function(t,e){if(void 0===e&&(e=null),console.log("\u3010\u552e\u8d27\u5458\u8bf4\u3011talk ID:"+t),t==l.ConstDefine.SAY_NOTING_ID)return this.wordPanel.active=!1,this.word.string="",void("function"==typeof e&&e());var n=a.default.getInstance().getStoryById(t);null!=n&&(this.wordPanel.active=!0,this.word.string=n.m_Word);var o=cc.find("PlaySound").getComponent(s.default).playSound(n.m_ID);this.scheduleOnce(function(){"function"==typeof e&&e()},o)},e.prototype.getAlgorithmDetectionResult=function(t,e){for(var n=null,o=a.default.getInstance().getAlgorithmDetectionCount(),c=0;c<o;c++){var i=a.default.getInstance().getAlgorithmDetection(c);if(i.m_CheckType==t&&i.m_StatusId==e){n=i;break}}return n},i([d(cc.Node)],e.prototype,"wordPanel",void 0),i([d(cc.Label)],e.prototype,"word",void 0),i([p],e)}(r.default);n.default=f,cc._RF.pop()},{"../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],Story:[function(t,e,n){"use strict";cc._RF.push(e,"a6be71iH9hP46XdP7DovUf2","Story"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Tables/TableSystem"),c=t("../Object/BaseObject"),i=t("../Prefabs/TipsPanel"),r=t("./CommonUtils"),l=t("../NetUtils/CheckSystem"),a=t("../NetUtils/GameProgress"),s=function(){function t(){this.__scene=null,this.__currentStoryId=1,this.__currentNpc=null,this.__storyStatus=r.ConstDefine.BEFORE_STORY_SHOW_NPC,this.__ccNodesInScene=[],this.__tipsPanel=null,this.__finishStoryCallback=null}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.initScene=function(t,e,n){this.__scene=t,this.__ccNodesInScene=e,this.__tipsPanel=n},t.prototype.getCurrentScene=function(){return this.__scene},t.prototype.getCurrentStoryId=function(){return this.__currentStoryId},t.prototype.setCurrentStoryId=function(t){this.__currentStoryId=t},t.prototype.getCurrentStoryState=function(){return this.__storyStatus},t.prototype.setCurrentStoryState=function(t){this.__storyStatus=t},t.prototype.getCurrentNpc=function(){return this.__currentNpc},t.prototype.setCurrentNpc=function(t){this.__currentNpc=t},t.prototype.getTipPanel=function(){return this.__tipsPanel},t.prototype.setTipPanel=function(t){this.__tipsPanel=t},t.prototype.getAllNodes=function(){return this.__ccNodesInScene},t.prototype.beforeShowStory_showNpc=function(e){if(t.getInstance().getCurrentStoryId()!=r.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==r.ConstDefine.BEFORE_STORY_SHOW_NPC)if(t.getInstance().getAllNodes().forEach(function(n){n.getComponent(c.default).object_id==e.m_TalkerID&&t.getInstance().setCurrentNpc(n)}),null!=t.getInstance().getCurrentNpc()){console.log("\u5f53\u524d\u573a\u666f\u5185\u3010"+e.m_TalkerID+"\u3011\u7684\u89d2\u8272\u8282\u70b9 : "+this.__currentNpc.name),console.log("StartLocation : "+e.m_TalkerLocation);var n=e.m_TalkerLocation.split("|");if(n.length<2)console.error("\u5f53\u524d\u5267\u60c5\u3010"+e.m_TalkerID+"\u3011\u914d\u7f6e\u76ee\u6807\u89d2\u8272\u5750\u6807\u70b9\u9519\u8bef\uff01");else{var o=new cc.Vec2(n[0],n[1]);console.log("1 NPC\u89d2\u8272\u9996\u5148\u79fb\u52a8\u5230\u76ee\u6807\u70b9 "+o.x+", "+o.y),t.getInstance().setCurrentStoryState(r.ConstDefine.BEFORE_STORY_SHOW_NPC_FINISH),e.m_IsCallBack?t.getInstance().getCurrentNpc().getComponent(c.default).moveTo(.5,o,function(){t.getInstance().getCurrentNpc().getComponent(c.default).show(t.getInstance().getCurrentStoryId(),function(){t.getInstance().setCurrentStoryState(r.ConstDefine.BEFORE_STORY_SHOW_TIPS)})}):t.getInstance().getCurrentNpc().getComponent(c.default).walkTo(3,o,function(){t.getInstance().getCurrentNpc().getComponent(c.default).talk(t.getInstance().getCurrentStoryId(),function(){t.getInstance().getCurrentNpc().getComponent(c.default).idle(function(){t.getInstance().setCurrentStoryState(r.ConstDefine.BEFORE_STORY_SHOW_TIPS)})})})}}else console.error("\u5f53\u524d\u573a\u666f\u5185\u6ca1\u6709ID\u4e3a\u3010"+e.m_TalkerID+"\u3011\u7684\u89d2\u8272\u8282\u70b9\uff01")},t.prototype.beforeShowStory_showTips=function(e){if(t.getInstance().getCurrentStoryId()!=r.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==r.ConstDefine.BEFORE_STORY_SHOW_TIPS&&null!=t.getInstance().getTipPanel())if("0"!=e.m_CheckType){var n;if(console.log("2 \u5f39\u51fa\u9762\u677f\u663e\u793a\u4fe1\u606f"),""!=(n=e.m_CheckType+"_"+e.m_CheckTargetId)){var o=cc.find("AudioLayer/"+n);null!=o&&null!=o&&cc.audioEngine.play(o.getComponent(cc.AudioSource).clip,!1,1)}t.getInstance().setCurrentStoryState(r.ConstDefine.BEFORE_STORY_SHOW_TIPS_FINISH),this.__tipsPanel.getComponent(i.default).showTips(e.m_Title,e.m_Target,function(){t.getInstance().setCurrentStoryState(r.ConstDefine.WAIT_STORY_CHECK_RESULT)})}else console.log("2 \u975e\u68c0\u6d4b\u5267\u60c5\uff0c\u65e0\u9700\u5f39\u51fa\u9762\u677f"),t.getInstance().setCurrentStoryState(r.ConstDefine.WAIT_STORY_CHECK_RESULT)},t.prototype.waitCheckStory=function(e){if(t.getInstance().getCurrentStoryId()!=r.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==r.ConstDefine.WAIT_STORY_CHECK_RESULT)if("0"!=e.m_CheckType)console.log("3 \u6839\u636e\u914d\u7f6e\u68c0\u6d4b\u8bed\u97f3\u6216\u52a8\u4f5c"),l.default.checkResult(e.m_CheckType,e.m_CheckTargetId,function(n){if(e.m_CheckType==n.checkType&&e.m_CheckTargetId==n.result){t.getInstance().setCurrentStoryState(r.ConstDefine.AFTER_STORY_FINISH_TIPS);var o={scene:0,story:e.m_ID};a.default.saveProgress(JSON.stringify(o),function(){},function(){}),console.log("\u3010\u9a8c\u8bc1\u6210\u529f\u3011\u9a8c\u8bc1\u7c7b\u578b\uff1a"+e.m_CheckType+", \u9a8c\u8bc1\u76ee\u6807\uff1a"+e.m_Target)}else console.log("\u3010\u9a8c\u8bc1\u5931\u8d25\u3011\u9a8c\u8bc1\u7c7b\u578b\uff1a"+e.m_CheckType+", \u9a8c\u8bc1\u76ee\u6807\uff1a"+e.m_Target)},function(){});else{console.log("3 \u975e\u68c0\u6d4b\u5267\u60c5\uff0c\u65e0\u9700\u68c0\u6d4b\u5267\u60c5");var n={scene:0,story:e.m_ID};a.default.saveProgress(JSON.stringify(n),function(){},function(){}),t.getInstance().setCurrentStoryState(r.ConstDefine.AFTER_STORY_FINISH_TIPS)}},t.prototype.afterStory_finishTips=function(e){t.getInstance().getCurrentStoryId()!=r.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==r.ConstDefine.AFTER_STORY_FINISH_TIPS&&null!=t.getInstance().getTipPanel()&&(t.getInstance().setCurrentStoryState(r.ConstDefine.AFTER_STORY_FINISH_TIPS_FINISH),"0"!=e.m_CheckType?(console.log("4 \u68c0\u6d4b\u5267\u60c5\uff0c\u7ed3\u675f\u5f39\u51fa\u9762\u677f"),this.__tipsPanel.getComponent(i.default).hideTips(function(){t.getInstance().setCurrentStoryState(r.ConstDefine.AFTER_STORY_FINISH_NPC)})):(console.log("4 \u975e\u68c0\u6d4b\u5267\u60c5\uff0c\u65e0\u9700\u5904\u7406\u5f39\u51fa\u9762\u677f"),t.getInstance().setCurrentStoryState(r.ConstDefine.AFTER_STORY_FINISH_NPC)))},t.prototype.afterStory_finishNpc=function(e){if(t.getInstance().getCurrentStoryId()!=r.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==r.ConstDefine.AFTER_STORY_FINISH_NPC)if(null!=t.getInstance().getCurrentNpc()){if(console.log("FinishLocation : "+e.m_FinishLocation),e.m_FinishLocation==t.NO_ACTION)return e.m_IsCallBack||t.getInstance().getCurrentNpc().getComponent(c.default).distalk(),void t.getInstance().setCurrentStoryState(r.ConstDefine.FINISH_STORY);var n=e.m_FinishLocation.split("|");if(n.length<2)console.error("\u5f53\u524d\u5267\u60c5\u3010"+e.m_TalkerID+"\u3011\u914d\u7f6e\u76ee\u6807\u89d2\u8272\uff0c\u7ed3\u675f\u5267\u60c5\u65f6\u7684\u5750\u6807\u70b9\u9519\u8bef\uff01");else{var o=new cc.Vec2(n[0],n[1]);t.getInstance().setCurrentStoryState(r.ConstDefine.AFTER_STORY_FINISH_NPC_FINISH),e.m_IsCallBack?t.getInstance().setCurrentStoryState(r.ConstDefine.FINISH_STORY):(t.getInstance().getCurrentNpc().getComponent(c.default).distalk(),t.getInstance().getCurrentNpc().getComponent(c.default).talk(r.ConstDefine.SAY_NOTING_ID,function(){t.getInstance().getCurrentNpc().getComponent(c.default).walkTo(e.m_Time,o,function(){t.getInstance().setCurrentStoryState(r.ConstDefine.FINISH_STORY)})}))}}else console.error("\u5f53\u524d\u5267\u60c5\u7684\u89d2\u8272\u8282\u70b9\u4e3a\u7a7a\uff01")},t.prototype.finishCurrentStory=function(e){t.getInstance().getCurrentStoryId()!=r.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==r.ConstDefine.FINISH_STORY&&null!=e&&(t.getInstance().setCurrentStoryState(r.ConstDefine.BEFORE_STORY_SHOW_NPC),t.getInstance().setCurrentNpc(null),t.getInstance().setCurrentStoryId(e.m_Next))},t.prototype.showStory=function(t,e){void 0===e&&(e=null),console.log("\u3010\u5c55\u793a\u5267\u60c5\u3011Id :"+t),this.__finishStoryCallback=e,null!=this.__scene?(null!=this.__scene&&this.__scene.unschedule(this.runStoryLogic),this.setCurrentStoryId(t),this.setCurrentStoryState(r.ConstDefine.BEFORE_STORY_SHOW_NPC),this.__scene.schedule(this.runStoryLogic,.5,cc.macro.REPEAT_FOREVER,.1)):console.log("\u8bf7\u5148\u521d\u59cb\u5316\u573a\u666f\u8282\u70b9\uff01")},t.prototype.runStoryLogic=function(){var e=o.default.getInstance().getStoryById(t.getInstance().getCurrentStoryId());if(null==e)return console.error("\u3010\u5f53\u524d\u5267\u60c5\u4e3a\u7a7a\u3011"+t.getInstance().getCurrentStoryId()),null!=t.getInstance().getCurrentScene()&&t.getInstance().getCurrentScene().unschedule(t.getInstance().runStoryLogic),void("function"==typeof t.getInstance().__finishStoryCallback&&t.getInstance().__finishStoryCallback());var n=t.getInstance().getCurrentStoryState(),c=n%2==0?n/2:n;switch(console.log("\u3010\u5f53\u524d\u5267\u60c5\u3011"+t.getInstance().getCurrentStoryId()+"\u3010\u5267\u60c5\u72b6\u6001\u3011"+r.ConstDefine.STORY_STEP_DESCRIPTION[c-1]+"\u3010\u72b6\u6001\u7801\u3011"+n),t.getInstance().getCurrentStoryState()){case r.ConstDefine.BEFORE_STORY_SHOW_NPC:t.getInstance().beforeShowStory_showNpc(e);break;case r.ConstDefine.BEFORE_STORY_SHOW_TIPS:t.getInstance().beforeShowStory_showTips(e);break;case r.ConstDefine.WAIT_STORY_CHECK_RESULT:t.getInstance().waitCheckStory(e);break;case r.ConstDefine.AFTER_STORY_FINISH_TIPS:t.getInstance().afterStory_finishTips(e);break;case r.ConstDefine.AFTER_STORY_FINISH_NPC:t.getInstance().afterStory_finishNpc(e);break;case r.ConstDefine.FINISH_STORY:t.getInstance().finishCurrentStory(e)}},t.prototype.finishStory=function(){this.__ccNodesInScene=[],this.__currentNpc=null},t.NO_ACTION="NO_ACTION",t._instance=null,t}();n.default=s,cc._RF.pop()},{"../NetUtils/CheckSystem":"CheckSystem","../NetUtils/GameProgress":"GameProgress","../Object/BaseObject":"BaseObject","../Prefabs/TipsPanel":"TipsPanel","../Tables/TableSystem":"TableSystem","./CommonUtils":"CommonUtils"}],SupermarketScene:[function(t,e,n){"use strict";cc._RF.push(e,"b9fdf2E3oRLno0mI81Uu4PY","SupermarketScene");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),l=t("../Utils/Story"),a=t("../Object/Bear"),s=t("../Utils/CommonUtils"),u=t("../Prefabs/TipsPanel"),p=t("../Prefabs/PlaySound"),d=cc._decorator,f=d.ccclass,y=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bear=null,e.NPCNodes=[],e.tipsPanel=null,e.homeRoot=null,e.elevatorRoot=null,e.roadRoot=null,e.busStopRoot=null,e.busStopEnterBus=null,e.innerBusRoot=null,e.supermarketRoot=null,e.supermarketDoor=null,e.underFloorRoot=null,e.innerHomeRoot=null,e.shareSeatTips=null,e.seller=null,e.oldMan=null,e.bus=null,e.playSound=null,e.redLight_1=null,e.redLight_2=null,e.yellowLight_1=null,e.yellowLight_2=null,e.greenLight_1=null,e.greenLight_2=null,e.RED_LIGHT=0,e.YELLOW_LIGHT=1,e.GREEN_LIGHT=2,e}return c(e,t),e.prototype.start=function(){var t=this;r.default.getInstance(),l.default.getInstance().initScene(this,this.NPCNodes,this.tipsPanel),this.scheduleOnce(function(){t.playSound=cc.find("PlaySound"),t.playSound.getComponent(p.default).initSoundRes(),t.runHomeLogic()},.1)},e.prototype.resetScene=function(){this.homeRoot.active=!1,this.elevatorRoot.active=!1,this.roadRoot.active=!1,this.busStopRoot.active=!1,this.innerBusRoot.active=!1,this.supermarketRoot.active=!1,this.underFloorRoot.active=!1,this.innerHomeRoot.active=!1},e.prototype.runHomeLogic=function(){var t=this;this.resetScene(),this.homeRoot.active=!0,l.default.getInstance().showStory(1e3,function(){t.runElevatorLogic()})},e.prototype.runElevatorLogic=function(){var t=this;this.resetScene(),this.elevatorRoot.active=!0,this.bear.setPosition(-200,30),this.scheduleOnce(function(){l.default.getInstance().showStory(1002,function(){t.bear.getComponent(a.default).turnOnHands(function(){l.default.getInstance().showStory(1003,function(){t.runRoadLogic()})})})},1)},e.prototype.test_floor_1=function(){var t=this;this.tipsPanel.getComponent(u.default).hideTips(function(){l.default.getInstance().showStory(1003,function(){t.bear.getComponent(a.default).turnOnHands(function(){t.runRoadLogic()})})})},e.prototype.test_floor_5=function(){},e.prototype.runRoadLogic=function(){this.resetScene(),this.bear.getComponent(a.default).distalk(),this.bear.setPosition(-200,30);var t=s.CommonUtils.getRandomRange(0,2);this.showLightLogic(t)},e.prototype.showLightLogic=function(t){var e=this;this.redLight_1.active=!1,this.redLight_2.active=!1,this.yellowLight_1.active=!1,this.yellowLight_2.active=!1,this.greenLight_1.active=!1,this.greenLight_2.active=!1,this.roadRoot.active=!0,this.tipsPanel.getComponent(u.default).flipXLocation(),this.scheduleOnce(function(){switch(t){case e.RED_LIGHT:e.redLight_1.active=!0,e.redLight_2.active=!0;break;case e.YELLOW_LIGHT:e.yellowLight_1.active=!0,e.yellowLight_2.active=!0;break;case e.GREEN_LIGHT:e.greenLight_1.active=!0,e.greenLight_2.active=!0}e.runCrossRoad(t)},2)},e.prototype.runCrossRoad=function(t){var e=this;l.default.getInstance().showStory(t+1005,function(){e.tipsPanel.getComponent(u.default).resumeXLocation(),t!=e.GREEN_LIGHT?e.showLightLogic(e.GREEN_LIGHT):(e.bear.stopAllActions(),e.bear.getComponent(a.default).walkTo(6,new cc.Vec2(2500,80),function(){e.runBusStopLogic()}))})},e.prototype.test_light=function(t,e){e==this.RED_LIGHT?this.showLightLogic(this.GREEN_LIGHT):e==this.YELLOW_LIGHT?this.showLightLogic(this.GREEN_LIGHT):e==this.GREEN_LIGHT&&l.default.getInstance().setCurrentStoryState(s.ConstDefine.AFTER_STORY_FINISH_TIPS)},e.prototype.runBusStopLogic=function(){var t=this;this.resetScene(),this.busStopRoot.active=!0,this.busStopEnterBus.active=!1,this.bear.getComponent(a.default).distalk(),this.bear.setPosition(-200,230),this.bus.setPosition(3500,350),l.default.getInstance().showStory(1009,function(){t.bus.runAction(cc.sequence(cc.moveTo(5,new cc.Vec2(1100,350)),cc.delayTime(1),cc.callFunc(function(){t.bear.setPosition(-200,-300),t.bus.setPosition(3500,350),t.busStopEnterBus.active=!0,l.default.getInstance().showStory(1012,function(){})})))})},e.prototype.test_enter_bus=function(){this.runInnerBusLogic()},e.prototype.runInnerBusLogic=function(){var t=this;this.resetScene(),console.log("\u3010\u8fdb\u5165\u516c\u4ea4\u8f66\u573a\u666f\u3011"),this.bear.getComponent(a.default).distalk(),this.innerBusRoot.active=!0,this.bear.setPosition(200,100),this.bear.stopAllActions(),l.default.getInstance().showStory(1013,function(){t.bear.runAction(cc.sequence(cc.moveTo(2,new cc.Vec2(1e3,300)),cc.callFunc(function(){t.bear.getComponent(a.default).distalk(),t.runOldManLogic()})))})},e.prototype.runOldManLogic=function(){var t=this;this.oldMan.scaleX=1,this.oldMan.setPosition(2100,300),this.oldMan.runAction(cc.sequence(cc.moveTo(2,new cc.Vec2(1700,300)),cc.callFunc(function(){t.shareSeatTips.runAction(cc.moveTo(.5,new cc.Vec2(960,640)))})))},e.prototype.test_seatdown=function(){l.default.getInstance().setCurrentStoryState(s.ConstDefine.AFTER_STORY_FINISH_TIPS)},e.prototype.onShareSeat=function(){var t=this;this.shareSeatTips.runAction(cc.moveTo(.5,new cc.Vec2(960,1600))),this.bear.getComponent(a.default).walkTo(1,new cc.Vec2(1e3,100),function(){t.bear.scaleX=-1,l.default.getInstance().showStory(1016,function(){t.oldMan.scaleX=-1,t.bear.getComponent(a.default).walkTo(2,new cc.Vec2(300,100),function(){t.runEnterSupermarketLogic()})})})},e.prototype.runEnterSupermarketLogic=function(){var t=this;this.resetScene(),this.supermarketRoot.active=!0,this.seller.active=!1,this.bear.getComponent(a.default).distalk(),this.bear.setPosition(2100,80),this.bear.getComponent(a.default).walkTo(5,new cc.Vec2(600,80),function(){t.bear.active=!1,t.supermarketDoor.active=!1,t.runBuyGoodsLogic()})},e.prototype.runBuyGoodsLogic=function(){var t=this;this.bear.active=!0,this.seller.active=!0,this.bear.setPosition(2100,-50),this.tipsPanel.getComponent(u.default).resumeXLocation(),l.default.getInstance().showStory(1020,function(){t.runGoHomeLogic()})},e.prototype.test_buy_goods=function(){l.default.getInstance().setCurrentStoryState(s.ConstDefine.AFTER_STORY_FINISH_TIPS)},e.prototype.runGoHomeLogic=function(){var t=this;this.bear.active=!1,this.supermarketDoor.active=!0,this.bear.getComponent(a.default).distalk(),this.bear.setPosition(600,80),this.bear.active=!0,this.seller.active=!1,this.bus.setPosition(-1e3,350),this.bus.active=!0,this.bus.scaleX=-1,this.bus.runAction(cc.sequence(cc.moveTo(5,new cc.Vec2(1200,350)),cc.callFunc(function(){t.bear.setPosition(-200,100)}),cc.delayTime(1),cc.moveTo(5,new cc.Vec2(3500,350)),cc.callFunc(function(){t.bus.setPosition(3500,350),t.runMoveToHomeLogic()})))},e.prototype.runMoveToHomeLogic=function(){var t=this;this.resetScene(),this.underFloorRoot.active=!0,this.bear.setPosition(-200,100),this.bear.active=!0,l.default.getInstance().showStory(1026,function(){t.bear.getComponent(a.default).walkTo(2,new cc.Vec2(1500,300),function(){t.bear.active=!1,t.runInnerHomeLogic()})})},e.prototype.runInnerHomeLogic=function(){this.resetScene(),this.bear.setPosition(2200,300),this.bear.active=!0,this.innerHomeRoot.active=!0,l.default.getInstance().showStory(1027,function(){cc.director.loadScene("KindergartenScene")})},i([y(cc.Node)],e.prototype,"bear",void 0),i([y([cc.Node])],e.prototype,"NPCNodes",void 0),i([y(cc.Node)],e.prototype,"tipsPanel",void 0),i([y(cc.Node)],e.prototype,"homeRoot",void 0),i([y(cc.Node)],e.prototype,"elevatorRoot",void 0),i([y(cc.Node)],e.prototype,"roadRoot",void 0),i([y(cc.Node)],e.prototype,"busStopRoot",void 0),i([y(cc.Node)],e.prototype,"busStopEnterBus",void 0),i([y(cc.Node)],e.prototype,"innerBusRoot",void 0),i([y(cc.Node)],e.prototype,"supermarketRoot",void 0),i([y(cc.Node)],e.prototype,"supermarketDoor",void 0),i([y(cc.Node)],e.prototype,"underFloorRoot",void 0),i([y(cc.Node)],e.prototype,"innerHomeRoot",void 0),i([y(cc.Node)],e.prototype,"shareSeatTips",void 0),i([y(cc.Node)],e.prototype,"seller",void 0),i([y(cc.Node)],e.prototype,"oldMan",void 0),i([y(cc.Node)],e.prototype,"bus",void 0),i([y(cc.Node)],e.prototype,"playSound",void 0),i([y(cc.Node)],e.prototype,"redLight_1",void 0),i([y(cc.Node)],e.prototype,"redLight_2",void 0),i([y(cc.Node)],e.prototype,"yellowLight_1",void 0),i([y(cc.Node)],e.prototype,"yellowLight_2",void 0),i([y(cc.Node)],e.prototype,"greenLight_1",void 0),i([y(cc.Node)],e.prototype,"greenLight_2",void 0),i([f],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Object/Bear":"Bear","../Prefabs/PlaySound":"PlaySound","../Prefabs/TipsPanel":"TipsPanel","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","../Utils/Story":"Story"}],TableStruct:[function(t,e,n){"use strict";cc._RF.push(e,"fb4826L89JM1ZV9L6ZZqSIs","TableStruct"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.initTable=function(){},t}();n.default=o,cc._RF.pop()},{}],TableSystem:[function(t,e,n){"use strict";cc._RF.push(e,"f940f9Dh09BMqgEHMBtsQpS","TableSystem"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./Table_AlgorithmDetection"),c=t("./Table_ErrorCode"),i=t("./Table_Scene"),r=t("./Table_Story"),l=function(){function t(){this.m_listAlgorithmDetection=new Array,this.m_listErrorCode=new Array,this.m_listScene=new Array,this.m_listStory=new Array}return t.getInstance=function(){return null==t._instance&&(t._instance=new t,t._instance.loadAlgorithmDetection(),t._instance.loadErrorCode(),t._instance.loadScene(),t._instance.loadStory()),t._instance},t.prototype.loadAlgorithmDetection=function(){var t=this;cc.loader.loadRes("Tables/AlgorithmDetection",function(){},function(e,n){if(e)cc.error(e.message);else for(var c=JSON.parse(n),i=0;i<c.length;i++){var r=c[i],l=new o.default;l.initTable(r),t.addAlgorithmDetection(l)}})},t.prototype.addAlgorithmDetection=function(t){for(var e=0;e<this.m_listAlgorithmDetection.length;e++)if(this.m_listAlgorithmDetection[e].m_ID==t.m_ID)return;this.m_listAlgorithmDetection.push(t)},t.prototype.getAlgorithmDetection=function(t){var e=null;return t<this.m_listAlgorithmDetection.length&&(e=this.m_listAlgorithmDetection[t]),e},t.prototype.getAlgorithmDetectionById=function(t){for(var e=null,n=0;n<this.m_listAlgorithmDetection.length;n++){var o=this.m_listAlgorithmDetection[n];o.m_ID==t&&(e=o)}return e},t.prototype.getAlgorithmDetectionCount=function(){return this.m_listAlgorithmDetection.length},t.prototype.loadErrorCode=function(){var t=this;cc.loader.loadRes("Tables/ErrorCode",function(){},function(e,n){if(e)cc.error(e.message);else for(var o=JSON.parse(n),i=0;i<o.length;i++){var r=o[i],l=new c.default;l.initTable(r),t.addErrorCode(l)}})},t.prototype.addErrorCode=function(t){for(var e=0;e<this.m_listErrorCode.length;e++)if(this.m_listErrorCode[e].m_ID==t.m_ID)return;this.m_listErrorCode.push(t)},t.prototype.getErrorCode=function(t){var e=null;return t<this.m_listErrorCode.length&&(e=this.m_listErrorCode[t]),e},t.prototype.getErrorCodeById=function(t){for(var e=null,n=0;n<this.m_listErrorCode.length;n++){var o=this.m_listErrorCode[n];o.m_ID==t&&(e=o)}return e},t.prototype.getErrorCodeCount=function(){return this.m_listErrorCode.length},t.prototype.loadScene=function(){var t=this;cc.loader.loadRes("Tables/Scene",function(){},function(e,n){if(e)cc.error(e.message);else for(var o=JSON.parse(n),c=0;c<o.length;c++){var r=o[c],l=new i.default;l.initTable(r),t.addScene(l)}})},t.prototype.addScene=function(t){for(var e=0;e<this.m_listScene.length;e++)if(this.m_listScene[e].m_ID==t.m_ID)return;this.m_listScene.push(t)},t.prototype.getScene=function(t){var e=null;return t<this.m_listScene.length&&(e=this.m_listScene[t]),e},t.prototype.getSceneById=function(t){for(var e=null,n=0;n<this.m_listScene.length;n++){var o=this.m_listScene[n];o.m_ID==t&&(e=o)}return e},t.prototype.getSceneCount=function(){return this.m_listScene.length},t.prototype.loadStory=function(){var t=this;cc.loader.loadRes("Tables/Story",function(){},function(e,n){if(e)cc.error(e.message);else for(var o=JSON.parse(n),c=0;c<o.length;c++){var i=o[c],l=new r.default;l.initTable(i),t.addStory(l)}})},t.prototype.addStory=function(t){for(var e=0;e<this.m_listStory.length;e++)if(this.m_listStory[e].m_ID==t.m_ID)return;this.m_listStory.push(t)},t.prototype.getStory=function(t){var e=null;return t<this.m_listStory.length&&(e=this.m_listStory[t]),e},t.prototype.getStoryById=function(t){for(var e=null,n=0;n<this.m_listStory.length;n++){var o=this.m_listStory[n];o.m_ID==t&&(e=o)}return e},t.prototype.getStoryCount=function(){return this.m_listStory.length},t._instance=null,t}();n.default=l,cc._RF.pop()},{"./Table_AlgorithmDetection":"Table_AlgorithmDetection","./Table_ErrorCode":"Table_ErrorCode","./Table_Scene":"Table_Scene","./Table_Story":"Table_Story"}],Table_AlgorithmDetection:[function(t,e,n){"use strict";cc._RF.push(e,"ec8faxFWBxIcJeNRiFEvKPI","Table_AlgorithmDetection");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.m_ID=0,e.m_Description="",e.m_AlgorithmId="",e.m_StatusId="",e.m_CheckType="",e}return c(e,t),e.prototype.initTable=function(t){this.m_ID=t.ID,this.m_Description=t.Description,this.m_AlgorithmId=t.AlgorithmId,this.m_StatusId=t.StatusId,this.m_CheckType=t.CheckType},e}(t("./TableStruct").default);n.default=i,cc._RF.pop()},{"./TableStruct":"TableStruct"}],Table_ErrorCode:[function(t,e,n){"use strict";cc._RF.push(e,"fc60atEvUVDe7XqwH5+CoRp","Table_ErrorCode");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.m_ID=0,e.m_ErrorInfo="",e.m_TipsId=0,e}return c(e,t),e.prototype.initTable=function(t){this.m_ID=t.ID,this.m_ErrorInfo=t.ErrorInfo,this.m_TipsId=t.TipsId},e}(t("./TableStruct").default);n.default=i,cc._RF.pop()},{"./TableStruct":"TableStruct"}],Table_Scene:[function(t,e,n){"use strict";cc._RF.push(e,"f289bq/1kRHAKIHRcuTzKU6","Table_Scene");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.m_ID=0,e.m_Story="",e}return c(e,t),e.prototype.initTable=function(t){this.m_ID=t.ID,this.m_Story=t.Story},e}(t("./TableStruct").default);n.default=i,cc._RF.pop()},{"./TableStruct":"TableStruct"}],Table_Story:[function(t,e,n){"use strict";cc._RF.push(e,"c503fD4zRZFG5cdM1nJ6K5q","Table_Story");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.m_ID=0,e.m_Next=0,e.m_TalkerID=0,e.m_TalkerLocation="",e.m_FinishLocation="",e.m_Title="",e.m_Word="",e.m_CheckType="",e.m_CheckTargetId="",e.m_Target="",e.m_Time=0,e.m_IsCallBack=0,e.m_IsBirdFly=0,e.m_SoundPath="",e}return c(e,t),e.prototype.initTable=function(t){this.m_ID=t.ID,this.m_Next=t.Next,this.m_TalkerID=t.TalkerID,this.m_TalkerLocation=t.TalkerLocation,this.m_FinishLocation=t.FinishLocation,this.m_Title=t.Title,this.m_Word=t.Word,this.m_CheckType=t.CheckType,this.m_CheckTargetId=t.CheckTargetId,this.m_Target=t.Target,this.m_Time=t.Time,this.m_IsCallBack=t.IsCallBack,this.m_IsBirdFly=t.IsBirdFly,this.m_SoundPath=t.SoundPath},e}(t("./TableStruct").default);n.default=i,cc._RF.pop()},{"./TableStruct":"TableStruct"}],TipsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"8860cDxUEREWJ5QlRY6elN9","TipsPanel");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,l=r.ccclass,a=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.description=null,e.isShow=!1,e.isFlip=!1,e}return c(e,t),e.prototype.start=function(){},e.prototype.flipXLocation=function(){this.node.setPosition(710,-800),this.isFlip=!0},e.prototype.resumeXLocation=function(){this.node.setPosition(-710,-800),this.isFlip=!1},e.prototype.showTips=function(t,e,n){var o=this,c=this.isFlip?710:-710;this.node.setPosition(c,-800),this.node.runAction(cc.sequence(cc.callFunc(function(){o.title.string=t,o.description.string=e}),cc.moveTo(.5,new cc.Vec2(c,-490)),cc.callFunc(function(){"function"==typeof n&&n()})))},e.prototype.hideTips=function(t){var e=this.isFlip?710:-710;this.node.runAction(cc.sequence(cc.moveTo(.5,new cc.Vec2(e,-800)),cc.callFunc(function(){"function"==typeof t&&t()})))},i([a(cc.Label)],e.prototype,"title",void 0),i([a(cc.Label)],e.prototype,"description",void 0),i([l],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],algo:[function(t,e,n){"use strict";cc._RF.push(e,"fc528FhNI5KRo7HvEDOADGy","algo");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../NetUtils/CheckSystem"),l=t("../NetUtils/GameProgress"),a=t("../Tables/TableSystem"),s=t("../Utils/CommonUtils"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.start=function(){},e.detect=function(t,e,n){var o=this;0!=s.ConstDefine.GAME_MODEL&&"0"!=t.m_CheckType&&(console.log("checktype="+t.m_CheckType+"checktargetid="+t.m_CheckTargetId),r.default.checkResult(t.m_CheckType,t.m_CheckTargetId,function(o){for(var c=o.checkType,i=o.result,r=a.default.getInstance().getAlgorithmDetectionCount(),s=null,u=0;u<r;u++){var p=a.default.getInstance().getAlgorithmDetection(u);if(p.m_CheckType==c&&p.m_StatusId==i){s=p;break}}if(null!=s)if(s.m_Description==t.m_Target){e();var d={scene:1,story:t.m_ID};l.default.saveProgress(JSON.stringify(d),function(){},function(){}),console.log("\u68c0\u6d4b\u6210\u529f")}else"function"==typeof n&&(n(),console.log("\u68c0\u6d4b\u5931\u8d25fail"))},function(){o.detect(t,e,n),console.log("\u68c0\u6d4b\u5931\u8d25")}))},i([p],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../NetUtils/CheckSystem":"CheckSystem","../NetUtils/GameProgress":"GameProgress","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils"}],busstop:[function(t,e,n){"use strict";cc._RF.push(e,"e5cc5MnZbJOWbNFAF+cI1an","busstop");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),l=t("./superBear"),a=cc._decorator,s=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bear=null,e.bus=null,e.arrive=null,e.busstop=null,e}return c(e,t),e.prototype.start=function(){var t=this;r.default.getInstance(),this.bear.getComponent(l.default).walkTo(3,new cc.Vec2(0,-320),function(){t.bear.getComponent(l.default).talk(1010,function(){},function(){t.bear.getComponent(l.default).talk(1009,function(){},function(){t.arrive.runAction(cc.sequence(cc.moveTo(4,new cc.Vec2(180,-75)),cc.delayTime(2),cc.callFunc(function(){t.bear.active=!1}),cc.moveTo(3,new cc.Vec2(-1700,-75)),cc.delayTime(1),cc.callFunc(function(){t.node.active=!1,t.bus.active=!0})))})})})},i([u(cc.Node)],e.prototype,"bear",void 0),i([u(cc.Node)],e.prototype,"bus",void 0),i([u(cc.Node)],e.prototype,"arrive",void 0),i([u(cc.Node)],e.prototype,"busstop",void 0),i([s],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem","./superBear":"superBear"}],bus:[function(t,e,n){"use strict";cc._RF.push(e,"f6005IScxlJMINh/96cwlWR","bus");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Object/Bird"),l=t("../Tables/TableSystem"),a=t("./algo"),s=t("./superBear"),u=t("./superTips"),p=cc._decorator,d=p.ccclass,f=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.child=null,e.card=null,e.coin=null,e.cash=null,e.background=null,e.sprite=null,e.btnCancel=null,e.btnOK=null,e.bus=null,e.shop=null,e.people=null,e.old=null,e.currentStoryId=-1,e}return c(e,t),e.prototype.start=function(){var t=this;l.default.getInstance(),this.card.node.active=!1,this.coin.node.active=!1,this.cash.node.active=!1,this.scheduleOnce(function(){t.child.getComponent(s.default).talk(1011,function(){})},1),this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",2),t.child.runAction(cc.moveTo(2,new cc.Vec2(50,-300))),t.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),t.card.node.active=!0,t.coin.node.active=!0,t.cash.node.active=!0})))}))),this.card.node.on("click",function(){t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),t.runbuslogic()}),this.coin.node.on("click",function(){t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),t.runbuslogic()}),this.cash.node.on("click",function(){t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),t.runbuslogic()})},e.prototype.runbuslogic=function(){var t=this;this.card.node.active=!1,this.coin.node.active=!1,this.cash.node.active=!1,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.sprite.spriteFrame=t.background,t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),t.child.runAction(cc.moveTo(0,new cc.Vec2(-100,-250))),t.tips.getComponent(u.default).showTips(1013,10,function(){}),t.currentStoryId=1013}),cc.delayTime(1),cc.callFunc(function(){var e=l.default.getInstance().getStoryById(1013);t.checkResult(e)})))},e.prototype.checkResult=function(t){var e=this;a.default.detect(t,function(){1013==e.currentStoryId&&(e.tips.getComponent(u.default).hidTips(function(){e.tips.stopAllActions()}),e.node.runAction(cc.moveTo(2,new cc.Vec2(0,500))),e.old.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0),e.old.runAction(cc.moveTo(5,new cc.Vec2(280,-350))))},function(){1013==e.currentStoryId&&e.runbuslogic()})},e.prototype.onOK=function(){var t=this;this.node.runAction(cc.moveTo(2,new cc.Vec2(0,1200))),this.child.scaleX=1,this.child.getComponent(s.default).walkTo(.3,new cc.Vec2(-100,-500),function(){t.child.getComponent(s.default).walkTo(3,new cc.Vec2(-300,-500),function(){t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),t.child.scaleX=-1,t.child.getChildByName("WordBg").getChildByName("Word").scaleX=-1})}),this.people.getComponent(r.default).talk(1016,function(){var e=l.default.getInstance().getStoryById(1017);t.currentStoryId=1017,t.tips.getComponent(u.default).showTips(1017,10,function(){}),a.default.detect(e,function(){t.child.stopAllActions(),t.scheduleOnce(function(){this.bus.active=!1,this.shop.active=!0},3)},function(){1017==t.currentStoryId&&t.child.getComponent(s.default).walkTo(2,new cc.Vec2(-100,-500),function(){t.onOK()})})})},e.prototype.onCancel=function(){},i([f(cc.Node)],e.prototype,"child",void 0),i([f(cc.Button)],e.prototype,"card",void 0),i([f(cc.Button)],e.prototype,"coin",void 0),i([f(cc.Button)],e.prototype,"cash",void 0),i([f(cc.SpriteFrame)],e.prototype,"background",void 0),i([f(cc.Sprite)],e.prototype,"sprite",void 0),i([f(cc.Node)],e.prototype,"btnCancel",void 0),i([f(cc.Node)],e.prototype,"btnOK",void 0),i([f(cc.Node)],e.prototype,"bus",void 0),i([f(cc.Node)],e.prototype,"shop",void 0),i([f(cc.Node)],e.prototype,"people",void 0),i([f(cc.Node)],e.prototype,"old",void 0),i([f(cc.Node)],e.prototype,"tips",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../Object/Bird":"Bird","../Tables/TableSystem":"TableSystem","./algo":"algo","./superBear":"superBear","./superTips":"superTips"}],eat:[function(t,e,n){"use strict";cc._RF.push(e,"22da2lfO/1A54RG01NCZ5Mf","eat");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),l=t("../Object/Bear"),a=t("../NetUtils/GameProgress"),s=cc._decorator,u=s.ccclass,p=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EAT=null,e.Elevator=null,e.title=null,e.description=null,e.btnCancel=null,e.btnOK=null,e.bear=null,e.panel=null,e.busstop=null,e.bus=null,e.shop=null,e.home=null,e}return c(e,t),e.prototype.start=function(){r.default.getInstance(),this.saveporc(),this.runLogic()},e.prototype.runLogic=function(){var t=this;this.bear.getComponent(l.default).walkTo(3,new cc.Vec2(400,-400),function(){t.bear.getComponent(l.default).talk(1e3,function(){t.node.runAction(cc.moveTo(.3,new cc.Vec2(0,0)))})})},e.prototype.onOK=function(){var t=this;this.node.runAction(cc.moveTo(.3,new cc.Vec2(-1500,0))),this.bear.getChildByName("WordBg").active=!1,this.bear.getComponent(l.default).walkTo(3,new cc.Vec2(1200,-400),function(){t.EAT.active=!1,t.Elevator.active=!0})},e.prototype.onCancel=function(){var t=this;this.node.runAction(cc.moveTo(.3,new cc.Vec2(-1500,0))),this.bear.getChildByName("WordBg").active=!1,this.bear.getComponent(l.default).walkTo(3,new cc.Vec2(1200,-400),function(){t.runLogic()})},e.prototype.saveporc=function(){var t=this;a.default.queryProgress(function(e){if(""==e.progress);else{var n=e.progress,o=n.scene,c=n.story;1==o&&(c<1002||(c<1009?(t.node.active=!1,t.Elevator.active=!0):c<1011?(t.node.active=!1,t.busstop.active=!0):c<1020?(t.node.active=!1,t.bus.active=!0):c<1026?(t.node.active=!1,t.shop.active=!0):(t.node.active=!1,t.home.active=!0)))}},function(){})},i([p(cc.Node)],e.prototype,"EAT",void 0),i([p(cc.Node)],e.prototype,"Elevator",void 0),i([p(cc.Label)],e.prototype,"title",void 0),i([p(cc.Label)],e.prototype,"description",void 0),i([p(cc.Node)],e.prototype,"btnCancel",void 0),i([p(cc.Node)],e.prototype,"btnOK",void 0),i([p(cc.Node)],e.prototype,"bear",void 0),i([p(cc.Node)],e.prototype,"panel",void 0),i([p(cc.Node)],e.prototype,"busstop",void 0),i([p(cc.Node)],e.prototype,"bus",void 0),i([p(cc.Node)],e.prototype,"shop",void 0),i([p(cc.Node)],e.prototype,"home",void 0),i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../NetUtils/GameProgress":"GameProgress","../Object/Bear":"Bear","../Tables/TableSystem":"TableSystem"}],"scene2-3":[function(t,e,n){"use strict";cc._RF.push(e,"07bc9FYRGZL7p5C8wB9pm75","scene2-3");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),l=t("../Utils/CommonUtils"),a=t("./superTips"),s=t("./superBear"),u=t("./algo"),p=cc._decorator,d=p.ccclass,f=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.child=null,e.floor=null,e.background=null,e.afterchange=null,e.red=null,e.yellow=null,e.green=null,e.bus=null,e.elevator=null,e.light=null,e.tips=null,e.currentStoryId=-1,e.rnumber=l.CommonUtils.getRandomRange(0,2),e}return c(e,t),e.prototype.start=function(){var t=this;r.default.getInstance(),this.light.active=!1,this.light.getChildByName("lyellow").active=!1,this.light.getChildByName("lred").active=!1,this.light.getChildByName("lgreen").active=!1,this.light.getChildByName("lyellow2").active=!1,this.light.getChildByName("lred2").active=!1,this.light.getChildByName("lgreen2").active=!1,this.bus.active=!1,this.yellow.node.active=!1,this.red.node.active=!1,this.green.node.active=!1,this.floor.node.on("click",function(){t.scheduleOnce(function(){t.changeToLightLogic()},1)}),this.scheduleOnce(function(){t.runElevatorLogic()},1)},e.prototype.runElevatorLogic=function(){var t=this;this.child.getComponent(s.default).walkTo(5,new cc.Vec2(400,-500),function(){var e=r.default.getInstance().getStoryById(1002);t.currentStoryId=1002,t.node.runAction(cc.sequence(cc.callFunc(function(){t.tips.getComponent(a.default).showTips(1002,10,function(){})}),cc.callFunc(function(){u.default.detect(e,function(){t.tips.getComponent(a.default).hidTips(function(){t.tips.stopAllActions()}),t.changeToLightLogic()},function(){t.child.getComponent(s.default).walkTo(5,new cc.Vec2(-1500,-500),function(){t.runElevatorLogic()})})})))})},e.prototype.changeToLightLogic=function(){var t=this;this.node.runAction(cc.sequence(cc.callFunc(function(){t.child.getComponent(s.default).walkTo(1,new cc.Vec2(600,-500),function(){t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),t.tips.stopAllActions(),t.tips.runAction(cc.moveTo(.5,new cc.Vec2(-700,-715)))})}),cc.delayTime(.5),cc.callFunc(function(){t.child.getComponent(s.default).talk(1003,function(){},function(){t.child.getComponent(s.default).walkTo(5,new cc.Vec2(1500,-500),function(){t.floor.node.active=!1,t.child.x=-1500,t.child.y=-500,t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),t.background.spriteFrame=t.afterchange,t.light.active=!0,t.yellow.node.active=!0,t.red.node.active=!0,t.green.node.active=!0,1==t.rnumber?t.showYellowLight():0==t.rnumber?t.showRedLight():2==t.rnumber&&t.showGreenLight(),t.runLightLogic()})})})))},e.prototype.runLightLogic=function(){var t=this;this.child.getComponent(s.default).walkTo(2,new cc.Vec2(-800,-500),function(){var e=r.default.getInstance().getStoryById(1005+t.rnumber);t.currentStoryId=t.rnumber+1005,t.node.runAction(cc.sequence(cc.callFunc(function(){t.tips.getComponent(a.default).showTips(t.currentStoryId,10,function(){})}),cc.callFunc(function(){u.default.detect(e,function(){t.currentStoryId==t.rnumber+1005&&(t.tips.getComponent(a.default).hidTips(function(){t.tips.stopAllActions()}),t.light.getChildByName("lyellow").active=!1,t.light.getChildByName("lred").active=!1,t.light.getChildByName("lgreen").active=!0,t.light.getChildByName("lyellow2").active=!1,t.light.getChildByName("lred2").active=!1,t.light.getChildByName("lgreen2").active=!0,t.child.getComponent(s.default).walkTo(3,new cc.Vec2(750,-500),function(){t.elevator.active=!1,t.bus.active=!0}))},function(){t.currentStoryId==t.rnumber+1005&&t.child.getComponent(s.default).walkTo(1,new cc.Vec2(-1500,-500),function(){t.runLightLogic()})})})))})},e.prototype.showRedLight=function(){var t=this;this.light.getChildByName("lred").active=!0,this.light.getChildByName("lred2").active=!0,this.red.node.on("click",function(){t.node.stopAllActions(),t.light.getChildByName("lred").active=!1,t.light.getChildByName("lred2").active=!1,t.light.getChildByName("lgreen").active=!0,t.light.getChildByName("lgreen2").active=!0,t.ongreen()}),this.yellow.node.on("click",function(){}),this.green.node.on("click",function(){})},e.prototype.showYellowLight=function(){var t=this;this.light.getChildByName("lyellow").active=!0,this.light.getChildByName("lyellow2").active=!0,this.yellow.node.on("click",function(){t.light.getChildByName("lyellow").active=!1,t.light.getChildByName("lyellow2").active=!1,t.light.getChildByName("lgreen").active=!0,t.light.getChildByName("lgreen2").active=!0,t.ongreen()}),this.red.node.on("click",function(){}),this.green.node.on("click",function(){})},e.prototype.showGreenLight=function(){var t=this;this.light.getChildByName("lgreen").active=!0,this.light.getChildByName("lgreen2").active=!0,this.green.node.on("click",function(){t.child.runAction(cc.moveBy(3,new cc.Vec2(1500,0))),t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",2),t.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.currentStoryId=1010,t.child.getComponent(s.default).talk(1010,function(){}),t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),t.schedule(function(){this.elevator.active=!1,this.bus.active=!0},2)}))),t.yellow.node.on("click",function(){}),t.red.node.on("click",function(){})})},e.prototype.ongreen=function(){var t=this;this.green.node.on("click",function(){t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",2),t.child.getComponent(s.default).walkTo(5,new cc.Vec2(750,-500),function(){t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),t.currentStoryId=1010,t.child.getComponent(s.default).talk(1010,function(){},function(){t.elevator.active=!1,t.bus.active=!0})})})},i([f(cc.Node)],e.prototype,"child",void 0),i([f(cc.Button)],e.prototype,"floor",void 0),i([f(cc.Sprite)],e.prototype,"background",void 0),i([f(cc.SpriteFrame)],e.prototype,"afterchange",void 0),i([f(cc.Button)],e.prototype,"red",void 0),i([f(cc.Button)],e.prototype,"yellow",void 0),i([f(cc.Button)],e.prototype,"green",void 0),i([f(cc.Node)],e.prototype,"bus",void 0),i([f(cc.Node)],e.prototype,"elevator",void 0),i([f(cc.Node)],e.prototype,"light",void 0),i([f(cc.Node)],e.prototype,"tips",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./algo":"algo","./superBear":"superBear","./superTips":"superTips"}],shop:[function(t,e,n){"use strict";cc._RF.push(e,"2d0c080F1FG4Jl5naC8Br1Q","shop");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Object/Bird"),l=t("../Tables/TableSystem"),a=t("./algo"),s=t("./superBear"),u=t("./superTips"),p=cc._decorator,d=p.ccclass,f=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.shop=null,e.home=null,e.apple=null,e.juice=null,e.book=null,e.casher=null,e.tips=null,e.child=null,e.marketdoor=null,e.bus=null,e.currentStoryId=-1,e}return c(e,t),e.prototype.start=function(){var t=this,e=this.node.getChildByName("Bg").getChildByName("Title").getComponent(cc.Label);l.default.getInstance(),this.child.getComponent(s.default).walkTo(5,new cc.Vec2(-500,-520),function(){t.child.opacity=0,t.child.getComponent(s.default).walkTo(.5,new cc.Vec2(1500,-520),function(){t.child.opacity=255,t.marketdoor.active=!1,t.runbearlogic()})}),this.apple.node.on("click",function(){e.string="\u662f\u5426\u786e\u5b9a",t.book.node.active=!1,t.apple.node.active=!1,t.juice.node.active=!1,t.runreachhand(),t.node.runAction(cc.moveTo(2,new cc.Vec2(0,1200)))}),this.book.node.on("click",function(){e.string="\u662f\u5426\u786e\u5b9a",t.book.node.active=!1,t.apple.node.active=!1,t.juice.node.active=!1,t.runreachhand(),t.node.runAction(cc.moveTo(2,new cc.Vec2(0,1200)))}),this.juice.node.on("click",function(){e.string="\u662f\u5426\u786e\u5b9a",t.juice.node.active=!1,t.book.node.active=!1,t.apple.node.active=!1,t.runreachhand(),t.node.runAction(cc.moveTo(2,new cc.Vec2(0,1200)))})},e.prototype.runbearlogic=function(){var t=this;this.child.getComponent(s.default).walkTo(2,new cc.Vec2(800,-520),function(){t.child.getComponent(s.default).talk(1020,function(){},function(){var e=l.default.getInstance().getStoryById(1021);t.currentStoryId=1021,t.tips.getComponent(u.default).showTips(t.currentStoryId,10,function(){}),a.default.detect(e,function(){1021==t.currentStoryId&&(t.tips.getComponent(u.default).hidTips(function(){t.tips.stopAllActions()}),t.node.runAction(cc.moveTo(2,new cc.Vec2(0,200))))},function(){1021==t.currentStoryId&&t.child.getComponent(s.default).walkTo(2,new cc.Vec2(1500,-520),function(){t.runbearlogic()})})})})},e.prototype.runreachhand=function(){var t=this,e=l.default.getInstance().getStoryById(1022);this.currentStoryId=1022,this.tips.getComponent(u.default).showTips(this.currentStoryId,10,function(){}),a.default.detect(e,function(){1022==t.currentStoryId&&(t.tips.getComponent(u.default).hidTips(function(){t.tips.stopAllActions()}),t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),t.runcasherlogic())},function(){1022==t.currentStoryId&&t.runreachhand()})},e.prototype.runcasherlogic=function(){var t=this;this.casher.getComponent(r.default).talk(1023,function(){t.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0);var e=l.default.getInstance().getStoryById(1024);t.currentStoryId=1024,t.tips.getComponent(u.default).showTips(t.currentStoryId,10,function(){}),a.default.detect(e,function(){1024==t.currentStoryId&&(t.tips.getComponent(u.default).hidTips(function(){t.tips.stopAllActions()}),t.marketdoor.active=!0,t.bus.runAction(cc.sequence(cc.moveTo(3,new cc.Vec2(320,-250)),cc.delayTime(2),cc.callFunc(function(){t.child.active=!1}),cc.moveTo(3,new cc.Vec2(-1700,-250)),cc.delayTime(1),cc.callFunc(function(){t.shop.active=!1,t.home.active=!0}))))},function(){1024==t.currentStoryId&&t.runcasherlogic()})})},i([f(cc.Label)],e.prototype,"label",void 0),i([f(cc.Node)],e.prototype,"shop",void 0),i([f(cc.Node)],e.prototype,"home",void 0),i([f(cc.Button)],e.prototype,"apple",void 0),i([f(cc.Button)],e.prototype,"juice",void 0),i([f(cc.Button)],e.prototype,"book",void 0),i([f(cc.Node)],e.prototype,"casher",void 0),i([f(cc.Node)],e.prototype,"tips",void 0),i([f(cc.Node)],e.prototype,"child",void 0),i([f(cc.Node)],e.prototype,"marketdoor",void 0),i([f(cc.Node)],e.prototype,"bus",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../Object/Bird":"Bird","../Tables/TableSystem":"TableSystem","./algo":"algo","./superBear":"superBear","./superTips":"superTips"}],superBear:[function(t,e,n){"use strict";cc._RF.push(e,"c3ed531avlAeqYFzSQqopLL","superBear");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),l=t("../NetUtils/GameProgress"),a=t("../Prefabs/PlaySound"),s=cc._decorator,u=s.ccclass,p=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.update=function(){},e.prototype.walkTo=function(t,e,n){var o=this;console.log("\u5c0f\u718a\u8d70\u5411\uff1a"+e.toString()),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.callFunc(function(){o.node.x<e.x?o.node.scaleX=-1:o.node.scaleX=1,o.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(t,e),cc.callFunc(function(){o.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof n&&n()})))},e.prototype.turnFace=function(t,e){var n=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("turn face",0)}),cc.delayTime(t),cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof e&&e()})))},e.prototype.talk=function(t,e,n){var o=this;if(void 0===n&&(n=null),console.log("talk ID:"+t),-1!=t){var c=r.default.getInstance().getStoryById(t);null!=c&&this.node.runAction(cc.sequence(cc.callFunc(function(){if(1==c.m_IsCallBack)o.wordPanel.active=!1,o.word.string="",o.node.stopAllActions(),"function"==typeof n&&n(c);else{var t={scene:1,story:c.m_ID};l.default.saveProgress(JSON.stringify(t),function(){},function(){}),o.wordPanel.active=!0,o.word.string=c.m_Word,cc.find("PlaySound").getComponent(a.default).playSound(c.m_ID)}}),cc.delayTime(c.m_Time),cc.callFunc(function(){o.wordPanel.active=!1,o.word.string=""}),cc.callFunc(function(){-1==c.m_Next?1==c.m_IsBirdFly?(o.node.stopAllActions(),o.walkTo(5,new cc.Vec2(-200,o.node.y),function(){"function"==typeof n&&n()})):"function"==typeof n&&n():(console.log("\u5c0f\u718a\u7ee7\u7eed\u8bf4\u4e0b\u4e00\u53e5\u8bdd\uff1a"+c.m_Next),o.talk(c.m_Next,e,n))})))}else this.wordPanel.active=!1},e.prototype.getAlgorithmDetectionResult=function(t,e){for(var n=null,o=r.default.getInstance().getAlgorithmDetectionCount(),c=0;c<o;c++){var i=r.default.getInstance().getAlgorithmDetection(c);if(i.m_CheckType==t&&i.m_StatusId==e){n=i;break}}return n},i([p(cc.Node)],e.prototype,"wordPanel",void 0),i([p(cc.Label)],e.prototype,"word",void 0),i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../NetUtils/GameProgress":"GameProgress","../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem"}],superTips:[function(t,e,n){"use strict";cc._RF.push(e,"521272+/oNGy4QB6hLx13wJ","superTips");var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var c,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,n,r):c(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),l=cc._decorator,a=l.ccclass,s=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.description=null,e.m_0x01_1=null,e.m_0x01_2=null,e.m_0x01_3=null,e.m_0x01_4=null,e.m_0x01_5=null,e.m_0x01_6=null,e.m_0x01_7=null,e.m_0x01_8=null,e.m_0x02_1=null,e.m_0x02_2=null,e.m_0x02_3=null,e.m_0x02_4=null,e.m_0x02_5=null,e}return c(e,t),e.prototype.start=function(){},e.prototype.showTips=function(t,e,n){var o=this,c=r.default.getInstance().getStoryById(t);this.node.runAction(cc.sequence(cc.callFunc(function(){o.node.position.y<-1e3&&o.node.runAction(cc.moveBy(.5,new cc.Vec2(0,300))),o.title.string=c.m_Title,o.description.string=c.m_Word;var t=o.chooseSound(c.m_CheckType,c.m_CheckTargetId);cc.audioEngine.play(t,!1,1)}),cc.moveTo(.5,new cc.Vec2(-700,-415)),cc.delayTime(e),cc.moveTo(.5,new cc.Vec2(-700,-715)),cc.callFunc(function(){"function"==typeof n&&n()}),cc.delayTime(1),cc.callFunc(function(){o.showTips(t,e,n)})))},e.prototype.hidTips=function(t){this.node.runAction(cc.sequence(cc.moveTo(.5,new cc.Vec2(-700,-715)),cc.callFunc(function(){"function"==typeof t&&t()})))},e.prototype.chooseSound=function(t,e){switch(t){case"0x01":switch(e){case"1":case 1:return this.m_0x01_1;case"2":case 2:return this.m_0x01_2;case"3":case 3:return this.m_0x01_3;case"4":case 4:return this.m_0x01_4;case"5":case 5:return this.m_0x01_5;case"6":case 6:return this.m_0x01_6;case"7":case 7:return this.m_0x01_7;case"8":case 8:return this.m_0x01_8;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x01 StatusId: ",e),null}case"0x02":switch(e){case"1":case 1:return this.m_0x02_1;case"2":case 2:return this.m_0x02_2;case"3":case 3:return this.m_0x02_3;case"4":case 4:return this.m_0x02_4;case"5":case 5:return this.m_0x02_5;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x02 StatusId: ",e),null}default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR AlgorithmId: ",t),null}},i([s(cc.Label)],e.prototype,"title",void 0),i([s(cc.Label)],e.prototype,"description",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_1",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_2",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_3",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_4",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_5",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_6",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_7",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_8",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_1",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_2",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_3",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_4",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_5",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem"}],use_reversed_rotateTo:[function(t,e){"use strict";cc._RF.push(e,"2efc0nxnmRDuLwZHCjU3g4G","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"b0055SV/oVPe5QV/+Hf2mDo","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["HomeScene","KS_Bird","KS_ChoosePanel","KS_Guard","KS_ISContinue","KS_Lights","KS_Player","KS_Singer","KS_Teacher","KS_TipsPanel","KindergartenScene","CheckSystem","DataSystem","GameProgress","NetUtils","BaseObject","Bear","Bird","OldMan","Seller","ChoosePanel","ChooseScenePanel","PlaySound","TipsPanel","SupermarketScene","TableStruct","TableSystem","Table_AlgorithmDetection","Table_ErrorCode","Table_Scene","Table_Story","CommonUtils","Story","Home","algo","bus","busstop","eat","scene2-3","shop","superBear","superTips","use_reversed_rotateTo","use_v2.1-2.2.1_cc.Toggle_event"]);