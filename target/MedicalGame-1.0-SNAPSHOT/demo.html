<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      #header {
        background-color: black;
        color: white;
        text-align: center;
        /* padding: 5px; */
      }

      #section {
        width: 100%;
        float: left;
        /* padding: 10px; */
      }

      #footer {
        background-color: black;
        color: rgb(255, 255, 255);
        clear: both;
        text-align: center;
        position: absolute;
        box-sizing: content-box;
        width: 100%;
        bottom: 0px;
        /* padding: 5px; */
      }
      .chart-container {
        width: 400px;
        height: 500px;
      }
    </style>
    <link rel="stylesheet" type="text/css" href="./css/global.css" />
    <script src="./js/chart.min.js"></script>
    <script src="./js/jquery-3.6.0.min.js"></script>
  </head>

  <body>
    <div id="header">
      <h1>MedicalGame BackStage</h1>
    </div>

    <div id="section">
      <div id="chart" class="chart-container"></div>
    </div>

    <div id="footer">made by nwu</div>
  </body>
  <script src="./js/jquery-3.6.0.min.js"></script>
  <script src="./js/echarts.min.js"></script>
  <script>
    var myChart = echarts.init(document.getElementById("chart"));
    myChart.showLoading();
    myChart.setOption({
      title: {
        text: "脑电数据",
      },
      tooltip: {},
      legend: {
        data: ["销量"],
      },
      xAxis: {
        data: ["专注度","脑电波"],
      },
      yAxis: {
          min:0,
          max:100
      },
      series: [
        {
          name: "aaa",
          type: "bar",
          data: [],
        },
      ],
    });
    window.onload = function () {
      myChart.hideLoading();
      getApi();
    };
    function getApi() {
      $.get("http://localhost:8080/MedicalGame/BackendServlet").done(function (res) {
        // 填入数据
        myChart.setOption({
          series: [
            {
              // 根据名字对应到相应的系列
              name: "aaa",
              data: [res.data2,res.data],
            },
          ],
        });
      });

      setTimeout(function () {
        getApi();
      }, 1000);
    }
  </script>
</html>
