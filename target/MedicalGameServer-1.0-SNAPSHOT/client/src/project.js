window.__require=function e(t,n,o){function c(i,a){if(!n[i]){if(!t[i]){var l=i.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!a&&s)return s(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+i+"'")}}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){return c(t[i][1][e]||e)},u,u.exports,e,t,n,o)}return n[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<o.length;i++)c(o[i]);return c}({BaseObject:[function(e,t,n){"use strict";cc._RF.push(t,"38701egHSZOWr3DULWH7gcb","BaseObject");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.object_id=0,t}return o(t,e),t.prototype.talk=function(e,t){void 0===t&&(t=null),"function"==typeof t&&t()},t.prototype.walkTo=function(e,t,n){"function"==typeof n&&n()},t.prototype.idle=function(e){"function"==typeof e&&e()},t.prototype.moveTo=function(e,t,n){"function"==typeof n&&n()},t.prototype.show=function(e,t){"function"==typeof t&&t()},c([a],t.prototype,"object_id",void 0),t=c([i],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],Bear:[function(e,t,n){"use strict";cc._RF.push(t,"39929P4AE5KPJLyBKw4Z+4L","Bear");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Tables/TableSystem"),i=e("./BaseObject"),a=e("../Utils/CommonUtils"),l=cc._decorator,s=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wordPanel=null,t.word=null,t}return o(t,e),t.prototype.start=function(){this.talk(-1,function(){})},t.prototype.update=function(e){},t.prototype.walkTo=function(e,t,n){var o=this;console.log("\u5c0f\u718a\u8d70\u5411\uff1a"+t.x+", "+t.y),a.CommonUtils.comprareTo(this.node.x,t.x)!=a.ConstDefine.EQUAL||"function"!=typeof n?(this.node.x<t.x?this.node.scaleX=-1:this.node.scaleX=1,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.callFunc(function(){o.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(e,t),cc.callFunc(function(){o.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof n&&n()})))):n()},t.prototype.idle=function(e){this.node.stopAllActions(),this.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("turn face",0),"function"==typeof e&&e()},t.prototype.talk=function(e,t){if(void 0===t&&(t=null),console.log("talk ID:"+e),e==a.ConstDefine.SAY_NOTING_ID)return this.wordPanel.active=!1,this.word.string="",void("function"==typeof t&&t());var n=r.default.getInstance().getStoryById(e);null!=n&&(this.wordPanel.active=!0,this.word.string=n.m_Word),"function"==typeof t&&t()},t.prototype.getAlgorithmDetectionResult=function(e,t){for(var n=null,o=r.default.getInstance().getAlgorithmDetectionCount(),c=0;c<o;c++){var i=r.default.getInstance().getAlgorithmDetection(c);if(i.m_CheckType==e&&i.m_StatusId==t){n=i;break}}return n},c([u(cc.Node)],t.prototype,"wordPanel",void 0),c([u(cc.Label)],t.prototype,"word",void 0),t=c([s],t)}(i.default);n.default=p,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],Bird:[function(e,t,n){"use strict";cc._RF.push(t,"acf9b1KdmJHcKF0g1BCsnq5","Bird");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./BaseObject"),i=e("../Tables/TableSystem"),a=e("../Utils/CommonUtils"),l=cc._decorator,s=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wordPanel=null,t.word=null,t}return o(t,e),t.prototype.start=function(){this.talk(-1,function(){})},t.prototype.update=function(e){},t.prototype.talk=function(e,t){var n=this;if(-1!=e){var o=i.default.getInstance().getStoryById(e);null!=o&&this.node.runAction(cc.sequence(cc.callFunc(function(){1==o.m_IsCallBack?(n.wordPanel.active=!1,n.word.string="",n.node.stopAllActions(),"function"==typeof t&&t(o)):(n.wordPanel.active=!0,n.word.string=o.m_Word)}),cc.delayTime(o.m_Time),cc.callFunc(function(){n.wordPanel.active=!1,n.word.string=""}),cc.callFunc(function(){if(-1==o.m_Next)return 1==o.m_IsBirdFly&&n.node.runAction(cc.moveTo(5,new cc.Vec2(a.DeviceUtils.getVisibleSize().width+200,n.node.position.y+100))),void("function"==typeof t&&t());n.talk(o.m_Next,t)})))}else this.wordPanel.active=!1},c([u(cc.Node)],t.prototype,"wordPanel",void 0),c([u(cc.Label)],t.prototype,"word",void 0),t=c([s],t)}(r.default);n.default=p,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],CheckSystem:[function(e,t,n){"use strict";cc._RF.push(t,"35decf988xOBpVRydzEx+UF","CheckSystem"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../NetUtils/NetUtils"),c=function(){function e(){}return e.checkResult=function(e,t,n,c){var r={operationCode:5,checkType:e,result:t};o.default.requestOnPost(r,function(e){if(console.log("\u6b63\u786e\uff1a\u6536\u5230\u53ef\u8bc6\u522b\u68c0\u6d4b\u7ed3\u679c"),"function"==typeof n){var t={checkType:e.checkType,result:e.result};n(t)}},function(e){if(console.log("\u9519\u8bef\uff1a\u6536\u5230\u4e0d\u53ef\u8bc6\u522b\u68c0\u6d4b\u7ed3\u679c"),"function"==typeof c){var t={errorMsg:e.errorMsg};c(t)}})},e}();n.default=c,cc._RF.pop()},{"../NetUtils/NetUtils":"NetUtils"}],ChoosePanel:[function(e,t,n){"use strict";cc._RF.push(t,"832c081iUxNka2Cyl2r7/8U","ChoosePanel");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.description=null,t.btnCancel=null,t.btnOK=null,t.okCallbackEvent=null,t.cancelCallbackEvent=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.show=function(e,t,n,o,c){void 0===c&&(c=0),console.log("\u9009\u62e9\u9762\u677f\u663e\u793a\u5267\u60c5"),null!=this.title&&(this.title.string=e),null!=this.description&&(this.description.string=t),this.okCallbackEvent=n,this.cancelCallbackEvent=o},t.prototype.onOK=function(){"function"==typeof this.okCallbackEvent&&this.okCallbackEvent()},t.prototype.onCancel=function(){"function"==typeof this.cancelCallbackEvent&&this.cancelCallbackEvent()},c([a(cc.Label)],t.prototype,"title",void 0),c([a(cc.Label)],t.prototype,"description",void 0),c([a(cc.Node)],t.prototype,"btnCancel",void 0),c([a(cc.Node)],t.prototype,"btnOK",void 0),t=c([i],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],ChooseScenePanel:[function(e,t,n){"use strict";cc._RF.push(t,"9fc89gEUWtHjK5xAtfk+s8X","ChooseScenePanel");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Object/BaseObject"),i=cc._decorator,a=i.ccclass,l=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){},t.prototype.moveTo=function(e,t,n){console.log("\u5f39\u51fa\u9009\u62e9\u573a\u666f\u9762\u677f"),this.node.runAction(cc.sequence(cc.moveTo(e,t),cc.callFunc(function(){"function"==typeof n&&n()})))},t.prototype.changeScene=function(e,t){switch(t){case"1":cc.director.loadScene("EAT");break;case"2":cc.director.loadScene("KindergartenScene");break;case"3":cc.director.loadScene("ParkScene")}},t=c([a],t)}(r.default));n.default=l,cc._RF.pop()},{"../Object/BaseObject":"BaseObject"}],CommonUtils:[function(e,t,n){"use strict";cc._RF.push(t,"af584CvWQ1Ahacd111giWvE","CommonUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.SCREEN_WIDTH_LOGIC=1920,e.SCREEN_HEIGHT_LOGIC=1080,e.DIRECTION_LEFT=0,e.DIRECTION_UP=1,e.DIRECTION_RIGHT=2,e.DIRECTION_DOWN=3,e.INVALIDE_VALUE=-1,e.ZERO=5e-4,e.EQUAL=0,e.BIGGER=1,e.SMALLER=2,e.ORITATION_AUTO=0,e.ORITATION_PORTRAIT=1,e.ORITATION_LANDSCAPE=2,e.PLATFORM_ORIGNAL=0,e.PLATFORM_WECHAT=1,e.PLATFORM_TIKTOK=2,e.PLATFORM_ANDROID=3,e.PLATFORM_GOOGLE=4,e.PLATFORM_TYPE=4,e.SERVER_IP="http://127.0.0.1",e.SERVER_PORT="8080",e.LOGIN_SERVER_LET="MedicalGame/OperationServlet",e.GAME_MODEL=1,e.USER_NAME="",e.PASSWORD="",e.CURRENT_CHECK_INFO="",e.SAY_NOTING_ID=-1,e.BEFORE_STORY_SHOW_NPC=1,e.BEFORE_STORY_SHOW_NPC_FINISH=2,e.BEFORE_STORY_SHOW_TIPS=3,e.BEFORE_STORY_SHOW_TIPS_FINISH=4,e.WAIT_STORY_CHECK_RESULT=5,e.WAIT_STORY_CHECK_RESULT_FINISH=6,e.AFTER_STORY_FINISH_TIPS=7,e.AFTER_STORY_FINISH_TIPS_FINISH=8,e.AFTER_STORY_FINISH_NPC=9,e.AFTER_STORY_FINISH_NPC_FINISH=10,e.FINISH_STORY=11,e.FINISH_STORY_FINISH=12,e.STORY_STEP_DESCRIPTION=["\u5267\u60c5\u6b65\u9aa41:\u6267\u884c\u89d2\u8272\u52a8\u4f5c","\u5267\u60c5\u6b65\u9aa42:\u5f39\u51fa\u63d0\u793a\u9762\u677f","\u5267\u60c5\u6b65\u9aa43:\u68c0\u6d4b\u5267\u60c5\u7ed3\u679c","\u5267\u60c5\u6b65\u9aa44:\u6e05\u7406\u63d0\u793a\u9762\u677f","\u5267\u60c5\u6b65\u9aa45:\u7ed3\u675f\u89d2\u8272\u52a8\u4f5c","\u5267\u60c5\u6b65\u9aa46:\u7ed3\u675f\u5f53\u524d\u5267\u60c5"],e.SCENE_HOME=0,e.SCENE_SUPERMARKET=1,e.SCENE_KINDERGARTEN=2,e}();n.ConstDefine=o;var c=function(){function e(){}return e.isEqual=function(e,t,n){return Math.abs(e-t)<=n},e.comprareTo=function(e,t,n){return void 0===n&&(n=o.ZERO),Math.abs(e-t)<=n?o.EQUAL:e>t?o.BIGGER:o.SMALLER},e.getDistancePoint=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},e.getDistancePointXY=function(e,t,n,o){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-o,2))},e.getNodePositionDiff=function(e,t){var n=e.getNodeToWorldTransformAR(),o=n.tx,c=n.ty,r=t.getNodeToWorldTransformAR(),i=r.tx,a=r.ty;return cc.v2(i-o,a-c)},e.isPointInRect=function(t,n,c,r,i){return void 0===i&&(i=o.ZERO),e.comprareTo(t.x,n.x-c/2,i)===o.BIGGER&&e.comprareTo(t.x,n.x+c/2,i)===o.SMALLER&&e.comprareTo(t.y,n.y-r/2,i)===o.BIGGER&&e.comprareTo(t.y,n.y+r/2,i)===o.SMALLER},e.getRandomRange=function(e,t){return Math.floor(Math.random()*t)%(t-e)+e},e}();n.CommonUtils=c;var r=function(){function e(){}return e.addMoveEvent=function(e){null!=e&&void 0!=e?e.on(cc.Node.EventType.TOUCH_MOVE,function(t){var n=t.getDelta(),o=e.position.add(n);e.position=o}):console.error("Are you sure try to add move event on a nil node?")},e.addEndEvent=function(e,t,n,o,c){null!=e&&void 0!=e?e.on(cc.Node.EventType.TOUCH_END,function(r){var i=t.x,a=t.y,l=t.width,s=t.height;e.x>i-l/2&&e.x<i+l/2&&e.y>a-s/2&&e.y<a+s/2&&n?("function"==typeof o&&o(),e.active=!1):"function"==typeof c&&c()}):console.error("Are you sure try to add move end event on a nil node?")},e}();n.OperationUtils=r;var i=function(){function e(){}return e.clickScale=function(e,t,n,o){void 0===o&&(o=null),null!=e&&void 0!=e?e.runAction(cc.sequence(cc.scaleTo(n/2,t,t),cc.scaleTo(n/2,1,1),cc.callFunc(function(){"function"==typeof o&&o()}))):"function"==typeof o&&o()},e.sequenceAnimation=function(e,t,n,o,c){if(void 0===o&&(o=.05),null!=e&&void 0!=e){var r=0;e.runAction(cc.repeat(cc.sequence(cc.callFunc(function(){if(++r<=n){var o=t+"_"+r;e.getComponent(cc.Sprite).spriteFrame=o}else"function"==typeof c&&c()}),cc.delayTime(o)),n+1))}else"function"==typeof c&&c()},e}();n.AnimationUtils=i;var a=function(){function e(){}return e.showSystemInfo=function(){o.PLATFORM_TYPE==o.PLATFORM_WECHAT&&cc.sys.dump()},e.startDynamicDrawcallBatch=function(){o.PLATFORM_TYPE==o.PLATFORM_WECHAT&&(cc.macro.CLEANUP_IMAGE_CACHE=!1,cc.dynamicAtlasManager.enabled=!0,cc.dynamicAtlasManager.maxFrameSize=1024)},e}();n.SystemUtils=a;var l=function(){function e(){}return e.getResolutionSize=function(){return cc.view.getFrameSize()},e.getVisibleSize=function(){return cc.view.getVisibleSize()},e.setOritation=function(e){switch(e){case o.ORITATION_PORTRAIT:cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT);break;case o.ORITATION_LANDSCAPE:cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE);break;case o.ORITATION_AUTO:default:cc.view.setOrientation(cc.macro.ORIENTATION_AUTO)}},e}();n.DeviceUtils=l;var s=function(){function e(){}return e.IS_DEBUG=!1,e}();n.DebugUtils=s;var u=function(){function e(){}return e.getCurrentStamp=function(){return cc.sys.now()},e}();n.TimeUtils=u;var p=function(){function e(){}return e.encrypt=function(e){return e},e.decrypt=function(e){return e},e}();n.EncryptUtils=p;var d=function(){function e(){}return e.write=function(e,t){var n=t;cc.sys.localStorage.setItem(e,n)},e.read=function(e){return cc.sys.localStorage.getItem(e)},e}();n.DataStorageUtils=d,cc._RF.pop()},{}],DataSystem:[function(e,t,n){"use strict";cc._RF.push(t,"8e98fgHK3RISKWmVyMjNBXV","DataSystem"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./NetUtils"),c=function(){function e(){}return e.saveScore=function(e,t,n){var c={operationCode:7,point:e};o.default.requestOnPost(c,function(e){console.log("\u6b63\u786e:\u79ef\u5206\u4fdd\u5b58\u6210\u529f\uff01"),"function"==typeof t&&t()},function(e){if(console.log("\u9519\u8bef:\u79ef\u5206\u4fdd\u5b58\u5931\u8d25\uff01"),"function"==typeof n){var t={errorMsg:e.errorMsg};n(t)}})},e.queryScore=function(e,t){o.default.requestOnPost({operationCode:9},function(t){if(console.log("\u6b63\u786e:\u79ef\u5206\u8bf7\u6c42\u6210\u529f\uff01"),"function"==typeof e){var n={point:t.point};e(n)}},function(e){if(console.log("\u9519\u8bef:\u79ef\u5206\u8bf7\u6c42\u5931\u8d25\uff01"),"function"==typeof t){var n={errorMsg:e.errorMsg};t(n)}})},e}();n.default=c,cc._RF.pop()},{"./NetUtils":"NetUtils"}],GameProgress:[function(e,t,n){"use strict";cc._RF.push(t,"fc9b4V8kZZPbbosc8Y5xJk/","GameProgress"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./NetUtils"),c=function(){function e(){}return e.saveProgress=function(e,t,n){var c={operationCode:11,status:e};o.default.requestOnPost(c,function(n){console.log("\u6b63\u786e:\u8fdb\u5ea6\u4fdd\u5b58\u6210\u529f\uff01"+e),"function"==typeof t&&t()},function(t){if(console.log("\u9519\u8bef:\u8fdb\u5ea6\u4fdd\u5b58\u5931\u8d25\uff01"+e),"function"==typeof n){var o={errorMsg:t.errorMsg};n(o)}})},e.queryProgress=function(e,t){o.default.requestOnPost({operationCode:13},function(t){if(console.log("\u6b63\u786e:\u8fdb\u5ea6\u8bf7\u6c42\u6210\u529f\uff01"),"function"==typeof e){var n={progress:t.status};e(n)}},function(e){if(console.log("\u9519\u8bef:\u8fdb\u5ea6\u8bf7\u6c42\u5931\u8d25\uff01"),"function"==typeof t){var n={errorMsg:e.errorMsg};t(n)}})},e}();n.default=c,cc._RF.pop()},{"./NetUtils":"NetUtils"}],HomeScene:[function(e,t,n){"use strict";cc._RF.push(t,"e1b90/rohdEk4SdmmEZANaD","HomeScene");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Tables/TableSystem"),i=e("./Utils/CommonUtils"),a=e("./NetUtils/NetUtils"),l=e("./Prefabs/TipsPanel"),s=e("./Utils/Story"),u=e("./NetUtils/GameProgress"),p=cc._decorator,d=p.ccclass,f=p.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loginPanel=null,t.accountEdit=null,t.passwordEdit=null,t.bear=null,t.showPanel=null,t.tipsPanel=null,t.isStart=!1,t.isOperate=!1,t.NPCNodes=[],t.audios=[],t}return o(t,e),t.prototype.start=function(){r.default.getInstance(),s.default.getInstance().initScene(this,this.NPCNodes,this.tipsPanel),this.showLoginLogic()},t.prototype.onRegister=function(){if(this.isStart&&this.isOperate)if(""!=this.accountEdit.string&&""!=this.passwordEdit.string){var e=this,t={operationCode:1,userName:this.accountEdit.string,password:this.passwordEdit.string};i.ConstDefine.USER_NAME=this.accountEdit.string,i.ConstDefine.PASSWORD=this.passwordEdit.string,a.default.requestOnPost(t,function(t){console.log("register name : "+i.ConstDefine.USER_NAME+", pwd : "+i.ConstDefine.PASSWORD),e.loginFinish(function(){s.default.getInstance().showStory(5)})},function(e){})}else cc.log("\u8d26\u53f7\u6216\u5bc6\u7801\u4e3a\u7a7a\uff01")},t.prototype.hideTipsPanelInfo=function(){cc.find("Canvas/TipsPanel").getComponent(l.default).hideTips(function(){})},t.prototype.onLogin=function(){if(this.isStart&&this.isOperate)if(""!=this.accountEdit.string&&""!=this.passwordEdit.string){var e=this,t={operationCode:3,userName:this.accountEdit.string,password:this.passwordEdit.string};i.ConstDefine.USER_NAME=this.accountEdit.string,i.ConstDefine.PASSWORD=this.passwordEdit.string,a.default.requestOnPost(t,function(t){console.log("login name : "+i.ConstDefine.USER_NAME+", pwd : "+i.ConstDefine.PASSWORD),e.loginFinish(function(){u.default.queryProgress(function(e){if(""==e.progress)s.default.getInstance().showStory(5);else{var t=e.progress,n=t.scene,o=t.story;switch(n){case i.ConstDefine.SCENE_HOME:s.default.getInstance().showStory(o);break;case i.ConstDefine.SCENE_SUPERMARKET:cc.director.loadScene("EAT");break;case i.ConstDefine.SCENE_KINDERGARTEN:cc.director.loadScene("KindergartenScene");break;default:o.getInstance().showStory(o)}}},function(){s.default.getInstance().showStory(5)})})},function(e){})}else cc.log("\u8d26\u53f7\u6216\u5bc6\u7801\u4e3a\u7a7a\uff01")},t.prototype.loginFinish=function(e){this.isOperate=!1,this.loginPanel.runAction(cc.sequence(cc.delayTime(.5),cc.moveTo(1,new cc.Vec2(i.DeviceUtils.getVisibleSize().width,0)),cc.callFunc(function(){"function"==typeof e&&e()})))},t.prototype.showLoginLogic=function(){var e=this;this.loginPanel.runAction(cc.sequence(cc.delayTime(.5),cc.moveTo(1,new cc.Vec2(0,0)),cc.callFunc(function(){e.isStart=!0,e.isOperate=!0})))},t.prototype.playTipAudio=function(e){var t=cc.find("AudioLayer/"+e);null!=t&&void 0!=t&&cc.audioEngine.play(t.getComponent(cc.AudioSource).clip,!1,1)},c([f(cc.Node)],t.prototype,"loginPanel",void 0),c([f(cc.EditBox)],t.prototype,"accountEdit",void 0),c([f(cc.EditBox)],t.prototype,"passwordEdit",void 0),c([f(cc.Node)],t.prototype,"bear",void 0),c([f(cc.Node)],t.prototype,"showPanel",void 0),c([f(cc.Node)],t.prototype,"tipsPanel",void 0),c([f([cc.Node])],t.prototype,"NPCNodes",void 0),c([f([cc.Node])],t.prototype,"audios",void 0),t=c([d],t)}(cc.Component);n.default=_,cc._RF.pop()},{"./NetUtils/GameProgress":"GameProgress","./NetUtils/NetUtils":"NetUtils","./Prefabs/TipsPanel":"TipsPanel","./Tables/TableSystem":"TableSystem","./Utils/CommonUtils":"CommonUtils","./Utils/Story":"Story"}],Home:[function(e,t,n){"use strict";cc._RF.push(t,"8f052jEyTlFCJiD12tionLo","Home");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Tables/TableSystem"),i=e("./algo"),a=e("./superBear"),l=e("./superTips"),s=cc._decorator,u=s.ccclass,p=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.child=null,t.tips=null,t.door=null,t.elevator=null,t.currentStoryId=-1,t}return o(t,e),t.prototype.start=function(){var e=this;r.default.getInstance(),this.child.getComponent(a.default).walkTo(3,new cc.Vec2(350,-530),function(){e.child.getComponent(a.default).walkTo(3,new cc.Vec2(350,-250),function(){e.door.active=!1,e.node.runAction(cc.sequence(cc.callFunc(function(){e.child.opacity=0,e.child.getComponent(a.default).walkTo(.1,new cc.Vec2(-1500,-500),function(){})}),cc.delayTime(1),cc.callFunc(function(){e.child.opacity=255,e.child.getComponent(a.default).walkTo(3,new cc.Vec2(600,-500),function(){e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),e.scheduleOnce(function(){e.runtalk()},2)})})))})})},t.prototype.runtalk=function(){var e=this;this.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),this.child.scaleX=1,this.elevator.active=!1,this.child.getComponent(a.default).talk(1027,function(){},function(){});var t=r.default.getInstance().getStoryById(1028);this.currentStoryId=1028,this.tips.getComponent(l.default).showTips(this.currentStoryId,10,function(){}),i.default.detect(t,function(){1028==e.currentStoryId&&(e.child.stopAllActions(),e.scheduleOnce(function(){cc.director.loadScene("KindergartenScene")}))},function(){1028==e.currentStoryId&&e.runtalk()})},c([p(cc.Node)],t.prototype,"child",void 0),c([p(cc.Node)],t.prototype,"tips",void 0),c([p(cc.Node)],t.prototype,"door",void 0),c([p(cc.Node)],t.prototype,"elevator",void 0),t=c([u],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem","./algo":"algo","./superBear":"superBear","./superTips":"superTips"}],KS_Bird:[function(e,t,n){"use strict";cc._RF.push(t,"83716kXWP9CNoc1Mt8w+1c9","KS_Bird"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Object/BaseObject"),c=e("../Tables/TableSystem"),r=cc._decorator,i=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wordPanel=null,t.word=null,t}return __extends(t,e),t.prototype.start=function(){this.talk(-1,function(){})},t.prototype.fly=function(e,t,n){this.node.runAction(cc.moveTo(n,new cc.Vec2(e,t)))},t.prototype.flyOut=function(){this.node.runAction(cc.moveTo(0,new cc.Vec2(-440,400)))},t.prototype.talk=function(e,t){var n=this;if(-1==e)return this.wordPanel.active=!1,void(this.word.string="");var o=c.default.getInstance().getStoryById(e);null!=o?this.node.runAction(cc.sequence(cc.callFunc(function(){n.wordPanel.active=!0,n.word.string=o.m_Word}),cc.delayTime(o.m_Time),cc.callFunc(function(){n.wordPanel.active=!1,n.word.string=""}),cc.callFunc(function(){-1==o.m_Next&&1==o.m_IsBirdFly&&n.node.runAction(cc.callFunc(function(){n.flyOut()}))}))):cc.log("Can`t find StoryID")},__decorate([a(cc.Node)],t.prototype,"wordPanel",void 0),__decorate([a(cc.Label)],t.prototype,"word",void 0),t=__decorate([i],t)}(o.default);n.default=l,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Tables/TableSystem":"TableSystem"}],KS_ChoosePanel:[function(e,t,n){"use strict";cc._RF.push(t,"4aa3b6uRopGnqRf4JwU7YNe","KS_ChoosePanel");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./KindergartenScene"),i=e("./KS_Player"),a=cc._decorator,l=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.main=null,t.player=null,t}return o(t,e),t.prototype.start=function(){this.player=cc.find("Player"),null==this.player&&console.log("\u73a9\u5bb6\u672a\u6210\u529f\u52a0\u8f7d")},t.prototype.show=function(e,t,n){void 0===e&&(e=-700),void 0===t&&(t=800),void 0===n&&(n=0),this.node.x=e,this.node.y=t,this.node.runAction(cc.moveTo(1,new cc.Vec2(this.node.x,n)))},t.prototype.unShow=function(e,t,n){void 0===e&&(e=1200),void 0===t&&(t=0),void 0===n&&(n=null),this.node.runAction(cc.sequence(cc.moveTo(1,new cc.Vec2(e,t)),cc.callFunc(function(){"function"==typeof n&&n()})))},t.prototype.scene_1_OK=function(){},t.prototype.scene_1_Cancel=function(){},t.prototype.scene_2_Right=function(){},t.prototype.scene_2_Wrong=function(){},t.prototype.scene_4_Check=function(e,t){},t.prototype.scene_6_1_Check=function(e,t){cc.log("\u5c0f\u670b\u53cb\u6267\u884c\u5237\u5361/\u6295\u786c\u5e01/\u7eb8\u5e01\u4e09\u8005\u52a8\u4f5c\u4e4b\u4e00"),this.main.getComponent(r.default).runScene_6_2()},t.prototype.scene_6_2_OK=function(){this.unShow(),this.main.getComponent(r.default).runScene_6_4()},t.prototype.scene_6_2_NO=function(){},t.prototype.scene_8_Check=function(e,t){var n=this;this.unShow();var o,c,a=cc.find("KindergartenScene/Scene8/Singer"),l=cc.find("teacher"),s=cc.find("KindergartenScene/Scene8/ChoosePanel_8/mp3_1").getComponent(cc.AudioSource).clip,u=cc.find("KindergartenScene/Scene8/ChoosePanel_8/mp3_2").getComponent(cc.AudioSource).clip,p=cc.find("KindergartenScene/Scene8/ChoosePanel_8/mp3_3").getComponent(cc.AudioSource).clip;switch(cc.log("\u5408\u5531\u5bf9\u5e94\u66f2\u76ee\u3002"),t){case 1:case"1":o=s,c=25;break;case 2:case"2":o=u,c=27;break;case 3:case"3":o=p,c=35;break;default:cc.log("scene_8_Check music \u52a0\u8f7d\u51fa\u9519\uff01")}this.node.runAction(cc.sequence(cc.callFunc(function(){a.runAction(cc.moveTo(2,new cc.Vec2(a.x,-168))),n.player.getComponent(i.default).walk(1160,25,2)}),cc.delayTime(2),cc.callFunc(function(){n.main.getComponent(r.default).bgmShutdown(),cc.audioEngine.play(o,!1,1)}),cc.delayTime(c),cc.callFunc(function(){l.x=-1e3,n.main.getComponent(r.default).bgmStart(),n.main.getComponent(r.default).runScene_10_1()})))},t.prototype.scene_11_Right=function(){},t.prototype.scene_11_Wrong=function(){},c([s(cc.Node)],t.prototype,"main",void 0),t=c([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./KS_Player":"KS_Player","./KindergartenScene":"KindergartenScene"}],KS_Guard:[function(e,t,n){"use strict";cc._RF.push(t,"06d0c5cy9xO75FUyH00z6yM","KS_Guard");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Object/BaseObject"),i=e("../Tables/TableSystem"),a=cc._decorator,l=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wordPanel=null,t.word=null,t}return o(t,e),t.prototype.start=function(){this.talk(-1,function(){})},t.prototype.talk=function(e,t){var n=this;if(-1==e)return this.wordPanel.active=!1,void(this.word.string="");var o=i.default.getInstance().getStoryById(e);null!=o?this.node.runAction(cc.sequence(cc.callFunc(function(){n.wordPanel.active=!0,n.word.string=o.m_Word}),cc.delayTime(o.m_Time),cc.callFunc(function(){n.wordPanel.active=!1,n.word.string="","function"==typeof t&&(cc.log("KS_Player.talk \u6267\u884c\u56de\u8c03!"),t(o))}))):cc.log("Can`t find StoryID")},t.prototype.waveHand=function(){cc.log("\u6267\u884c\u6325\u624b\u52a8\u4f5c")},c([s(cc.Node)],t.prototype,"wordPanel",void 0),c([s(cc.Label)],t.prototype,"word",void 0),t=c([l],t)}(r.default);n.default=u,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Tables/TableSystem":"TableSystem"}],KS_ISContinue:[function(e,t,n){"use strict";cc._RF.push(t,"d6370XOrvtHKoIId5dcEn0W","KS_ISContinue");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.main=null,t.title=null,t.description=null,t.YesCallback=null,t.NoCallback=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.show=function(e,t,n,o){this.title.string=e,this.description.string=t,"function"==typeof n&&"function"==typeof o&&(this.YesCallback=n,this.NoCallback=o),this.node.runAction(cc.moveTo(1,new cc.Vec2(this.node.x,320)))},t.prototype.Yes=function(){console.log("\u8df3\u8fc7\u5f53\u524d\u573a\u666f\u68c0\u6d4b!"),this.node.y=960,"function"==typeof this.YesCallback&&this.YesCallback()},t.prototype.No=function(){console.log("\u91cd\u65b0\u5f00\u59cb\u5f53\u524d\u573a\u666f!"),this.node.y=960,"function"==typeof this.NoCallback&&this.NoCallback()},c([a(cc.Node)],t.prototype,"main",void 0),c([a(cc.Label)],t.prototype,"title",void 0),c([a(cc.Label)],t.prototype,"description",void 0),t=c([i],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],KS_Lights:[function(e,t,n){"use strict";cc._RF.push(t,"12f8fGTR4tD+pBPF6yb1U/9","KS_Lights");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Utils/CommonUtils"),i=e("../Tables/TableSystem"),a=e("../Object/BaseObject"),l=cc._decorator,s=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.red=null,t.yellow=null,t.green=null,t.wordPanel=null,t.word=null,t}return o(t,e),t.prototype.start=function(){this.shutdown()},t.prototype.shutdown=function(){this.red.active=!1,this.yellow.active=!1,this.green.active=!1,this.wordPanel.active=!1},t.prototype.light=function(e){var t=this;this.shutdown(),this.type=r.CommonUtils.getRandomRange(0,3);var n=e+this.type,o=i.default.getInstance().getStoryById(n);if(null!=o){switch(this.type){case 0:this.red.active=!0;break;case 1:this.yellow.active=!0;break;case 2:this.green.active=!0}this.node.runAction(cc.sequence(cc.callFunc(function(){t.word.string=o.m_Word,t.wordPanel.active=!0}),cc.delayTime(2),cc.callFunc(function(){t.wordPanel.active=!1})))}else cc.log("Lights::tabStory == NULL ID =",n)},t.prototype.getType=function(){return this.type},t.prototype.lightGreen=function(){this.shutdown(),this.green.active=!0},t.prototype.btnCheck=function(e,t){switch(this.type){case 0:return 2==t?this.checkSuccess():this.checkFalse("\u73b0\u5728\u662f\u7ea2\u706f\u54e6\uff0c\u4e0d\u53ef\u4ee5\u8fc7\uff01");case 1:return 4==t?this.checkSuccess():this.checkFalse("\u73b0\u5728\u662f\u9ec4\u706f\uff0c\u9700\u8981\u518d\u7b49\u7b49\uff01");case 2:return 5==t?this.checkSuccess():this.checkFalse("\u73b0\u5728\u662f\u7eff\u706f\uff0c\u662f\u53ef\u4ee5\u8fc7\u7684\uff01")}},t.prototype.checkSuccess=function(){var e=this;return this.node.runAction(cc.sequence(cc.callFunc(function(){e.word.string="\u7b54\u5bf9\u5566\uff0c\u4f60\u771f\u68d2\uff01",e.wordPanel.active=!0}),cc.delayTime(2),cc.callFunc(function(){e.wordPanel.active=!1}))),!0},t.prototype.checkFalse=function(e){var t=this;return this.node.runAction(cc.sequence(cc.callFunc(function(){t.word.string=e,t.wordPanel.active=!0}),cc.delayTime(2),cc.callFunc(function(){t.wordPanel.active=!1}))),!1},c([u(cc.Node)],t.prototype,"red",void 0),c([u(cc.Node)],t.prototype,"yellow",void 0),c([u(cc.Node)],t.prototype,"green",void 0),c([u(cc.Node)],t.prototype,"wordPanel",void 0),c([u(cc.Label)],t.prototype,"word",void 0),t=c([s],t)}(a.default);n.default=p,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils"}],KS_Player:[function(e,t,n){"use strict";cc._RF.push(t,"13775B8HpNKv7r5aNAE9qgY","KS_Player"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tables/TableSystem"),c=e("../Object/BaseObject"),r=cc._decorator,i=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wordPanel=null,t.word=null,t.player=null,t.playerDisplay=null,t}return __extends(t,e),t.prototype.start=function(){this.playerDisplay=this.player.getComponent(dragonBones.ArmatureDisplay),null==this.playerDisplay&&console.log("player\u9f99\u9aa8\u52a8\u753b\u52a0\u8f7d\u5931\u8d25\uff01"),this.talk(-1,function(){})},t.prototype.talk=function(e,t){var n=this;if(-1==e)return this.wordPanel.active=!1,void(this.word.string="");var c=o.default.getInstance().getStoryById(e);null!=c?this.node.runAction(cc.sequence(cc.callFunc(function(){n.wordPanel.active=!0,n.word.string=c.m_Word}),cc.delayTime(c.m_Time),cc.callFunc(function(){n.wordPanel.active=!1,n.word.string="","function"==typeof t&&(cc.log("KS_Player.talk \u6267\u884c\u56de\u8c03!"),t(c))}))):cc.log("Can`t find StoryID")},t.prototype.walk=function(e,t,n){var o=this;this.node.runAction(cc.sequence(cc.callFunc(function(){o.node.x<=e?o.player.scaleX=-1:o.player.scaleX=1,o.player.stopAllActions(),o.playerDisplay.playAnimation("walk",0)}),cc.moveTo(n,new cc.Vec2(e,t)),cc.callFunc(function(){o.playerDisplay.playAnimation("stand",0)})))},t.prototype.turnFace=function(){this.player.scaleX*=-1},t.prototype.setLoc=function(e,t){this.node.x=e,this.node.y=t},t.prototype.resetLoc=function(){this.node.x=-100,this.node.y=0},t.prototype.pushButton=function(){this.playerDisplay.playAnimation("atc",1)},t.prototype.sleep=function(){console.log("\u7761\u89c9")},t.prototype.sing=function(){console.log("\u5531\u6b4c")},t.prototype.sitdown=function(){console.log("\u5750\u4e0b")},t.prototype.drinkWater=function(){console.log("\u559d\u6c34")},t.prototype.waveHand=function(){console.log("\u6325\u624b")},t.prototype.handShake=function(){console.log("\u5c0f\u670b\u53cb\u63e1\u624b\u3002")},t.prototype.eating=function(){console.log("\u64ad\u653e\u5403\u996d\u52a8\u753b\uff0c\u6301\u7eed3s\u3002")},t.prototype.embrace=function(){console.log("\u5c0f\u670b\u53cb\u62e5\u62b1\u3002")},t.prototype.nod=function(){console.log("\u5c0f\u670b\u53cb\u70b9\u5934\u3002")},__decorate([a(cc.Node)],t.prototype,"wordPanel",void 0),__decorate([a(cc.Label)],t.prototype,"word",void 0),__decorate([a(cc.Node)],t.prototype,"player",void 0),t=__decorate([i],t)}(c.default);n.default=l,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Tables/TableSystem":"TableSystem"}],KS_Singer:[function(e,t,n){"use strict";cc._RF.push(t,"8b8adKj29FHwIU6onASCZD+","KS_Singer");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Object/BaseObject"),i=cc._decorator,a=i.ccclass,l=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return o(t,e),t.prototype.start=function(){},c([l(cc.Label)],t.prototype,"label",void 0),c([l],t.prototype,"text",void 0),t=c([a],t)}(r.default);n.default=s,cc._RF.pop()},{"../Object/BaseObject":"BaseObject"}],KS_Teacher:[function(e,t,n){"use strict";cc._RF.push(t,"cc09c7FVLtAL6UOFBopbyT3","KS_Teacher"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Object/BaseObject"),c=e("../Tables/TableSystem"),r=cc._decorator,i=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wordPanel=null,t.word=null,t}return __extends(t,e),t.prototype.start=function(){this.talk(-1,function(){})},t.prototype.talk=function(e,t){var n=this;if(-1==e)return this.wordPanel.active=!1,void(this.word.string="");var o=c.default.getInstance().getStoryById(e);null!=o?this.node.runAction(cc.sequence(cc.callFunc(function(){n.wordPanel.active=!0,n.word.string=o.m_Word}),cc.delayTime(o.m_Time),cc.callFunc(function(){n.wordPanel.active=!1,n.word.string=""}))):cc.log("Can`t find StoryID")},t.prototype.walk=function(e,t,n){this.node.runAction(cc.moveTo(n,new cc.Vec2(e,t)))},t.prototype.setLoc=function(e,t){this.node.x=e,this.node.y=t},__decorate([a(cc.Node)],t.prototype,"wordPanel",void 0),__decorate([a(cc.Label)],t.prototype,"word",void 0),t=__decorate([i],t)}(o.default);n.default=l,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Tables/TableSystem":"TableSystem"}],KS_TipsPanel:[function(e,t,n){"use strict";cc._RF.push(t,"56e87tHw+ZAD7GLJFcbWJE5","KS_TipsPanel");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Tables/TableSystem"),i=cc._decorator,a=i.ccclass,l=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.description=null,t.m_0x01_1=null,t.m_0x01_2=null,t.m_0x01_3=null,t.m_0x01_4=null,t.m_0x01_5=null,t.m_0x01_6=null,t.m_0x01_7=null,t.m_0x01_8=null,t.m_0x02_1=null,t.m_0x02_2=null,t.m_0x02_3=null,t.m_0x02_4=null,t.m_0x02_5=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.show=function(e,t,n){var o=this;if(-1!=e){this.setLoc(t);var c=r.default.getInstance().getStoryById(e);null!=c?(this.title.string=c.m_Title,this.description.string=c.m_Word,this.node.runAction(cc.sequence(cc.moveTo(.5,new cc.Vec2(this.node.x,150)),cc.delayTime(.5),cc.callFunc(function(){var e=o.chooseSound(c.m_CheckType,c.m_CheckTargetId);null!=e?cc.audioEngine.play(e,!1,1):cc.log("sound is NULL!!!")}),cc.delayTime(c.m_Time),cc.delayTime(1),cc.callFunc(function(){"function"==typeof n?(cc.log("KS_TipsPanel::show \u6267\u884c\u56de\u8c03!"),n(c)):o.unshow()})))):cc.log("Can`t find StoryID")}},t.prototype.setLoc=function(e,t){void 0===t&&(t=0),this.node.x=e,this.node.y=t},t.prototype.unshow=function(){this.node.runAction(cc.moveTo(.5,new cc.Vec2(this.node.x,-150)))},t.prototype.chooseSound=function(e,t){switch(e){case"0x01":switch(t){case"1":case 1:return this.m_0x01_1;case"2":case 2:return this.m_0x01_2;case"3":case 3:return this.m_0x01_3;case"4":case 4:return this.m_0x01_4;case"5":case 5:return this.m_0x01_5;case"6":case 6:return this.m_0x01_6;case"7":case 7:return this.m_0x01_7;case"8":case 8:return this.m_0x01_8;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x01 StatusId: ",t),null}case"0x02":switch(t){case"1":case 1:return this.m_0x02_1;case"2":case 2:return this.m_0x02_2;case"3":case 3:return this.m_0x02_3;case"4":case 4:return this.m_0x02_4;case"5":case 5:return this.m_0x02_5;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x02 StatusId: ",t),null}default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR AlgorithmId: ",e),null}},c([l(cc.Label)],t.prototype,"title",void 0),c([l(cc.Label)],t.prototype,"description",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x01_1",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x01_2",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x01_3",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x01_4",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x01_5",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x01_6",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x01_7",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x01_8",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x02_1",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x02_2",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x02_3",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x02_4",void 0),c([l(cc.AudioClip)],t.prototype,"m_0x02_5",void 0),t=c([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem"}],KindergartenScene:[function(e,t,n){"use strict";cc._RF.push(t,"0c9ccgBRhdBj6+bC5xMnqHn","KindergartenScene");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../KS/KS_Player"),i=e("../KS/KS_ChoosePanel"),a=e("../Tables/TableSystem"),l=e("../Utils/CommonUtils"),s=e("../KS/KS_Lights"),u=e("./KS_TipsPanel"),p=e("./KS_Guard"),d=e("./KS_Teacher"),f=e("../Object/BaseObject"),_=e("../NetUtils/CheckSystem"),y=e("../NetUtils/GameProgress"),h=cc._decorator,g=h.ccclass,m=h.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bird=null,t.player=null,t.tipPanel=null,t.guard=null,t.teacher=null,t.signer=null,t.bgm=null,t.choosePanel_1=null,t.choosePanel_4=null,t.choosePanel_6_1=null,t.choosePanel_6_2=null,t.choosePanel_8=null,t.lights=null,t.bus=null,t.ISContinue=null,t.scene1=null,t.scene2=null,t.scene3=null,t.scene4=null,t.scene5=null,t.scene6=null,t.scene7=null,t.scene8=null,t.scene9=null,t.scene10=null,t.scene11=null,t.scene12=null,t.times=0,t}return o(t,e),t.prototype.start=function(){this.scene=[this.scene1,this.scene2,this.scene3,this.scene4,this.scene5,this.scene6,this.scene7,this.scene8,this.scene9,this.scene10,this.scene11,this.scene12],this.checkpoint=[2002,2003,2004,2010,2012,2021,2023,2024,2011,2029],a.default.getInstance(),this.bgmStart(),this.readRecord()},t.prototype.jumpToScene=function(e){switch(e){case this.checkpoint[0]:this.runScene_2_1();break;case this.checkpoint[1]:this.runScene_3_1();break;case this.checkpoint[2]:this.runScene_4_1();break;case this.checkpoint[3]:this.runScene_5_1();break;case this.checkpoint[4]:this.runScene_6_1();break;case this.checkpoint[5]:this.runScene_7_1();break;case this.checkpoint[6]:this.runScene_8_1();break;case this.checkpoint[7]:this.runScene_10_1();break;case this.checkpoint[8]:this.runScene_11_1();break;case this.checkpoint[9]:this.runScene_12_1();break;default:this.runScene_1_1()}},t.prototype.readRecord=function(){var e=this;y.default.queryProgress(function(t){if(""==t.progress)e.runScene_1_1();else{var n=t.progress.story;e.jumpToScene(n)}},function(t){e.runScene_1_1()})},t.prototype.saveRecord=function(e,t){void 0===t&&(t=2);var n={scene:t,story:e.m_ID};y.default.saveProgress(JSON.stringify(n),function(){},function(){})},t.prototype.bgmStart=function(){this.backgroundMusic=cc.audioEngine.play(this.bgm,!0,1)},t.prototype.bgmShutdown=function(){cc.audioEngine.stop(this.backgroundMusic)},t.prototype.checkScene=function(e){this.scene1.active=!1,this.scene2.active=!1,this.scene3.active=!1,this.scene4.active=!1,this.scene5.active=!1,this.scene6.active=!1,this.scene7.active=!1,this.scene8.active=!1,this.scene9.active=!1,this.scene10.active=!1,this.scene11.active=!1,this.scene12.active=!1,e>=1&&e<=12&&(this.scene[--e].active=!0)},t.prototype.runScene_1_1=function(){var e=this;this.checkScene(1),this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).resetLoc(),e.player.getComponent(r.default).walk(650,0,5)}),cc.delayTime(5),cc.callFunc(function(){e.player.getComponent(r.default).eating()}),cc.delayTime(3),cc.callFunc(function(){e.player.getComponent(r.default).talk(2001,null)}),cc.delayTime(3.5),cc.callFunc(function(){e.tipPanel.getComponent(u.default).show(2002,1600,function(t){e.check(t,function(){e.saveRecord(t),e.runScene_2_1()},function(){e.runScene_1_1()})})})))},t.prototype.runScene_2_1=function(){var e=this;this.checkScene(2),this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).setLoc(-100,30),e.player.getComponent(r.default).walk(1450,30,8)}),cc.delayTime(8),cc.callFunc(function(){e.tipPanel.getComponent(u.default).setLoc(260),e.tipPanel.getComponent(u.default).show(2027,300,function(t){e.check(t,function(){e.runScene_2_2()},function(){e.runScene_2_1()})})})))},t.prototype.runScene_2_2=function(){var e=this;this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).pushButton()}),cc.delayTime(2),cc.callFunc(function(){e.player.getComponent(r.default).talk(2003,e.saveRecord)}),cc.delayTime(2),cc.callFunc(function(){e.player.getComponent(r.default).walk(2200,e.player.y,3)}),cc.delayTime(3.5),cc.callFunc(function(){e.runScene_3_1()})))},t.prototype.runScene_3_1=function(){var e=this;this.checkScene(3),this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).setLoc(2e3,120),e.player.getComponent(r.default).walk(760,120,6)}),cc.delayTime(6),cc.callFunc(function(){cc.log("\u5927\u5bb6\u8138\u8272\u90fd\u4e0d\u597d\u770b")}),cc.delayTime(1.5),cc.callFunc(function(){e.player.getComponent(r.default).talk(2004,e.saveRecord)}),cc.delayTime(3.5),cc.callFunc(function(){e.runScene_4_1()})))},t.prototype.runScene_4_1=function(){var e=this;this.checkScene(4),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.lights.getComponent(s.default).light(2005),e.player.getComponent(r.default).resetLoc(),e.player.getComponent(r.default).walk(165,0,1.5)}),cc.delayTime(2),cc.callFunc(function(){e.tipPanel.getComponent(u.default).show(2==e.lights.getComponent(s.default).getType()?2008:2009,1600,function(t){e.check(t,function(){e.runScene_4_2()},function(){e.runScene_4_1()})})})))},t.prototype.runScene_4_2=function(){var e=this;this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.tipPanel.getComponent(u.default).show(2010,1600,function(t){e.check(t,function(){e.saveRecord(t),e.runScene_4_3()},function(){e.runScene_4_2()})})})))},t.prototype.runScene_4_3=function(){var e=this;this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){e.player.getComponent(r.default).walk(410,328,4)}),cc.delayTime(4.5),cc.callFunc(function(){e.runScene_5_1()})))},t.prototype.runScene_5_1=function(){var e=this;this.checkScene(5),this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).setLoc(-100,226),e.player.getComponent(r.default).walk(1088,226,6)}),cc.delayTime(2),cc.callFunc(function(){e.player.getComponent(r.default).talk(2011,null)}),cc.delayTime(4),cc.callFunc(function(){e.player.getComponent(r.default).walk(1088,328,.3)}),cc.delayTime(.5),cc.callFunc(function(){e.player.getComponent(r.default).sitdown(),e.player.getComponent(r.default).talk(2012,e.saveRecord)}),cc.delayTime(4),cc.callFunc(function(){e.player.getComponent(r.default).talk(2013,null)}),cc.delayTime(2),cc.callFunc(function(){e.bus.x=3e3,e.bus.y=340,e.bus.scaleX=1,e.bus.runAction(cc.moveTo(2,1200,e.bus.y))}),cc.delayTime(3),cc.callFunc(function(){e.bus.x=3e3,e.bus.y=340,e.runScene_6_1()})))},t.prototype.runScene_6_1=function(){var e=this;this.checkScene(6);var t=cc.find("KindergartenScene/Scene6/bus/background1"),n=cc.find("KindergartenScene/Scene6/bus/background2");cc.find("KindergartenScene/Scene6/bus/background2/old").active=!1,t.active=!0,n.active=!1,this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).setLoc(726,0)}),cc.delayTime(1),cc.callFunc(function(){e.player.getComponent(r.default).talk(2014,null)})))},t.prototype.runScene_6_2=function(){var e=this,t=cc.find("KindergartenScene/Scene6/bus/background1"),n=cc.find("KindergartenScene/Scene6/bus/background2");t.active=!1,n.active=!0,this.player.getComponent(r.default).setLoc(920,0),this.scene_6_2_Type=l.CommonUtils.getRandomRange(0,2),this.node.runAction(cc.callFunc(function(){e.tipPanel.getComponent(u.default).show(e.scene_6_2_Type+2015,300,function(t){e.check(t,function(){e.runScene_6_3()},function(){e.runScene_6_2()})})}))},t.prototype.runScene_6_3=function(){var e=this,t=cc.find("KindergartenScene/Scene6/bus/background2/old");t.x=92,t.y=-230,0==this.scene_6_2_Type?this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).walk(1430,0,2)}),cc.delayTime(2),cc.callFunc(function(){e.player.getComponent(r.default).walk(1430,277,.3)}),cc.delayTime(.5),cc.callFunc(function(){t.active=!0}),cc.delayTime(1),cc.callFunc(function(){e.choosePanel_6_2.getComponent(i.default).show()}))):this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).walk(1080,0,1)}),cc.delayTime(2),cc.callFunc(function(){e.runScene_6_5()})))},t.prototype.runScene_6_4=function(){var e=this,t=cc.find("KindergartenScene/Scene6/bus/background2/old"),n=cc.find("KindergartenScene/Scene6/bus/background2/old/wordbox");this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).walk(1430,0,.3)}),cc.delayTime(.5),cc.callFunc(function(){e.player.getComponent(r.default).walk(1080,0,2),t.runAction(cc.moveTo(2,new cc.Vec2(508,-230)))}),cc.delayTime(2),cc.callFunc(function(){n.active=!0}),cc.delayTime(3),cc.callFunc(function(){n.active=!1,e.tipPanel.getComponent(u.default).show(2019,300,function(t){e.check(t,function(){e.runScene_6_5()},function(){e.runScene_6_4()})})})))},t.prototype.runScene_6_5=function(){var e=this;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){cc.log("\u5e7f\u64ad\uff1a\u4e0b\u4e00\u7ad9\u662f\u76ee\u7684\u5730\uff0c\u8981\u51c6\u5907\u5f80\u540e\u95e8\u79fb\uff0c\u51c6\u5907\u4e0b\u8f66\u4e86")}),cc.delayTime(.5),cc.callFunc(function(){e.player.getComponent(r.default).talk(2021,e.saveRecord)}),cc.delayTime(1),cc.callFunc(function(){cc.log("\u5c0f\u670b\u53cb\u6267\u884c\u201c\u8d77\u8eab\u4e0b\u8f66\u201d")}),cc.delayTime(2),cc.callFunc(function(){e.runScene_7_1()})))},t.prototype.runScene_7_1=function(){var e=this;this.checkScene(7),this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).setLoc(50,211),e.player.getComponent(r.default).walk(710,0,3)}),cc.delayTime(3),cc.callFunc(function(){e.player.getComponent(r.default).walk(970,118,2)}),cc.delayTime(3),cc.callFunc(function(){e.tipPanel.getComponent(u.default).show(2022,300,function(t){e.check(t,function(){e.runScene_7_2()},function(){e.runScene_7_1()})})})))},t.prototype.runScene_7_2=function(){var e=this;this.node.runAction(cc.sequence(cc.callFunc(function(){e.guard.getComponent(p.default).talk(2023,e.saveRecord)}),cc.delayTime(3),cc.callFunc(function(){e.player.getComponent(r.default).walk(1120,255,1)}),cc.delayTime(1),cc.callFunc(function(){e.runScene_8_1()})))},t.prototype.runScene_8_1=function(){var e=this;this.checkScene(8),this.player.getComponent(r.default).setLoc(2080,0),this.teacher.getComponent(d.default).setLoc(412,530),this.signer.x=-100,this.signer.y=-1e3,this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).walk(1234,0,3)}),cc.delayTime(3),cc.callFunc(function(){e.tipPanel.getComponent(u.default).show(2024,300,function(t){e.check(t,function(){e.saveRecord(t),e.runScene_8_2()},function(){e.runScene_8_1()})})})))},t.prototype.runScene_8_2=function(){var e=this;this.node.runAction(cc.sequence(cc.callFunc(function(){e.teacher.getComponent(d.default).talk(2025,null)}),cc.delayTime(3),cc.callFunc(function(){e.teacher.getComponent(d.default).talk(2026,null)}),cc.delayTime(3),cc.callFunc(function(){e.choosePanel_8.getComponent(i.default).show(0)})))},t.prototype.runScene_10_1=function(){var e=this;this.checkScene(10),this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).setLoc(-100,226),e.player.getComponent(r.default).walk(1088,226,6)}),cc.delayTime(2),cc.callFunc(function(){e.player.getComponent(r.default).talk(2011,e.saveRecord)}),cc.delayTime(4),cc.callFunc(function(){e.player.getComponent(r.default).walk(1088,328,.3)}),cc.delayTime(.5),cc.callFunc(function(){e.player.getComponent(r.default).sitdown()}),cc.delayTime(3),cc.callFunc(function(){e.bus.x=-1200,e.bus.y=340,e.bus.scaleX=-1,e.bus.runAction(cc.moveTo(2,950,e.bus.y))}),cc.delayTime(3),cc.callFunc(function(){e.bus.x=-1200,e.bus.y=340,e.runScene_11_1()})))},t.prototype.runScene_11_1=function(){var e=this,t=cc.find("KindergartenScene/Scene11/Background1"),n=cc.find("KindergartenScene/Scene11/Background2");this.player.getComponent(r.default).setLoc(-100,0),this.checkScene(11),t.active=!0,n.active=!1,this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).walk(1340,0,5)}),cc.delayTime(5),cc.callFunc(function(){e.player.getComponent(r.default).walk(1340,336,2)}),cc.delayTime(2.5),cc.callFunc(function(){t.active=!1,n.active=!0,e.player.getComponent(r.default).setLoc(-100,30),e.player.getComponent(r.default).walk(1450,30,8)}),cc.delayTime(8),cc.callFunc(function(){e.tipPanel.getComponent(u.default).show(2029,300,function(t){e.check(t,function(){e.saveRecord(t),e.runScene_11_2()},function(){e.runScene_11_1()})})})))},t.prototype.runScene_11_2=function(){var e=this;this.node.runAction(cc.sequence(cc.callFunc(function(){e.player.getComponent(r.default).pushButton()}),cc.delayTime(2),cc.callFunc(function(){e.player.getComponent(r.default).talk(2003,null)}),cc.delayTime(2),cc.callFunc(function(){e.player.getComponent(r.default).walk(2e3,e.player.y,2)}),cc.delayTime(2.5),cc.callFunc(function(){e.runScene_12_1()})))},t.prototype.runScene_12_1=function(){var e=this;this.checkScene(12);var t=cc.find("KindergartenScene/Scene12/Background1"),n=cc.find("KindergartenScene/Scene12/Background2");t.active=!0,n.active=!1,this.node.runAction(cc.sequence(cc.callFunc(function(){cc.log("\u95f9\u949f\u54cd\u4e86\uff0c\u63d0\u793a\u8be5\u7761\u89c9\u4e86\u3002"),e.player.getComponent(r.default).walk(-400,0,0)}),cc.delayTime(1),cc.callFunc(function(){e.player.getComponent(r.default).walk(1430,0,3)}),cc.delayTime(3),cc.callFunc(function(){e.player.getComponent(r.default).sleep(),e.player.getComponent(r.default).talk(2028,null)}),cc.delayTime(3),cc.callFunc(function(){t.active=!1,n.active=!0}),cc.delayTime(1),cc.callFunc(function(){var t=a.default.getInstance().getStoryById(5);e.saveRecord(t,0),cc.director.loadScene("HomeScene")})))},t.prototype.check=function(e,t,n){var o=this;null!=e?(cc.log("\u68c0\u6d4b\uff1a",e.m_CheckType,e.m_Target,e.m_CheckTargetId),_.default.checkResult(e.m_CheckType,e.m_CheckTargetId,function(e){o.tipPanel.getComponent(u.default).unshow(),t()},function(c){o.check(e,t,n)})):cc.log("tabAlgo \u672a\u627e\u5230!")},c([m(cc.Node)],t.prototype,"bird",void 0),c([m(cc.Node)],t.prototype,"player",void 0),c([m(cc.Node)],t.prototype,"tipPanel",void 0),c([m(cc.Node)],t.prototype,"guard",void 0),c([m(cc.Node)],t.prototype,"teacher",void 0),c([m(cc.Node)],t.prototype,"signer",void 0),c([m(cc.AudioClip)],t.prototype,"bgm",void 0),c([m(cc.Node)],t.prototype,"choosePanel_1",void 0),c([m(cc.Node)],t.prototype,"choosePanel_4",void 0),c([m(cc.Node)],t.prototype,"choosePanel_6_1",void 0),c([m(cc.Node)],t.prototype,"choosePanel_6_2",void 0),c([m(cc.Node)],t.prototype,"choosePanel_8",void 0),c([m(cc.Node)],t.prototype,"lights",void 0),c([m(cc.Node)],t.prototype,"bus",void 0),c([m(cc.Node)],t.prototype,"ISContinue",void 0),c([m(cc.Node)],t.prototype,"scene1",void 0),c([m(cc.Node)],t.prototype,"scene2",void 0),c([m(cc.Node)],t.prototype,"scene3",void 0),c([m(cc.Node)],t.prototype,"scene4",void 0),c([m(cc.Node)],t.prototype,"scene5",void 0),c([m(cc.Node)],t.prototype,"scene6",void 0),c([m(cc.Node)],t.prototype,"scene7",void 0),c([m(cc.Node)],t.prototype,"scene8",void 0),c([m(cc.Node)],t.prototype,"scene9",void 0),c([m(cc.Node)],t.prototype,"scene10",void 0),c([m(cc.Node)],t.prototype,"scene11",void 0),c([m(cc.Node)],t.prototype,"scene12",void 0),t=c([g],t)}(f.default);n.default=v,cc._RF.pop()},{"../KS/KS_ChoosePanel":"KS_ChoosePanel","../KS/KS_Lights":"KS_Lights","../KS/KS_Player":"KS_Player","../NetUtils/CheckSystem":"CheckSystem","../NetUtils/GameProgress":"GameProgress","../Object/BaseObject":"BaseObject","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./KS_Guard":"KS_Guard","./KS_Teacher":"KS_Teacher","./KS_TipsPanel":"KS_TipsPanel"}],NetUtils:[function(e,t,n){"use strict";cc._RF.push(t,"1983dYJBONFko9/T7flY0gW","NetUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Utils/CommonUtils"),c=function(){function e(){}return e.requestOnGet=function(e,t,n){var c=o.ConstDefine.SERVER_IP+o.ConstDefine.LOGIN_SERVER_LET+"?"+e,r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState&&r.status>=200&&r.status<400){var e=r.responseText;console.log(e);var o=JSON.parse(e);1==o.state||"true"==o.state?"function"==typeof t&&t(o):"function"==typeof n&&n(o)}},r.open("GET",c,!0),r.send()},e.requestOnPost=function(e,t,n){var c=o.ConstDefine.SERVER_IP+":"+o.ConstDefine.SERVER_PORT+"/"+o.ConstDefine.LOGIN_SERVER_LET,r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState&&r.status>=200&&r.status<400){var e=r.responseText;console.log(e);var o=JSON.parse(e);1==o.state||"true"==o.state?"function"==typeof t&&t(o):"function"==typeof n&&n(o)}},r.open("POST",c,!0),e.userName=o.ConstDefine.USER_NAME,e.password=o.ConstDefine.PASSWORD,r.send(JSON.stringify(e)),console.log("\u4fe1\u606f\u68c0\u6d4b\uff1a"+JSON.stringify(e))},e.INVALIDE_MESSAGE_ID=-1,e.CS_MESSAGE_REGISTER=1,e.CS_MESSAGE_LOGIN=3,e.CS_MESSAGE_CHECK=5,e.CS_MESSAGE_SAVE_SCORE=7,e.CS_MESSAGE_QUERY_SCORE=9,e.CS_MESSAGE_SAVE_PROGRESS=11,e.CS_MESSAGE_QUERY_PROGRESS=13,e.SC_MESSAGE_REGISTER=2,e.SC_MESSAGE_LOGIN=4,e.SC_MESSAGE_CHECK=6,e.SC_MESSAGE_SAVE_SCORE=8,e.SC_MESSAGE_QUERY_SCORE=10,e.SC_MESSAGE_SAVE_PROGRESS=12,e.SC_MESSAGE_QUERY_PROGRESS=14,e}();n.default=c,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],Story:[function(e,t,n){"use strict";cc._RF.push(t,"a6be71iH9hP46XdP7DovUf2","Story"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tables/TableSystem"),c=e("../Object/BaseObject"),r=e("../Prefabs/TipsPanel"),i=e("./CommonUtils"),a=e("../HomeScene"),l=e("../NetUtils/CheckSystem"),s=e("../NetUtils/GameProgress"),u=function(){function e(){this.__scene=null,this.__currentStoryId=1,this.__currentNpc=null,this.__storyStatus=i.ConstDefine.BEFORE_STORY_SHOW_NPC,this.__ccNodesInScene=[],this.__tipsPanel=null}return e.getInstance=function(){return null==e._instance&&(e._instance=new e),e._instance},e.prototype.initScene=function(e,t,n){this.__scene=e,this.__ccNodesInScene=t,this.__tipsPanel=n},e.prototype.getCurrentScene=function(){return this.__scene},e.prototype.getCurrentStoryId=function(){return this.__currentStoryId},e.prototype.setCurrentStoryId=function(e){this.__currentStoryId=e},e.prototype.getCurrentStoryState=function(){return this.__storyStatus},e.prototype.setCurrentStoryState=function(e){this.__storyStatus=e},e.prototype.getCurrentNpc=function(){return this.__currentNpc},e.prototype.setCurrentNpc=function(e){this.__currentNpc=e},e.prototype.getTipPanel=function(){return this.__tipsPanel},e.prototype.setTipPanel=function(e){this.__tipsPanel=e},e.prototype.getAllNodes=function(){return this.__ccNodesInScene},e.prototype.beforeShowStory_showNpc=function(t){if(e.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&e.getInstance().getCurrentStoryState()==i.ConstDefine.BEFORE_STORY_SHOW_NPC)if(e.getInstance().getAllNodes().forEach(function(n){n.getComponent(c.default).object_id==t.m_TalkerID&&e.getInstance().setCurrentNpc(n)}),null!=e.getInstance().getCurrentNpc()){console.log("\u5f53\u524d\u573a\u666f\u5185\u3010"+t.m_TalkerID+"\u3011\u7684\u89d2\u8272\u8282\u70b9 : "+this.__currentNpc.name),console.log("FinishLocation : "+t.m_TalkerLocation);var n=t.m_TalkerLocation.split("|");if(n.length<2)console.error("\u5f53\u524d\u5267\u60c5\u3010"+t.m_TalkerID+"\u3011\u914d\u7f6e\u76ee\u6807\u89d2\u8272\u5750\u6807\u70b9\u9519\u8bef\uff01");else{var o=new cc.Vec2(n[0],n[1]);console.log("1 NPC\u89d2\u8272\u9996\u5148\u79fb\u52a8\u5230\u76ee\u6807\u70b9 "+o.x+", "+o.y),e.getInstance().setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_NPC_FINISH),t.m_IsCallBack?e.getInstance().getCurrentNpc().getComponent(c.default).moveTo(.5,o,function(){e.getInstance().getCurrentNpc().getComponent(c.default).show(e.getInstance().getCurrentStoryId(),function(){e.getInstance().setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_TIPS)})}):e.getInstance().getCurrentNpc().getComponent(c.default).walkTo(3,o,function(){e.getInstance().getCurrentNpc().getComponent(c.default).talk(e.getInstance().getCurrentStoryId(),function(){e.getInstance().getCurrentNpc().getComponent(c.default).idle(function(){e.getInstance().setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_TIPS)})})})}}else console.error("\u5f53\u524d\u573a\u666f\u5185\u6ca1\u6709ID\u4e3a\u3010"+t.m_TalkerID+"\u3011\u7684\u89d2\u8272\u8282\u70b9\uff01")},e.prototype.beforeShowStory_showTips=function(t){if(e.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&e.getInstance().getCurrentStoryState()==i.ConstDefine.BEFORE_STORY_SHOW_TIPS&&null!=e.getInstance().getTipPanel())if("0"!=t.m_CheckType){console.log("2 \u5f39\u51fa\u9762\u677f\u663e\u793a\u4fe1\u606f");var n;""!=(n=t.m_CheckType+"_"+t.m_CheckTargetId)&&this.getCurrentScene().getComponent(a.default).playTipAudio(n),e.getInstance().setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_TIPS_FINISH),this.__tipsPanel.getComponent(r.default).showTips(t.m_Title,t.m_Target,function(){e.getInstance().setCurrentStoryState(i.ConstDefine.WAIT_STORY_CHECK_RESULT)})}else console.log("2 \u975e\u68c0\u6d4b\u5267\u60c5\uff0c\u65e0\u9700\u5f39\u51fa\u9762\u677f"),e.getInstance().setCurrentStoryState(i.ConstDefine.WAIT_STORY_CHECK_RESULT)},e.prototype.waitCheckStory=function(t){if(e.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&e.getInstance().getCurrentStoryState()==i.ConstDefine.WAIT_STORY_CHECK_RESULT)if("0"!=t.m_CheckType)console.log("3 \u6839\u636e\u914d\u7f6e\u68c0\u6d4b\u8bed\u97f3\u6216\u52a8\u4f5c"),l.default.checkResult(t.m_CheckType,t.m_CheckTargetId,function(n){if(t.m_CheckType==n.checkType&&t.m_CheckTargetId==n.result){e.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_TIPS);var o={scene:0,story:t.m_ID};s.default.saveProgress(JSON.stringify(o),function(){},function(){}),console.log("\u3010\u9a8c\u8bc1\u6210\u529f\u3011\u9a8c\u8bc1\u7c7b\u578b\uff1a"+t.m_CheckType+", \u9a8c\u8bc1\u76ee\u6807\uff1a"+t.m_Target)}else console.log("\u3010\u9a8c\u8bc1\u5931\u8d25\u3011\u9a8c\u8bc1\u7c7b\u578b\uff1a"+t.m_CheckType+", \u9a8c\u8bc1\u76ee\u6807\uff1a"+t.m_Target)},function(e){});else{console.log("3 \u975e\u68c0\u6d4b\u5267\u60c5\uff0c\u65e0\u9700\u68c0\u6d4b\u5267\u60c5");var n={scene:0,story:t.m_ID};s.default.saveProgress(JSON.stringify(n),function(){},function(){}),e.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_TIPS)}},e.prototype.afterStory_finishTips=function(t){e.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&e.getInstance().getCurrentStoryState()==i.ConstDefine.AFTER_STORY_FINISH_TIPS&&null!=e.getInstance().getTipPanel()&&(e.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_TIPS_FINISH),"0"!=t.m_CheckType?(console.log("4 \u68c0\u6d4b\u5267\u60c5\uff0c\u7ed3\u675f\u5f39\u51fa\u9762\u677f"),this.__tipsPanel.getComponent(r.default).hideTips(function(){e.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_NPC)})):(console.log("4 \u975e\u68c0\u6d4b\u5267\u60c5\uff0c\u65e0\u9700\u5904\u7406\u5f39\u51fa\u9762\u677f"),e.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_NPC)))},e.prototype.afterStory_finishNpc=function(t){if(e.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&e.getInstance().getCurrentStoryState()==i.ConstDefine.AFTER_STORY_FINISH_NPC)if(null!=e.getInstance().getCurrentNpc())if(console.log("FinishLocation : "+t.m_FinishLocation),t.m_FinishLocation!=e.NO_ACTION){var n=t.m_FinishLocation.split("|");if(n.length<2)console.error("\u5f53\u524d\u5267\u60c5\u3010"+t.m_TalkerID+"\u3011\u914d\u7f6e\u76ee\u6807\u89d2\u8272\uff0c\u7ed3\u675f\u5267\u60c5\u65f6\u7684\u5750\u6807\u70b9\u9519\u8bef\uff01");else{var o=new cc.Vec2(n[0],n[1]);e.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_NPC_FINISH),t.m_IsCallBack?e.getInstance().setCurrentStoryState(i.ConstDefine.FINISH_STORY):e.getInstance().getCurrentNpc().getComponent(c.default).talk(i.ConstDefine.SAY_NOTING_ID,function(){e.getInstance().getCurrentNpc().getComponent(c.default).walkTo(t.m_Time,o,function(){e.getInstance().setCurrentStoryState(i.ConstDefine.FINISH_STORY)})})}}else e.getInstance().setCurrentStoryState(i.ConstDefine.FINISH_STORY);else console.error("\u5f53\u524d\u5267\u60c5\u7684\u89d2\u8272\u8282\u70b9\u4e3a\u7a7a\uff01")},e.prototype.finishCurrentStory=function(t){e.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&e.getInstance().getCurrentStoryState()==i.ConstDefine.FINISH_STORY&&null!=t&&(e.getInstance().setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_NPC),e.getInstance().setCurrentNpc(null),e.getInstance().setCurrentStoryId(t.m_Next))},e.prototype.showStory=function(e){console.log("\u3010\u5c55\u793a\u5267\u60c5\u3011Id :"+e),null!=this.__scene?(this.setCurrentStoryId(e),this.setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_NPC),this.__scene.schedule(this.runStoryLogic,1,cc.macro.REPEAT_FOREVER,2)):console.log("\u8bf7\u5148\u521d\u59cb\u5316\u573a\u666f\u8282\u70b9\uff01")},e.prototype.runStoryLogic=function(){var t=o.default.getInstance().getStoryById(e.getInstance().getCurrentStoryId());if(null==t)return console.error("\u3010\u5f53\u524d\u5267\u60c5\u4e3a\u7a7a\u3011"+e.getInstance().getCurrentStoryId()),void(null!=this.__scene&&this.__scene.unschedule(this.runStoryLogic));var n=e.getInstance().getCurrentStoryState(),c=n%2==0?n/2:n;switch(console.log("\u3010\u5f53\u524d\u5267\u60c5\u3011"+e.getInstance().getCurrentStoryId()+"\u3010\u5267\u60c5\u72b6\u6001\u3011"+i.ConstDefine.STORY_STEP_DESCRIPTION[c-1]+"\u3010\u72b6\u6001\u7801\u3011"+n),e.getInstance().getCurrentStoryState()){case i.ConstDefine.BEFORE_STORY_SHOW_NPC:e.getInstance().beforeShowStory_showNpc(t);break;case i.ConstDefine.BEFORE_STORY_SHOW_TIPS:e.getInstance().beforeShowStory_showTips(t);break;case i.ConstDefine.WAIT_STORY_CHECK_RESULT:e.getInstance().waitCheckStory(t);break;case i.ConstDefine.AFTER_STORY_FINISH_TIPS:e.getInstance().afterStory_finishTips(t);break;case i.ConstDefine.AFTER_STORY_FINISH_NPC:e.getInstance().afterStory_finishNpc(t);break;case i.ConstDefine.FINISH_STORY:e.getInstance().finishCurrentStory(t)}},e.prototype.finishStory=function(){this.__ccNodesInScene=[],this.__currentNpc=null},e.NO_ACTION="NO_ACTION",e._instance=null,e}();n.default=u,cc._RF.pop()},{"../HomeScene":"HomeScene","../NetUtils/CheckSystem":"CheckSystem","../NetUtils/GameProgress":"GameProgress","../Object/BaseObject":"BaseObject","../Prefabs/TipsPanel":"TipsPanel","../Tables/TableSystem":"TableSystem","./CommonUtils":"CommonUtils"}],TableStruct:[function(e,t,n){"use strict";cc._RF.push(t,"fb4826L89JM1ZV9L6ZZqSIs","TableStruct"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.initTable=function(e){},e}();n.default=o,cc._RF.pop()},{}],TableSystem:[function(e,t,n){"use strict";cc._RF.push(t,"f940f9Dh09BMqgEHMBtsQpS","TableSystem"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Table_ErrorCode"),c=e("./Table_AlgorithmDetection"),r=e("./Table_Scene"),i=e("./Table_Story"),a=function(){function e(){this.m_listErrorCode=new Array,this.m_listAlgorithmDetection=new Array,this.m_listScene=new Array,this.m_listStory=new Array}return e.getInstance=function(){return null==e._instance&&(e._instance=new e,e._instance.loadErrorCode(),e._instance.loadAlgorithmDetection(),e._instance.loadScene(),e._instance.loadStory()),e._instance},e.prototype.loadErrorCode=function(){var e=this;cc.loader.loadRes("Tables/ErrorCode",function(t,n){if(t)cc.error(t.message);else for(var c=JSON.parse(n),r=0;r<c.length;r++){var i=c[r],a=new o.default;a.initTable(i),e.addErrorCode(a)}})},e.prototype.addErrorCode=function(e){for(var t=0;t<this.m_listErrorCode.length;t++){if(this.m_listErrorCode[t].m_ID==e.m_ID)return}this.m_listErrorCode.push(e)},e.prototype.getErrorCode=function(e){var t=null;return e<this.m_listErrorCode.length&&(t=this.m_listErrorCode[e]),t},e.prototype.getErrorCodeById=function(e){for(var t=null,n=0;n<this.m_listErrorCode.length;n++){var o=this.m_listErrorCode[n];o.m_ID==e&&(t=o)}return t},e.prototype.getErrorCodeCount=function(){return this.m_listErrorCode.length},e.prototype.loadAlgorithmDetection=function(){var e=this;cc.loader.loadRes("Tables/AlgorithmDetection",function(t,n){if(t)cc.error(t.message);else for(var o=JSON.parse(n),r=0;r<o.length;r++){var i=o[r],a=new c.default;a.initTable(i),e.addAlgorithmDetection(a)}})},e.prototype.addAlgorithmDetection=function(e){for(var t=0;t<this.m_listAlgorithmDetection.length;t++){if(this.m_listAlgorithmDetection[t].m_ID==e.m_ID)return}this.m_listAlgorithmDetection.push(e)},e.prototype.getAlgorithmDetection=function(e){var t=null;return e<this.m_listAlgorithmDetection.length&&(t=this.m_listAlgorithmDetection[e]),t},e.prototype.getAlgorithmDetectionById=function(e){for(var t=null,n=0;n<this.m_listAlgorithmDetection.length;n++){var o=this.m_listAlgorithmDetection[n];o.m_ID==e&&(t=o)}return t},e.prototype.getAlgorithmDetectionCount=function(){return this.m_listAlgorithmDetection.length},e.prototype.loadScene=function(){var e=this;cc.loader.loadRes("Tables/Scene",function(t,n){if(t)cc.error(t.message);else for(var o=JSON.parse(n),c=0;c<o.length;c++){var i=o[c],a=new r.default;a.initTable(i),e.addScene(a)}})},e.prototype.addScene=function(e){for(var t=0;t<this.m_listScene.length;t++){if(this.m_listScene[t].m_ID==e.m_ID)return}this.m_listScene.push(e)},e.prototype.getScene=function(e){var t=null;return e<this.m_listScene.length&&(t=this.m_listScene[e]),t},e.prototype.getSceneById=function(e){for(var t=null,n=0;n<this.m_listScene.length;n++){var o=this.m_listScene[n];o.m_ID==e&&(t=o)}return t},e.prototype.getSceneCount=function(){return this.m_listScene.length},e.prototype.loadStory=function(){var e=this;cc.loader.loadRes("Tables/Story",function(t,n){if(t)cc.error(t.message);else for(var o=JSON.parse(n),c=0;c<o.length;c++){var r=o[c],a=new i.default;a.initTable(r),e.addStory(a)}})},e.prototype.addStory=function(e){for(var t=0;t<this.m_listStory.length;t++){if(this.m_listStory[t].m_ID==e.m_ID)return}this.m_listStory.push(e)},e.prototype.getStory=function(e){var t=null;return e<this.m_listStory.length&&(t=this.m_listStory[e]),t},e.prototype.getStoryById=function(e){for(var t=null,n=0;n<this.m_listStory.length;n++){var o=this.m_listStory[n];o.m_ID==e&&(t=o)}return t},e.prototype.getStoryCount=function(){return this.m_listStory.length},e._instance=null,e}();n.default=a,cc._RF.pop()},{"./Table_AlgorithmDetection":"Table_AlgorithmDetection","./Table_ErrorCode":"Table_ErrorCode","./Table_Scene":"Table_Scene","./Table_Story":"Table_Story"}],Table_AlgorithmDetection:[function(e,t,n){"use strict";cc._RF.push(t,"ec8faxFWBxIcJeNRiFEvKPI","Table_AlgorithmDetection"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(){var t=e.call(this)||this;return t.m_ID=0,t.m_Description="",t.m_AlgorithmId="",t.m_StatusId="",t.m_CheckType="",t}return __extends(t,e),t.prototype.initTable=function(e){this.m_ID=e.ID,this.m_Description=e.Description,this.m_AlgorithmId=e.AlgorithmId,this.m_StatusId=e.StatusId,this.m_CheckType=e.CheckType},t}(e("./TableStruct").default);n.default=o,cc._RF.pop()},{"./TableStruct":"TableStruct"}],Table_ErrorCode:[function(e,t,n){"use strict";cc._RF.push(t,"fc60atEvUVDe7XqwH5+CoRp","Table_ErrorCode");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var c=function(e){function t(){var t=e.call(this)||this;return t.m_ID=0,t.m_ErrorInfo="",t.m_TipsId=0,t}return o(t,e),t.prototype.initTable=function(e){this.m_ID=e.ID,this.m_ErrorInfo=e.ErrorInfo,this.m_TipsId=e.TipsId},t}(e("./TableStruct").default);n.default=c,cc._RF.pop()},{"./TableStruct":"TableStruct"}],Table_Scene:[function(e,t,n){"use strict";cc._RF.push(t,"f289bq/1kRHAKIHRcuTzKU6","Table_Scene");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var c=function(e){function t(){var t=e.call(this)||this;return t.m_ID=0,t.m_Story="",t}return o(t,e),t.prototype.initTable=function(e){this.m_ID=e.ID,this.m_Story=e.Story},t}(e("./TableStruct").default);n.default=c,cc._RF.pop()},{"./TableStruct":"TableStruct"}],Table_Story:[function(e,t,n){"use strict";cc._RF.push(t,"c503fD4zRZFG5cdM1nJ6K5q","Table_Story");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var c=function(e){function t(){var t=e.call(this)||this;return t.m_ID=0,t.m_Next=0,t.m_TalkerID=0,t.m_TalkerLocation="",t.m_FinishLocation="",t.m_Title="",t.m_Word="",t.m_CheckType="",t.m_CheckTargetId="",t.m_Target="",t.m_Time=0,t.m_IsCallBack=0,t.m_IsBirdFly=0,t}return o(t,e),t.prototype.initTable=function(e){this.m_ID=e.ID,this.m_Next=e.Next,this.m_TalkerID=e.TalkerID,this.m_TalkerLocation=e.TalkerLocation,this.m_FinishLocation=e.FinishLocation,this.m_Title=e.Title,this.m_Word=e.Word,this.m_CheckType=e.CheckType,this.m_CheckTargetId=e.CheckTargetId,this.m_Target=e.Target,this.m_Time=e.Time,this.m_IsCallBack=e.IsCallBack,this.m_IsBirdFly=e.IsBirdFly},t}(e("./TableStruct").default);n.default=c,cc._RF.pop()},{"./TableStruct":"TableStruct"}],TipsPanel:[function(e,t,n){"use strict";cc._RF.push(t,"8860cDxUEREWJ5QlRY6elN9","TipsPanel");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.description=null,t.isShow=!1,t}return o(t,e),t.prototype.start=function(){},t.prototype.showTips=function(e,t,n){var o=this;this.node.runAction(cc.sequence(cc.callFunc(function(){o.title.string=e,o.description.string=t}),cc.moveTo(.5,new cc.Vec2(-710,-490)),cc.callFunc(function(){"function"==typeof n&&n()})))},t.prototype.hideTips=function(e){this.node.runAction(cc.sequence(cc.moveTo(.5,new cc.Vec2(-710,-800)),cc.callFunc(function(){"function"==typeof e&&e()})))},c([a(cc.Label)],t.prototype,"title",void 0),c([a(cc.Label)],t.prototype,"description",void 0),t=c([i],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],algo:[function(e,t,n){"use strict";cc._RF.push(t,"fc528FhNI5KRo7HvEDOADGy","algo");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../NetUtils/CheckSystem"),i=e("../NetUtils/GameProgress"),a=e("../Tables/TableSystem"),l=e("../Utils/CommonUtils"),s=cc._decorator,u=s.ccclass,p=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){},t.detect=function(e,t,n){var o=this;0!=l.ConstDefine.GAME_MODEL&&"0"!=e.m_CheckType&&(console.log("checktype="+e.m_CheckType+"checktargetid="+e.m_CheckTargetId),r.default.checkResult(e.m_CheckType,e.m_CheckTargetId,function(o){for(var c=o.checkType,r=o.result,l=a.default.getInstance().getAlgorithmDetectionCount(),s=null,u=0;u<l;u++){var p=a.default.getInstance().getAlgorithmDetection(u);if(p.m_CheckType==c&&p.m_StatusId==r){s=p;break}}if(null!=s)if(s.m_Description==e.m_Target){t();var d={scene:1,story:e.m_ID};i.default.saveProgress(JSON.stringify(d),function(){},function(){}),console.log("\u68c0\u6d4b\u6210\u529f")}else"function"==typeof n&&(n(),console.log("\u68c0\u6d4b\u5931\u8d25fail"))},function(c){o.detect(e,t,n),console.log("\u68c0\u6d4b\u5931\u8d25")}))},t=c([u],t)}(cc.Component));n.default=p,cc._RF.pop()},{"../NetUtils/CheckSystem":"CheckSystem","../NetUtils/GameProgress":"GameProgress","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils"}],busstop:[function(e,t,n){"use strict";cc._RF.push(t,"e5cc5MnZbJOWbNFAF+cI1an","busstop");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Tables/TableSystem"),i=e("./superBear"),a=cc._decorator,l=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bear=null,t.bus=null,t.arrive=null,t.busstop=null,t}return o(t,e),t.prototype.start=function(){var e=this;r.default.getInstance(),this.arrive.active=!1,this.bear.getComponent(i.default).walkTo(3,new cc.Vec2(0,-320),function(){e.bear.getComponent(i.default).talk(1010,function(){},function(){e.bear.getComponent(i.default).talk(1009,function(){},function(){e.bear.getComponent(i.default).walkTo(2,new cc.Vec2(-500,-320),function(){e.busstop.active=!1,e.arrive.active=!0,e.bear.getChildByName("WordBg").scaleX=1,e.bear.getComponent(i.default).talk(1011,function(){},function(){e.node.active=!1,e.bus.active=!0})})})})})},c([s(cc.Node)],t.prototype,"bear",void 0),c([s(cc.Node)],t.prototype,"bus",void 0),c([s(cc.Node)],t.prototype,"arrive",void 0),c([s(cc.Node)],t.prototype,"busstop",void 0),t=c([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem","./superBear":"superBear"}],bus:[function(e,t,n){"use strict";cc._RF.push(t,"f6005IScxlJMINh/96cwlWR","bus");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Object/Bird"),i=e("../Tables/TableSystem"),a=e("./algo"),l=e("./superBear"),s=e("./superTips"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.child=null,t.card=null,t.coin=null,t.cash=null,t.background=null,t.sprite=null,t.btnCancel=null,t.btnOK=null,t.bus=null,t.shop=null,t.people=null,t.old=null,t.currentStoryId=-1,t}return o(t,e),t.prototype.start=function(){var e=this;i.default.getInstance(),this.card.node.active=!1,this.coin.node.active=!1,this.cash.node.active=!1,this.scheduleOnce(function(){e.child.getComponent(l.default).talk(1011,function(){})},1),this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",2),e.child.runAction(cc.moveTo(2,new cc.Vec2(50,-300))),e.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),e.card.node.active=!0,e.coin.node.active=!0,e.cash.node.active=!0})))}))),this.card.node.on("click",function(t){e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),e.runbuslogic()}),this.coin.node.on("click",function(t){e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),e.runbuslogic()}),this.cash.node.on("click",function(t){e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),e.runbuslogic()})},t.prototype.runbuslogic=function(){var e=this;this.card.node.active=!1,this.coin.node.active=!1,this.cash.node.active=!1,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.sprite.spriteFrame=e.background,e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),e.child.runAction(cc.moveTo(0,new cc.Vec2(-100,-250)));var t=i.default.getInstance().getStoryById(1013);e.tips.getComponent(s.default).showTips(1013,10,function(){}),e.currentStoryId=1013,a.default.detect(t,function(){1013==e.currentStoryId&&(e.tips.getComponent(s.default).hidTips(function(){e.tips.stopAllActions()}),e.node.runAction(cc.moveTo(2,new cc.Vec2(0,500))),e.old.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0),e.old.runAction(cc.moveTo(5,new cc.Vec2(280,-350))))},function(){1013==e.currentStoryId&&e.runbuslogic()})})))},t.prototype.onOK=function(){var e=this;this.node.runAction(cc.moveTo(2,new cc.Vec2(0,1200))),this.child.scaleX=1,this.child.getComponent(l.default).walkTo(.3,new cc.Vec2(-100,-500),function(){e.child.getComponent(l.default).walkTo(3,new cc.Vec2(-800,-500),function(){e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),e.child.scaleX=-1,e.child.getChildByName("WordBg").getChildByName("Word").scaleX=-1})}),this.people.getComponent(r.default).talk(1016,function(){var t=i.default.getInstance().getStoryById(1017);e.currentStoryId=1017,e.tips.getComponent(s.default).showTips(1017,10,function(){}),a.default.detect(t,function(){e.child.stopAllActions(),e.scheduleOnce(function(){this.bus.active=!1,this.shop.active=!0},3)},function(){1017==e.currentStoryId&&e.child.getComponent(l.default).walkTo(2,new cc.Vec2(-100,-500),function(){e.onOK()})})})},t.prototype.onCancel=function(){},c([d(cc.Node)],t.prototype,"child",void 0),c([d(cc.Button)],t.prototype,"card",void 0),c([d(cc.Button)],t.prototype,"coin",void 0),c([d(cc.Button)],t.prototype,"cash",void 0),c([d(cc.SpriteFrame)],t.prototype,"background",void 0),c([d(cc.Sprite)],t.prototype,"sprite",void 0),c([d(cc.Node)],t.prototype,"btnCancel",void 0),c([d(cc.Node)],t.prototype,"btnOK",void 0),c([d(cc.Node)],t.prototype,"bus",void 0),c([d(cc.Node)],t.prototype,"shop",void 0),c([d(cc.Node)],t.prototype,"people",void 0),c([d(cc.Node)],t.prototype,"old",void 0),c([d(cc.Node)],t.prototype,"tips",void 0),t=c([p],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../Object/Bird":"Bird","../Tables/TableSystem":"TableSystem","./algo":"algo","./superBear":"superBear","./superTips":"superTips"}],eat:[function(e,t,n){"use strict";cc._RF.push(t,"22da2lfO/1A54RG01NCZ5Mf","eat"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tables/TableSystem"),c=e("../Object/Bear"),r=e("../NetUtils/GameProgress"),i=cc._decorator,a=i.ccclass,l=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EAT=null,t.Elevator=null,t.title=null,t.description=null,t.btnCancel=null,t.btnOK=null,t.bear=null,t.panel=null,t.busstop=null,t.bus=null,t.shop=null,t.home=null,t}return __extends(t,e),t.prototype.start=function(){o.default.getInstance(),this.saveporc(),this.runLogic()},t.prototype.runLogic=function(){var e=this;this.bear.getComponent(c.default).walkTo(3,new cc.Vec2(400,-400),function(){e.bear.getComponent(c.default).talk(1e3,function(){e.node.runAction(cc.moveTo(.3,new cc.Vec2(0,0)))})})},t.prototype.onOK=function(){var e=this;this.node.runAction(cc.moveTo(.3,new cc.Vec2(-1500,0))),this.bear.getChildByName("WordBg").active=!1,this.bear.getComponent(c.default).walkTo(3,new cc.Vec2(1200,-400),function(){e.EAT.active=!1,e.Elevator.active=!0})},t.prototype.onCancel=function(){var e=this;this.node.runAction(cc.moveTo(.3,new cc.Vec2(-1500,0))),this.bear.getChildByName("WordBg").active=!1,this.bear.getComponent(c.default).walkTo(3,new cc.Vec2(1200,-400),function(){e.runLogic()})},t.prototype.saveporc=function(){var e=this;r.default.queryProgress(function(t){if(""==t.progress);else{var n=t.progress,o=n.scene,c=n.story;1==o&&(c<1002||(c<1009?(e.node.active=!1,e.Elevator.active=!0):c<1011?(e.node.active=!1,e.busstop.active=!0):c<1020?(e.node.active=!1,e.bus.active=!0):c<1026?(e.node.active=!1,e.shop.active=!0):(e.node.active=!1,e.home.active=!0)))}},function(){})},__decorate([l(cc.Node)],t.prototype,"EAT",void 0),__decorate([l(cc.Node)],t.prototype,"Elevator",void 0),__decorate([l(cc.Label)],t.prototype,"title",void 0),__decorate([l(cc.Label)],t.prototype,"description",void 0),__decorate([l(cc.Node)],t.prototype,"btnCancel",void 0),__decorate([l(cc.Node)],t.prototype,"btnOK",void 0),__decorate([l(cc.Node)],t.prototype,"bear",void 0),__decorate([l(cc.Node)],t.prototype,"panel",void 0),__decorate([l(cc.Node)],t.prototype,"busstop",void 0),__decorate([l(cc.Node)],t.prototype,"bus",void 0),__decorate([l(cc.Node)],t.prototype,"shop",void 0),__decorate([l(cc.Node)],t.prototype,"home",void 0),t=__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../NetUtils/GameProgress":"GameProgress","../Object/Bear":"Bear","../Tables/TableSystem":"TableSystem"}],"scene2-3":[function(e,t,n){"use strict";cc._RF.push(t,"07bc9FYRGZL7p5C8wB9pm75","scene2-3");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Tables/TableSystem"),i=e("../Utils/CommonUtils"),a=e("./superTips"),l=e("./superBear"),s=e("./algo"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.child=null,t.floor=null,t.background=null,t.afterchange=null,t.red=null,t.yellow=null,t.green=null,t.bus=null,t.elevator=null,t.light=null,t.tips=null,t.currentStoryId=-1,t.rnumber=i.CommonUtils.getRandomRange(0,2),t}return o(t,e),t.prototype.start=function(){var e=this;r.default.getInstance(),this.light.active=!1,this.light.getChildByName("lyellow").active=!1,this.light.getChildByName("lred").active=!1,this.light.getChildByName("lgreen").active=!1,this.light.getChildByName("lyellow2").active=!1,this.light.getChildByName("lred2").active=!1,this.light.getChildByName("lgreen2").active=!1,this.bus.active=!1,this.yellow.node.active=!1,this.red.node.active=!1,this.green.node.active=!1,this.floor.node.on("click",function(t){e.scheduleOnce(function(){e.changeToLightLogic()},1)}),this.scheduleOnce(function(){e.runElevatorLogic()},1)},t.prototype.runElevatorLogic=function(){var e=this;this.child.getComponent(l.default).walkTo(3,new cc.Vec2(400,-500),function(){var t=r.default.getInstance().getStoryById(1002);e.currentStoryId=1002,e.node.runAction(cc.sequence(cc.callFunc(function(){e.tips.getComponent(a.default).showTips(1002,10,function(){})}),cc.callFunc(function(){s.default.detect(t,function(){e.tips.getComponent(a.default).hidTips(function(){e.tips.stopAllActions()}),e.changeToLightLogic()},function(){e.child.getComponent(l.default).walkTo(3,new cc.Vec2(-1500,-500),function(){e.runElevatorLogic()})})})))})},t.prototype.changeToLightLogic=function(){var e=this;this.node.runAction(cc.sequence(cc.callFunc(function(){e.child.getComponent(l.default).walkTo(.5,new cc.Vec2(600,-500),function(){e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),e.tips.stopAllActions(),e.tips.runAction(cc.moveTo(.5,new cc.Vec2(-700,-715)))})}),cc.delayTime(.5),cc.callFunc(function(){e.child.getComponent(l.default).talk(1003,function(){},function(){e.child.getComponent(l.default).walkTo(1,new cc.Vec2(1500,-500),function(){e.floor.node.active=!1,e.child.x=-1500,e.child.y=-500,e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),e.background.spriteFrame=e.afterchange,e.light.active=!0,e.yellow.node.active=!0,e.red.node.active=!0,e.green.node.active=!0,1==e.rnumber?e.showYellowLight():0==e.rnumber?e.showRedLight():2==e.rnumber&&e.showGreenLight(),e.runLightLogic()})})})))},t.prototype.runLightLogic=function(){var e=this;this.child.getComponent(l.default).walkTo(2,new cc.Vec2(-800,-500),function(){var t=r.default.getInstance().getStoryById(1005+e.rnumber);e.currentStoryId=e.rnumber+1005,e.node.runAction(cc.sequence(cc.callFunc(function(){e.tips.getComponent(a.default).showTips(e.currentStoryId,10,function(){})}),cc.callFunc(function(){s.default.detect(t,function(){e.currentStoryId==e.rnumber+1005&&(e.tips.getComponent(a.default).hidTips(function(){e.tips.stopAllActions()}),e.child.getComponent(l.default).walkTo(2,new cc.Vec2(750,-500),function(){e.elevator.active=!1,e.bus.active=!0}))},function(){e.currentStoryId==e.rnumber+1005&&e.child.getComponent(l.default).walkTo(1,new cc.Vec2(-1500,-500),function(){e.runLightLogic()})})})))})},t.prototype.showRedLight=function(){var e=this;this.light.getChildByName("lred").active=!0,this.light.getChildByName("lred2").active=!0,this.red.node.on("click",function(t){e.node.stopAllActions(),e.light.getChildByName("lred").active=!1,e.light.getChildByName("lred2").active=!1,e.light.getChildByName("lgreen").active=!0,e.light.getChildByName("lgreen2").active=!0,e.ongreen()}),this.yellow.node.on("click",function(e){}),this.green.node.on("click",function(e){})},t.prototype.showYellowLight=function(){var e=this;this.light.getChildByName("lyellow").active=!0,this.light.getChildByName("lyellow2").active=!0,this.yellow.node.on("click",function(t){e.light.getChildByName("lyellow").active=!1,e.light.getChildByName("lyellow2").active=!1,e.light.getChildByName("lgreen").active=!0,e.light.getChildByName("lgreen2").active=!0,e.ongreen()}),this.red.node.on("click",function(e){}),this.green.node.on("click",function(e){})},t.prototype.showGreenLight=function(){var e=this;this.light.getChildByName("lgreen").active=!0,this.light.getChildByName("lgreen2").active=!0,this.green.node.on("click",function(t){e.child.runAction(cc.moveBy(2,new cc.Vec2(1500,0))),e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",2),e.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.currentStoryId=1010,e.child.getComponent(l.default).talk(1010,function(){}),e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),e.schedule(function(){this.elevator.active=!1,this.bus.active=!0},2)}))),e.yellow.node.on("click",function(e){}),e.red.node.on("click",function(e){})})},t.prototype.ongreen=function(){var e=this;this.green.node.on("click",function(t){e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",2),e.child.getComponent(l.default).walkTo(2,new cc.Vec2(750,-500),function(){e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),e.currentStoryId=1010,e.child.getComponent(l.default).talk(1010,function(){},function(){e.elevator.active=!1,e.bus.active=!0})})})},c([d(cc.Node)],t.prototype,"child",void 0),c([d(cc.Button)],t.prototype,"floor",void 0),c([d(cc.Sprite)],t.prototype,"background",void 0),c([d(cc.SpriteFrame)],t.prototype,"afterchange",void 0),c([d(cc.Button)],t.prototype,"red",void 0),c([d(cc.Button)],t.prototype,"yellow",void 0),c([d(cc.Button)],t.prototype,"green",void 0),c([d(cc.Node)],t.prototype,"bus",void 0),c([d(cc.Node)],t.prototype,"elevator",void 0),c([d(cc.Node)],t.prototype,"light",void 0),c([d(cc.Node)],t.prototype,"tips",void 0),t=c([p],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./algo":"algo","./superBear":"superBear","./superTips":"superTips"}],shop:[function(e,t,n){"use strict";cc._RF.push(t,"2d0c080F1FG4Jl5naC8Br1Q","shop");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var c,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(i=(r<3?c(i):r>3?c(t,n,i):c(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Object/Bird"),i=e("../Tables/TableSystem"),a=e("./algo"),l=e("./superBear"),s=e("./superTips"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.shop=null,t.home=null,t.apple=null,t.juice=null,t.book=null,t.confirm=null,t.casher=null,t.tips=null,t.child=null,t.marketdoor=null,t.bus=null,t.currentStoryId=-1,t}return o(t,e),t.prototype.start=function(){var e=this;this.cancle.node.active=!1,this.confirm.node.active=!1;var t=this.node.getChildByName("Bg").getChildByName("Title").getComponent(cc.Label);i.default.getInstance(),this.child.getComponent(l.default).walkTo(5,new cc.Vec2(-500,-520),function(){e.child.opacity=0,e.child.getComponent(l.default).walkTo(.5,new cc.Vec2(1500,-520),function(){e.child.opacity=255,e.marketdoor.active=!1,e.runbearlogic()})}),this.apple.node.on("click",function(n){t.string="\u662f\u5426\u786e\u5b9a",e.book.node.active=!1,e.apple.node.active=!1,e.juice.node.active=!1,e.confirm.node.active=!0,e.cancle.node.active=!0}),this.book.node.on("click",function(n){t.string="\u662f\u5426\u786e\u5b9a",e.book.node.active=!1,e.apple.node.active=!1,e.juice.node.active=!1,e.confirm.node.active=!0,e.cancle.node.active=!0}),this.juice.node.on("click",function(n){t.string="\u662f\u5426\u786e\u5b9a",e.juice.node.active=!1,e.book.node.active=!1,e.apple.node.active=!1,e.confirm.node.active=!0,e.cancle.node.active=!0}),this.confirm.node.on("click",function(t){e.runreachhand(),e.node.runAction(cc.moveTo(2,new cc.Vec2(0,1200)))}),this.cancle.node.on("click",function(n){e.apple.node.active=!0,e.juice.node.active=!0,e.book.node.active=!0,e.confirm.node.active=!1,e.cancle.node.active=!1,t.string="\u8bf7\u9009\u62e9"})},t.prototype.runbearlogic=function(){var e=this;this.child.getComponent(l.default).walkTo(1,new cc.Vec2(800,-520),function(){e.child.getComponent(l.default).talk(1020,function(){},function(){});var t=i.default.getInstance().getStoryById(1021);e.currentStoryId=1021,e.tips.getComponent(s.default).showTips(e.currentStoryId,10,function(){a.default.detect(t,function(){1021==e.currentStoryId&&(e.tips.getComponent(s.default).hidTips(function(){e.tips.stopAllActions()}),e.node.runAction(cc.moveTo(2,new cc.Vec2(0,200))))},function(){1021==e.currentStoryId&&e.child.getComponent(l.default).walkTo(2,new cc.Vec2(1500,-520),function(){e.runbearlogic()})})})})},t.prototype.runreachhand=function(){var e=this,t=i.default.getInstance().getStoryById(1022);this.currentStoryId=1022,this.tips.getComponent(s.default).showTips(this.currentStoryId,10,function(){}),a.default.detect(t,function(){1022==e.currentStoryId&&(e.tips.getComponent(s.default).hidTips(function(){e.tips.stopAllActions()}),e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),e.runcasherlogic())},function(){1022==e.currentStoryId&&e.runreachhand()})},t.prototype.runcasherlogic=function(){var e=this;this.casher.getComponent(r.default).talk(1023,function(){e.child.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0);var t=i.default.getInstance().getStoryById(1024);e.currentStoryId=1024,e.tips.getComponent(s.default).showTips(e.currentStoryId,10,function(){}),a.default.detect(t,function(){1024==e.currentStoryId&&(e.tips.getComponent(s.default).hidTips(function(){e.tips.stopAllActions()}),e.marketdoor.active=!0,e.bus.runAction(cc.sequence(cc.moveTo(3,new cc.Vec2(320,-250)),cc.delayTime(2),cc.callFunc(function(){e.child.active=!1}),cc.moveTo(3,new cc.Vec2(-1700,-250)),cc.delayTime(1),cc.callFunc(function(){e.shop.active=!1,e.home.active=!0}))))},function(){1024==e.currentStoryId&&e.runcasherlogic()})})},c([d(cc.Label)],t.prototype,"label",void 0),c([d(cc.Node)],t.prototype,"shop",void 0),c([d(cc.Node)],t.prototype,"home",void 0),c([d(cc.Button)],t.prototype,"apple",void 0),c([d(cc.Button)],t.prototype,"juice",void 0),c([d(cc.Button)],t.prototype,"book",void 0),c([d(cc.Button)],t.prototype,"confirm",void 0),c([d(cc.Node)],t.prototype,"casher",void 0),c([d(cc.Node)],t.prototype,"tips",void 0),c([d(cc.Button)],t.prototype,"cancle",void 0),c([d(cc.Node)],t.prototype,"child",void 0),c([d(cc.Node)],t.prototype,"marketdoor",void 0),c([d(cc.Node)],t.prototype,"bus",void 0),t=c([p],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../Object/Bird":"Bird","../Tables/TableSystem":"TableSystem","./algo":"algo","./superBear":"superBear","./superTips":"superTips"}],superBear:[function(e,t,n){"use strict";cc._RF.push(t,"c3ed531avlAeqYFzSQqopLL","superBear"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tables/TableSystem"),c=e("../NetUtils/GameProgress"),r=cc._decorator,i=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wordPanel=null,t.word=null,t}return __extends(t,e),t.prototype.start=function(){this.talk(-1,function(){})},t.prototype.update=function(e){},t.prototype.walkTo=function(e,t,n){var o=this;console.log("\u5c0f\u718a\u8d70\u5411\uff1a"+t.toString()),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.callFunc(function(){o.node.x<t.x?o.node.scaleX=-1:o.node.scaleX=1,o.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(e,t),cc.callFunc(function(){o.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof n&&n()})))},t.prototype.turnFace=function(e,t){var n=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("turn face",0)}),cc.delayTime(e),cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof t&&t()})))},t.prototype.talk=function(e,t,n){var r=this;if(void 0===n&&(n=null),console.log("talk ID:"+e),-1!=e){var i=o.default.getInstance().getStoryById(e);null!=i&&this.node.runAction(cc.sequence(cc.callFunc(function(){if(1==i.m_IsCallBack)r.wordPanel.active=!1,r.word.string="",r.node.stopAllActions(),"function"==typeof n&&n(i);else{var e={scene:1,story:i.m_ID};c.default.saveProgress(JSON.stringify(e),function(){},function(){}),r.wordPanel.active=!0,r.word.string=i.m_Word}}),cc.delayTime(i.m_Time),cc.callFunc(function(){r.wordPanel.active=!1,r.word.string=""}),cc.callFunc(function(){-1==i.m_Next?1==i.m_IsBirdFly?(r.node.stopAllActions(),r.walkTo(5,new cc.Vec2(-200,r.node.y),function(){"function"==typeof n&&n()})):"function"==typeof n&&n():(console.log("\u5c0f\u718a\u7ee7\u7eed\u8bf4\u4e0b\u4e00\u53e5\u8bdd\uff1a"+i.m_Next),r.talk(i.m_Next,t,n))})))}else this.wordPanel.active=!1},t.prototype.getAlgorithmDetectionResult=function(e,t){for(var n=null,c=o.default.getInstance().getAlgorithmDetectionCount(),r=0;r<c;r++){var i=o.default.getInstance().getAlgorithmDetection(r);if(i.m_CheckType==e&&i.m_StatusId==t){n=i;break}}return n},__decorate([a(cc.Node)],t.prototype,"wordPanel",void 0),__decorate([a(cc.Label)],t.prototype,"word",void 0),t=__decorate([i],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../NetUtils/GameProgress":"GameProgress","../Tables/TableSystem":"TableSystem"}],superTips:[function(e,t,n){"use strict";cc._RF.push(t,"521272+/oNGy4QB6hLx13wJ","superTips"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Tables/TableSystem"),c=cc._decorator,r=c.ccclass,i=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.description=null,t.m_0x01_1=null,t.m_0x01_2=null,t.m_0x01_3=null,t.m_0x01_4=null,t.m_0x01_5=null,t.m_0x01_6=null,t.m_0x01_7=null,t.m_0x01_8=null,t.m_0x02_1=null,t.m_0x02_2=null,t.m_0x02_3=null,t.m_0x02_4=null,t.m_0x02_5=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.showTips=function(e,t,n){var c=this,r=o.default.getInstance().getStoryById(e);this.node.runAction(cc.sequence(cc.callFunc(function(){c.node.position.y<-1e3&&c.node.runAction(cc.moveBy(.5,new cc.Vec2(0,300))),c.title.string=r.m_Title,c.description.string=r.m_Word;var e=c.chooseSound(r.m_CheckType,r.m_CheckTargetId);cc.audioEngine.play(e,!1,1)}),cc.moveTo(.5,new cc.Vec2(-700,-415)),cc.delayTime(t),cc.moveTo(.5,new cc.Vec2(-700,-715)),cc.callFunc(function(){"function"==typeof n&&n()}),cc.delayTime(1),cc.callFunc(function(){c.showTips(e,t,n)})))},t.prototype.hidTips=function(e){this.node.runAction(cc.sequence(cc.moveTo(.5,new cc.Vec2(-700,-715)),cc.callFunc(function(){"function"==typeof e&&e()})))},t.prototype.chooseSound=function(e,t){switch(e){case"0x01":switch(t){case"1":case 1:return this.m_0x01_1;case"2":case 2:return this.m_0x01_2;case"3":case 3:return this.m_0x01_3;case"4":case 4:return this.m_0x01_4;case"5":case 5:return this.m_0x01_5;case"6":case 6:return this.m_0x01_6;case"7":case 7:return this.m_0x01_7;case"8":case 8:return this.m_0x01_8;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x01 StatusId: ",t),null}case"0x02":switch(t){case"1":case 1:return this.m_0x02_1;case"2":case 2:return this.m_0x02_2;case"3":case 3:return this.m_0x02_3;case"4":case 4:return this.m_0x02_4;case"5":case 5:return this.m_0x02_5;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x02 StatusId: ",t),null}default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR AlgorithmId: ",e),null}},__decorate([i(cc.Label)],t.prototype,"title",void 0),__decorate([i(cc.Label)],t.prototype,"description",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x01_1",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x01_2",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x01_3",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x01_4",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x01_5",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x01_6",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x01_7",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x01_8",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x02_1",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x02_2",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x02_3",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x02_4",void 0),__decorate([i(cc.AudioClip)],t.prototype,"m_0x02_5",void 0),t=__decorate([r],t)}(cc.Component);n.default=a,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem"}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t,n){"use strict";cc._RF.push(t,"b0055SV/oVPe5QV/+Hf2mDo","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["HomeScene","KS_Bird","KS_ChoosePanel","KS_Guard","KS_ISContinue","KS_Lights","KS_Player","KS_Singer","KS_Teacher","KS_TipsPanel","KindergartenScene","CheckSystem","DataSystem","GameProgress","NetUtils","BaseObject","Bear","Bird","ChoosePanel","ChooseScenePanel","TipsPanel","TableStruct","TableSystem","Table_AlgorithmDetection","Table_ErrorCode","Table_Scene","Table_Story","CommonUtils","Story","Home","algo","bus","busstop","eat","scene2-3","shop","superBear","superTips","use_v2.1-2.2.1_cc.Toggle_event"]);