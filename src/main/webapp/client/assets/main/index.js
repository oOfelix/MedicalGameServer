window.__require=function t(e,o,n){function c(r,a){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=o[r]={exports:{}};e[r][0].call(u.exports,function(t){return c(e[r][1][t]||t)},u,u.exports,t,e,o,n)}return o[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<n.length;r++)c(n[r]);return c}({BaseObject:[function(t,e,o){"use strict";cc._RF.push(e,"38701egHSZOWr3DULWH7gcb","BaseObject");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.object_id=0,e}return c(e,t),e.prototype.distalk=function(){this.talk(-1,function(){})},e.prototype.talk=function(t,e){void 0===e&&(e=null),"function"==typeof e&&e()},e.prototype.walkTo=function(t,e,o){"function"==typeof o&&o()},e.prototype.idle=function(t){"function"==typeof t&&t()},e.prototype.moveTo=function(t,e,o){"function"==typeof o&&o()},e.prototype.show=function(t,e){"function"==typeof e&&e()},i([s],e.prototype,"object_id",void 0),i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Bear:[function(t,e,o){"use strict";cc._RF.push(e,"39929P4AE5KPJLyBKw4Z+4L","Bear");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),a=t("./BaseObject"),s=t("../Utils/CommonUtils"),l=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.update=function(){},e.prototype.turnOnHands=function(t){var e=this;this.node.runAction(cc.sequence(cc.callFunc(function(){e.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1)}),cc.delayTime(1),cc.callFunc(function(){e.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof t&&t()})))},e.prototype.walkTo=function(t,e,o){var n=this;console.log("\u5c0f\u718a\u8d70\u5411\uff1a"+e.x+", "+e.y),s.CommonUtils.comprareTo(this.node.x,e.x)!=s.ConstDefine.EQUAL||s.CommonUtils.comprareTo(this.node.y,e.y)!=s.ConstDefine.EQUAL||"function"!=typeof o?(this.node.x<e.x?(this.node.scaleX=-1,this.wordPanel.scaleX=-1,this.wordPanel.setPosition(-290,340)):(this.node.scaleX=1,this.wordPanel.scaleX=1,this.wordPanel.setPosition(290,340)),this.node.runAction(cc.sequence(cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(t,e),cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0)}),cc.delayTime(.3),cc.callFunc(function(){"function"==typeof o&&o()})))):o()},e.prototype.idle=function(t){this.node.stopAllActions(),this.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof t&&t()},e.prototype.distalk=function(){this.wordPanel.active=!1,this.word.string=""},e.prototype.talk=function(t,e){if(void 0===e&&(e=null),console.log("talk ID:"+t),t==s.ConstDefine.SAY_NOTING_ID)return this.wordPanel.active=!1,this.word.string="",void("function"==typeof e&&e());var o=r.default.getInstance().getStoryById(t);null!=o&&(this.wordPanel.active=!0,this.word.string=o.m_Word);var n=cc.find("PlaySound").getComponent(l.default).playSound(o.m_ID);this.scheduleOnce(function(){"function"==typeof e&&e()},n)},e.prototype.walk=function(t,e,o){var n=this;this.node.runAction(cc.sequence(cc.callFunc(function(){n.node.x<=t?n.node.scaleX=-1:n.node.scaleX=1,n.node.stopAllActions(),n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(o,new cc.Vec2(t,e)),cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0)})))},e.prototype.turnFace=function(){this.node.scaleX*=-1},e.prototype.setLoc=function(t,e){this.node.x=t,this.node.y=e},e.prototype.resetLoc=function(){this.node.x=-100,this.node.y=0},e.prototype.getAlgorithmDetectionResult=function(t,e){for(var o=null,n=r.default.getInstance().getAlgorithmDetectionCount(),c=0;c<n;c++){var i=r.default.getInstance().getAlgorithmDetection(c);if(i.m_CheckType==t&&i.m_StatusId==e){o=i;break}}return o},i([f(cc.Node)],e.prototype,"wordPanel",void 0),i([f(cc.Label)],e.prototype,"word",void 0),i([p],e)}(a.default);o.default=d,cc._RF.pop()},{"../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],Bird:[function(t,e,o){"use strict";cc._RF.push(e,"acf9b1KdmJHcKF0g1BCsnq5","Bird");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BaseObject"),a=t("../Tables/TableSystem"),s=t("../Utils/CommonUtils"),l=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.update=function(){},e.prototype.talk=function(t,e){var o=this;if(-1!=t){var n=a.default.getInstance().getStoryById(t);null!=n&&this.node.runAction(cc.sequence(cc.callFunc(function(){1==n.m_IsCallBack?(o.wordPanel.active=!1,o.word.string="",o.node.stopAllActions(),"function"==typeof e&&e(n)):(o.wordPanel.active=!0,o.word.string=n.m_Word,cc.find("PlaySound").getComponent(l.default).playSound(n.m_ID))}),cc.delayTime(n.m_Time),cc.callFunc(function(){o.wordPanel.active=!1,o.word.string=""}),cc.callFunc(function(){if(-1==n.m_Next)return 1==n.m_IsBirdFly&&o.node.runAction(cc.moveTo(5,new cc.Vec2(s.DeviceUtils.getVisibleSize().width+200,o.node.position.y+100))),void("function"==typeof e&&e());o.talk(n.m_Next,e)})))}else this.wordPanel.active=!1},i([f(cc.Node)],e.prototype,"wordPanel",void 0),i([f(cc.Label)],e.prototype,"word",void 0),i([p],e)}(r.default);o.default=d,cc._RF.pop()},{"../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],Bus:[function(t,e,o){"use strict";cc._RF.push(e,"6e621olG1xIdZVyoZXrjhP1","Bus");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chelun=[],e}return c(e,t),e.prototype.start=function(){},e.prototype.run=function(){this.chelun.forEach(function(t){t.runAction(cc.repeat(cc.rotateTo(3,360),3))})},e.prototype.stop=function(){this.chelun.forEach(function(t){t.stopAllActions()})},i([s([cc.Node])],e.prototype,"chelun",void 0),i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],CheckSystem:[function(t,e,o){"use strict";cc._RF.push(e,"35decf988xOBpVRydzEx+UF","CheckSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../NetUtils/NetUtils"),c=function(){function t(){}return t.checkResult=function(t,e,o,c){var i={operationCode:5,checkType:t,result:e};n.default.requestOnPost(i,function(t){if(console.log("\u6b63\u786e\uff1a\u6536\u5230\u53ef\u8bc6\u522b\u68c0\u6d4b\u7ed3\u679c"),"function"==typeof o){var e={checkType:t.checkType,result:t.result};o(e)}},function(t){if(console.log("\u9519\u8bef\uff1a\u6536\u5230\u4e0d\u53ef\u8bc6\u522b\u68c0\u6d4b\u7ed3\u679c"),"function"==typeof c){var e={errorMsg:t.errorMsg};c(e)}})},t}();o.default=c,cc._RF.pop()},{"../NetUtils/NetUtils":"NetUtils"}],ChoosePanel:[function(t,e,o){"use strict";cc._RF.push(e,"832c081iUxNka2Cyl2r7/8U","ChoosePanel");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.description=null,e.btnCancel=null,e.btnOK=null,e.okCallbackEvent=null,e.cancelCallbackEvent=null,e}return c(e,t),e.prototype.start=function(){},e.prototype.show=function(t,e,o,n,c){void 0===c&&(c=0),console.log("\u9009\u62e9\u9762\u677f\u663e\u793a\u5267\u60c5"),null!=this.title&&(this.title.string=t),null!=this.description&&(this.description.string=e),this.okCallbackEvent=o,this.cancelCallbackEvent=n},e.prototype.onOK=function(){"function"==typeof this.okCallbackEvent&&this.okCallbackEvent()},e.prototype.onCancel=function(){"function"==typeof this.cancelCallbackEvent&&this.cancelCallbackEvent()},i([s(cc.Label)],e.prototype,"title",void 0),i([s(cc.Label)],e.prototype,"description",void 0),i([s(cc.Node)],e.prototype,"btnCancel",void 0),i([s(cc.Node)],e.prototype,"btnOK",void 0),i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ChooseScenePanel:[function(t,e,o){"use strict";cc._RF.push(e,"9fc89gEUWtHjK5xAtfk+s8X","ChooseScenePanel");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Object/BaseObject"),a=cc._decorator,s=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.start=function(){},e.prototype.moveTo=function(t,e,o){console.log("\u5f39\u51fa\u9009\u62e9\u573a\u666f\u9762\u677f"),this.node.runAction(cc.sequence(cc.moveTo(t,e),cc.callFunc(function(){"function"==typeof o&&o()})))},e.prototype.changeScene=function(t,e){switch(e){case"1":cc.director.loadScene("SupermarketScene");break;case"2":cc.director.loadScene("KindergartenScene");break;case"3":cc.director.loadScene("ParkScene")}},i([s],e)}(r.default));o.default=l,cc._RF.pop()},{"../Object/BaseObject":"BaseObject"}],CommonUtils:[function(t,e,o){"use strict";cc._RF.push(e,"af584CvWQ1Ahacd111giWvE","CommonUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.DataStorageUtils=o.EncryptUtils=o.TimeUtils=o.DebugUtils=o.DeviceUtils=o.SystemUtils=o.AnimationUtils=o.OperationUtils=o.CommonUtils=o.ConstDefine=void 0;var n=function(){function t(){}return t.SCREEN_WIDTH_LOGIC=1920,t.SCREEN_HEIGHT_LOGIC=1080,t.DIRECTION_LEFT=0,t.DIRECTION_UP=1,t.DIRECTION_RIGHT=2,t.DIRECTION_DOWN=3,t.INVALIDE_VALUE=-1,t.ZERO=5e-4,t.EQUAL=0,t.BIGGER=1,t.SMALLER=2,t.ORITATION_AUTO=0,t.ORITATION_PORTRAIT=1,t.ORITATION_LANDSCAPE=2,t.PLATFORM_ORIGNAL=0,t.PLATFORM_WECHAT=1,t.PLATFORM_TIKTOK=2,t.PLATFORM_ANDROID=3,t.PLATFORM_GOOGLE=4,t.PLATFORM_TYPE=0,t.SERVER_IP="http://127.0.0.1",t.SERVER_PORT="8080",t.LOGIN_SERVER_LET="MedicalGame/OperationServlet",t.BRAIN_WAVE_SERVER_LET="MedicalGame/BackendServlet",t.GAME_MODEL=1,t.USER_NAME="",t.PASSWORD="",t.CURRENT_CHECK_INFO="",t.START_GAME=!1,t.SAY_NOTING_ID=-1,t.BEFORE_STORY_SHOW_NPC=1,t.BEFORE_STORY_SHOW_NPC_FINISH=2,t.BEFORE_STORY_SHOW_TIPS=3,t.BEFORE_STORY_SHOW_TIPS_FINISH=4,t.WAIT_STORY_CHECK_RESULT=5,t.WAIT_STORY_CHECK_RESULT_FINISH=6,t.AFTER_STORY_FINISH_TIPS=7,t.AFTER_STORY_FINISH_TIPS_FINISH=8,t.AFTER_STORY_FINISH_NPC=9,t.AFTER_STORY_FINISH_NPC_FINISH=10,t.FINISH_STORY=11,t.FINISH_STORY_FINISH=12,t.STORY_STEP_DESCRIPTION=["\u5267\u60c5\u6b65\u9aa41:\u6267\u884c\u89d2\u8272\u52a8\u4f5c","\u5267\u60c5\u6b65\u9aa42:\u5f39\u51fa\u63d0\u793a\u9762\u677f","\u5267\u60c5\u6b65\u9aa43:\u68c0\u6d4b\u5267\u60c5\u7ed3\u679c","\u5267\u60c5\u6b65\u9aa44:\u6e05\u7406\u63d0\u793a\u9762\u677f","\u5267\u60c5\u6b65\u9aa45:\u7ed3\u675f\u89d2\u8272\u52a8\u4f5c","\u5267\u60c5\u6b65\u9aa46:\u7ed3\u675f\u5f53\u524d\u5267\u60c5"],t.SCENE_HOME=0,t.SCENE_SUPERMARKET=1,t.SCENE_KINDERGARTEN=2,t.SCENE_PARK=3,t}();o.ConstDefine=n;var c=function(){function t(){}return t.isEqual=function(t,e,o){return Math.abs(t-e)<=o},t.comprareTo=function(t,e,o){return void 0===o&&(o=n.ZERO),Math.abs(t-e)<=o?n.EQUAL:t>e?n.BIGGER:n.SMALLER},t.getDistancePoint=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.getDistancePointXY=function(t,e,o,n){return Math.sqrt(Math.pow(t-o,2)+Math.pow(e-n,2))},t.getNodePositionDiff=function(t,e){var o=t.getNodeToWorldTransformAR(),n=o.tx,c=o.ty,i=e.getNodeToWorldTransformAR(),r=i.tx,a=i.ty;return cc.v2(r-n,a-c)},t.isPointInRect=function(e,o,c,i,r){return void 0===r&&(r=n.ZERO),t.comprareTo(e.x,o.x-c/2,r)===n.BIGGER&&t.comprareTo(e.x,o.x+c/2,r)===n.SMALLER&&t.comprareTo(e.y,o.y-i/2,r)===n.BIGGER&&t.comprareTo(e.y,o.y+i/2,r)===n.SMALLER},t.getRandomRange=function(t,e){return Math.floor(Math.random()*e)%(e-t)+t},t}();o.CommonUtils=c;var i=function(){function t(){}return t.addMoveEvent=function(t){null!=t&&null!=t?t.on(cc.Node.EventType.TOUCH_MOVE,function(e){var o=e.getDelta(),n=t.position.add(o);t.position=n}):console.error("Are you sure try to add move event on a nil node?")},t.addEndEvent=function(t,e,o,n,c){null!=t&&null!=t?t.on(cc.Node.EventType.TOUCH_END,function(){var i=e.x,r=e.y,a=e.width,s=e.height;t.x>i-a/2&&t.x<i+a/2&&t.y>r-s/2&&t.y<r+s/2&&o?("function"==typeof n&&n(),t.active=!1):"function"==typeof c&&c()}):console.error("Are you sure try to add move end event on a nil node?")},t}();o.OperationUtils=i;var r=function(){function t(){}return t.clickScale=function(t,e,o,n){void 0===n&&(n=null),null!=t&&null!=t?t.runAction(cc.sequence(cc.scaleTo(o/2,e,e),cc.scaleTo(o/2,1,1),cc.callFunc(function(){"function"==typeof n&&n()}))):"function"==typeof n&&n()},t.sequenceAnimation=function(t,e,o,n,c){if(void 0===n&&(n=.05),null!=t&&null!=t){var i=0;t.runAction(cc.repeat(cc.sequence(cc.callFunc(function(){if(++i<=o){var n=e+"_"+i;t.getComponent(cc.Sprite).spriteFrame=n}else"function"==typeof c&&c()}),cc.delayTime(n)),o+1))}else"function"==typeof c&&c()},t}();o.AnimationUtils=r;var a=function(){function t(){}return t.showSystemInfo=function(){n.PLATFORM_TYPE==n.PLATFORM_WECHAT&&cc.sys.dump()},t.startDynamicDrawcallBatch=function(){n.PLATFORM_TYPE==n.PLATFORM_WECHAT&&(cc.macro.CLEANUP_IMAGE_CACHE=!1,cc.dynamicAtlasManager.enabled=!0,cc.dynamicAtlasManager.maxFrameSize=1024)},t}();o.SystemUtils=a;var s=function(){function t(){}return t.getResolutionSize=function(){return cc.view.getFrameSize()},t.getVisibleSize=function(){return cc.view.getVisibleSize()},t.setOritation=function(t){switch(t){case n.ORITATION_PORTRAIT:cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT);break;case n.ORITATION_LANDSCAPE:cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE);break;case n.ORITATION_AUTO:default:cc.view.setOrientation(cc.macro.ORIENTATION_AUTO)}},t}();o.DeviceUtils=s;var l=function(){function t(){}return t.IS_DEBUG=!1,t}();o.DebugUtils=l;var u=function(){function t(){}return t.getCurrentStamp=function(){return cc.sys.now()},t}();o.TimeUtils=u;var p=function(){function t(){}return t.encrypt=function(t){return t},t.decrypt=function(t){return t},t}();o.EncryptUtils=p;var f=function(){function t(){}return t.write=function(t,e){var o=e;cc.sys.localStorage.setItem(t,o)},t.read=function(t){return cc.sys.localStorage.getItem(t)},t}();o.DataStorageUtils=f,cc._RF.pop()},{}],DataDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"7687fI8W9RDtKYoW0CEVBtc","DataDisplay");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Utils/CommonUtils"),a=t("../NetUtils/DataSystem"),s=t("../NetUtils/GameProgress"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sceneName=null,e.playerScore=null,e.mindScore1=null,e.mindScore2=null,e.pauseText=null,e}return c(e,t),e.prototype.start=function(){var t=this;this.setSceneName("--"),this.setMindScore1(0),this.setMindScore2(0),this.setPlayerScore(0),this.schedule(function(){t.refreshDataInfo()},.5,cc.macro.REPEAT_FOREVER,1)},e.prototype.refreshDataInfo=function(){var t=this,e=this;r.ConstDefine.START_GAME&&(a.default.queryBrainwaveData(function(t){e.setMindScore1(t.brainWaves),e.setMindScore2(t.concentration)},function(){}),a.default.queryScore(function(e){t.setPlayerScore(e.points)},function(){}),s.default.queryProgress(function(e){if(""==e.progress)t.setSceneName("\u4e3b\u573a\u666f");else switch(e.progress.scene){case r.ConstDefine.SCENE_HOME:t.setSceneName("\u4e3b\u573a\u666f");break;case r.ConstDefine.SCENE_SUPERMARKET:t.setSceneName("\u8d85\u5e02\u573a\u666f");break;case r.ConstDefine.SCENE_KINDERGARTEN:t.setSceneName("\u5e7c\u513f\u56ed\u573a\u666f");break;case r.ConstDefine.SCENE_PARK:t.setSceneName("\u516c\u56ed\u573a\u666f");break;default:t.setSceneName("\u4e3b\u573a\u666f")}},function(){}))},e.prototype.setSceneName=function(t){this.sceneName.string="\u5f53\u524d\u573a\u666f\uff1a"+t},e.prototype.setPlayerScore=function(t){this.playerScore.string="\u5f97\u5206\uff1a"+t},e.prototype.setMindScore1=function(t){this.mindScore1.string="\u4e13\u6ce8\u5ea6\uff1a"+t},e.prototype.setMindScore2=function(t){this.mindScore2.string="\u653e\u677e\u5ea6\uff1a"+t},e.prototype.exitClick=function(){cc.director.loadScene("HomeScene"),cc.director.end()},e.prototype.pauseClick=function(){"\u6682\u505c"==this.pauseText.string?(cc.director.pause(),this.pauseText.string="\u5f00\u59cb"):(cc.director.resume(),this.pauseText.string="\u6682\u505c")},i([p(cc.Label)],e.prototype,"sceneName",void 0),i([p(cc.Label)],e.prototype,"playerScore",void 0),i([p(cc.Label)],e.prototype,"mindScore1",void 0),i([p(cc.Label)],e.prototype,"mindScore2",void 0),i([p(cc.Label)],e.prototype,"pauseText",void 0),i([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../NetUtils/DataSystem":"DataSystem","../NetUtils/GameProgress":"GameProgress","../Utils/CommonUtils":"CommonUtils"}],DataSystem:[function(t,e,o){"use strict";cc._RF.push(e,"8e98fgHK3RISKWmVyMjNBXV","DataSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./NetUtils"),c=function(){function t(){}return t.saveScore=function(t,e,o){var c={operationCode:7,point:t};n.default.requestOnPost(c,function(){"function"==typeof e&&e()},function(t){if(console.log("\u9519\u8bef:\u79ef\u5206\u4fdd\u5b58\u5931\u8d25\uff01"),"function"==typeof o){var e={errorMsg:t.errorMsg};o(e)}})},t.queryScore=function(t,e){n.default.requestOnPost({operationCode:9},function(e){if("function"==typeof t){var o={points:e.points};t(o)}},function(t){if(console.log("\u9519\u8bef:\u79ef\u5206\u8bf7\u6c42\u5931\u8d25\uff01"),"function"==typeof e){var o={errorMsg:t.errorMsg};e(o)}})},t.queryBrainwaveData=function(t,e){n.default.requestOnPost({operationCode:19},function(e){if("function"==typeof t){var o={brainWaves:e.brainWaves,concentration:e.concentration};t(o)}},function(t){if(console.log("\u9519\u8bef:\u8111\u7535\u6ce2\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff01"+t.errorMsg),"function"==typeof e){var o={errorMsg:t.errorMsg};e(o)}})},t}();o.default=c,cc._RF.pop()},{"./NetUtils":"NetUtils"}],GameProgress:[function(t,e,o){"use strict";cc._RF.push(e,"fc9b4V8kZZPbbosc8Y5xJk/","GameProgress"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./NetUtils"),c=function(){function t(){}return t.saveProgress=function(t,e,o){var c={operationCode:11,status:t};n.default.requestOnPost(c,function(){console.log("\u6b63\u786e:\u8fdb\u5ea6\u4fdd\u5b58\u6210\u529f\uff01"+t),"function"==typeof e&&e()},function(e){if(console.log("\u9519\u8bef:\u8fdb\u5ea6\u4fdd\u5b58\u5931\u8d25\uff01"+t),"function"==typeof o){var n={errorMsg:e.errorMsg};o(n)}})},t.queryProgress=function(t,e){n.default.requestOnPost({operationCode:13},function(e){if(console.log("\u6b63\u786e:\u8fdb\u5ea6\u8bf7\u6c42\u6210\u529f\uff01"),"function"==typeof t){var o={progress:e.status};t(o)}},function(t){if(console.log("\u9519\u8bef:\u8fdb\u5ea6\u8bf7\u6c42\u5931\u8d25\uff01"),"function"==typeof e){var o={errorMsg:t.errorMsg};e(o)}})},t}();o.default=c,cc._RF.pop()},{"./NetUtils":"NetUtils"}],HomeScene:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","HomeScene");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Tables/TableSystem"),a=t("./Utils/CommonUtils"),s=t("./NetUtils/NetUtils"),l=t("./Prefabs/TipsPanel"),u=t("./Utils/Story"),p=t("./NetUtils/GameProgress"),f=t("./Prefabs/PlaySound"),d=t("./Prefabs/DataDisplay"),y=t("./NetUtils/DataSystem"),h=cc._decorator,_=h.ccclass,g=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loginPanel=null,e.accountEdit=null,e.passwordEdit=null,e.bear=null,e.showPanel=null,e.tipsPanel=null,e.dataDisplayPanel=null,e.isStart=!1,e.isOperate=!1,e.NPCNodes=[],e.audios=[],e.playSound=null,e}return c(e,t),e.prototype.start=function(){var t=this;r.default.getInstance(),this.scheduleOnce(function(){var e=cc.find("PlaySound");cc.game.addPersistRootNode(e),e.getComponent(f.default).initSoundRes(),cc.game.addPersistRootNode(t.dataDisplayPanel),u.default.getInstance().initScene(t,t.NPCNodes,t.tipsPanel,t.playSound),t.showLoginLogic()},2)},e.prototype.onRegister=function(){var t=this;if(this.isStart&&this.isOperate){if(""==this.accountEdit.string||""==this.passwordEdit.string)return cc.log("\u8d26\u53f7\u548c\u5bc6\u7801\u4e0d\u80fd\u7a7a\uff01"),void this.tipsPanel.getComponent(l.default).showTips("\u9519\u8bef","\u8d26\u53f7\u548c\u5bc6\u7801\u4e0d\u80fd\u7a7a\uff01",function(){t.scheduleOnce(t.hideTipsPanelInfo,3)});var e=this,o={operationCode:1,userName:this.accountEdit.string,password:this.passwordEdit.string};a.ConstDefine.USER_NAME=this.accountEdit.string,a.ConstDefine.PASSWORD=this.passwordEdit.string,s.default.requestOnPost(o,function(){console.log("register name : "+a.ConstDefine.USER_NAME+", pwd : "+a.ConstDefine.PASSWORD),e.loginFinish(function(){u.default.getInstance().showStory(5)})},function(){})}else this.tipsPanel.getComponent(l.default).showTips("\u9519\u8bef","\u6e38\u620f\u521d\u59cb\u5316\u4e2d\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01",function(){t.scheduleOnce(t.hideTipsPanelInfo,3)})},e.prototype.hideTipsPanelInfo=function(){cc.find("Canvas/TipsPanel").getComponent(l.default).hideTips(function(){})},e.prototype.onLogin=function(){var t=this;if(this.isStart&&this.isOperate){if(""==this.accountEdit.string||""==this.passwordEdit.string)return cc.log("\u8d26\u53f7\u548c\u5bc6\u7801\u4e0d\u80fd\u7a7a\uff01"),void this.tipsPanel.getComponent(l.default).showTips("\u9519\u8bef","\u8d26\u53f7\u548c\u5bc6\u7801\u4e0d\u80fd\u7a7a\uff01",function(){t.scheduleOnce(t.hideTipsPanelInfo,3)});var e=this,o={operationCode:3,userName:this.accountEdit.string,password:this.passwordEdit.string};a.ConstDefine.USER_NAME=this.accountEdit.string,a.ConstDefine.PASSWORD=this.passwordEdit.string,s.default.requestOnPost(o,function(){console.log("login name : "+a.ConstDefine.USER_NAME+", pwd : "+a.ConstDefine.PASSWORD),y.default.queryScore(function(e){a.ConstDefine.START_GAME=!0,t.dataDisplayPanel.getComponent(d.default).setPlayerScore(e.points)},function(){}),e.loginFinish(function(){p.default.queryProgress(function(e){if(""==e.progress)u.default.getInstance().showStory(5),t.dataDisplayPanel.getComponent(d.default).setSceneName("\u4e3b\u573a\u666f");else{var o=e.progress,n=o.scene,c=o.story;switch(n){case a.ConstDefine.SCENE_HOME:t.dataDisplayPanel.getComponent(d.default).setSceneName("\u4e3b\u573a\u666f"),u.default.getInstance().showStory(c);break;case a.ConstDefine.SCENE_SUPERMARKET:t.dataDisplayPanel.getComponent(d.default).setSceneName("\u8d85\u5e02\u573a\u666f"),cc.director.loadScene("SupermarketScene");break;case a.ConstDefine.SCENE_KINDERGARTEN:t.dataDisplayPanel.getComponent(d.default).setSceneName("\u5e7c\u513f\u56ed\u573a\u666f"),cc.director.loadScene("KindergartenScene");break;case a.ConstDefine.SCENE_PARK:t.dataDisplayPanel.getComponent(d.default).setSceneName("\u516c\u56ed\u573a\u666f"),cc.director.loadScene("ParkScene");break;default:c.getInstance().showStory(c)}}},function(){u.default.getInstance().showStory(5),t.dataDisplayPanel.getComponent(d.default).setSceneName("\u4e3b\u573a\u666f")})})},function(){})}else this.tipsPanel.getComponent(l.default).showTips("\u9519\u8bef","\u6e38\u620f\u521d\u59cb\u5316\u4e2d\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01",function(){t.scheduleOnce(t.hideTipsPanelInfo,3)})},e.prototype.loginFinish=function(t){this.isOperate=!1,this.loginPanel.runAction(cc.sequence(cc.delayTime(.5),cc.moveTo(1,new cc.Vec2(a.DeviceUtils.getVisibleSize().width,0)),cc.callFunc(function(){"function"==typeof t&&t()})))},e.prototype.showLoginLogic=function(){var t=this;this.loginPanel.runAction(cc.sequence(cc.delayTime(.5),cc.moveTo(1,new cc.Vec2(0,0)),cc.callFunc(function(){t.isStart=!0,t.isOperate=!0})))},e.prototype.playTipAudio=function(t){var e=cc.find("AudioLayer/"+t);null!=e&&null!=e&&cc.audioEngine.play(e.getComponent(cc.AudioSource).clip,!1,1)},i([g(cc.Node)],e.prototype,"loginPanel",void 0),i([g(cc.EditBox)],e.prototype,"accountEdit",void 0),i([g(cc.EditBox)],e.prototype,"passwordEdit",void 0),i([g(cc.Node)],e.prototype,"bear",void 0),i([g(cc.Node)],e.prototype,"showPanel",void 0),i([g(cc.Node)],e.prototype,"tipsPanel",void 0),i([g(cc.Node)],e.prototype,"dataDisplayPanel",void 0),i([g([cc.Node])],e.prototype,"NPCNodes",void 0),i([g([cc.Node])],e.prototype,"audios",void 0),i([g(cc.Node)],e.prototype,"playSound",void 0),i([_],e)}(cc.Component);o.default=m,cc._RF.pop()},{"./NetUtils/DataSystem":"DataSystem","./NetUtils/GameProgress":"GameProgress","./NetUtils/NetUtils":"NetUtils","./Prefabs/DataDisplay":"DataDisplay","./Prefabs/PlaySound":"PlaySound","./Prefabs/TipsPanel":"TipsPanel","./Tables/TableSystem":"TableSystem","./Utils/CommonUtils":"CommonUtils","./Utils/Story":"Story"}],KS_Bird:[function(t,e,o){"use strict";cc._RF.push(e,"83716kXWP9CNoc1Mt8w+1c9","KS_Bird");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Object/BaseObject"),a=t("../Tables/TableSystem"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.fly=function(t,e,o){this.node.runAction(cc.moveTo(o,new cc.Vec2(t,e)))},e.prototype.flyOut=function(){this.node.runAction(cc.moveTo(0,new cc.Vec2(-440,400)))},e.prototype.talk=function(t){var e=this;if(-1==t)return this.wordPanel.active=!1,void(this.word.string="");var o=a.default.getInstance().getStoryById(t);null!=o?this.node.runAction(cc.sequence(cc.callFunc(function(){e.wordPanel.active=!0,e.word.string=o.m_Word}),cc.delayTime(o.m_Time),cc.callFunc(function(){e.wordPanel.active=!1,e.word.string=""}),cc.callFunc(function(){-1==o.m_Next&&1==o.m_IsBirdFly&&e.node.runAction(cc.callFunc(function(){e.flyOut()}))}))):cc.log("Can`t find StoryID")},i([u(cc.Node)],e.prototype,"wordPanel",void 0),i([u(cc.Label)],e.prototype,"word",void 0),i([l],e)}(r.default);o.default=p,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Tables/TableSystem":"TableSystem"}],KS_ChoosePanel:[function(t,e,o){"use strict";cc._RF.push(e,"4aa3b6uRopGnqRf4JwU7YNe","KS_ChoosePanel");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./KindergartenScene"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e.player=null,e}return c(e,t),e.prototype.start=function(){this.player=cc.find("Player"),null==this.player&&console.log("\u73a9\u5bb6\u672a\u6210\u529f\u52a0\u8f7d")},e.prototype.show=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=800),void 0===o&&(o=0),this.node.x=t,this.node.y=e,this.node.runAction(cc.moveTo(1,new cc.Vec2(this.node.x,o)))},e.prototype.unShow=function(t,e,o){void 0===t&&(t=1200),void 0===e&&(e=0),void 0===o&&(o=null),this.node.runAction(cc.sequence(cc.moveTo(1,new cc.Vec2(t,e)),cc.callFunc(function(){"function"==typeof o&&o()})))},e.prototype.scene_1_OK=function(){},e.prototype.scene_1_Cancel=function(){},e.prototype.scene_2_Right=function(){},e.prototype.scene_2_Wrong=function(){},e.prototype.scene_4_Check=function(){},e.prototype.scene_6_1_Check=function(){cc.log("\u5c0f\u670b\u53cb\u6267\u884c\u5237\u5361/\u6295\u786c\u5e01/\u7eb8\u5e01\u4e09\u8005\u52a8\u4f5c\u4e4b\u4e00"),this.main.getComponent(r.default).runScene_6_2()},e.prototype.scene_6_2_OK=function(){this.unShow(),this.main.getComponent(r.default).runScene_6_4()},e.prototype.scene_6_2_NO=function(){},e.prototype.scene_8_Check=function(t,e){var o=this;this.unShow(),cc.find("KindergartenScene/ClassRoom/Singer");var n,c,i=cc.find("teacher"),a=cc.find("KindergartenScene/ClassRoom/ChoosePanel_8/mp3_1").getComponent(cc.AudioSource).clip,s=cc.find("KindergartenScene/ClassRoom/ChoosePanel_8/mp3_2").getComponent(cc.AudioSource).clip,l=cc.find("KindergartenScene/ClassRoom/ChoosePanel_8/mp3_3").getComponent(cc.AudioSource).clip;switch(cc.log("\u5408\u5531\u5bf9\u5e94\u66f2\u76ee\u3002"),e){case 1:case"1":n=a,c=25;break;case 2:case"2":n=s,c=27;break;case 3:case"3":n=l,c=35;break;default:cc.log("scene_8_Check music \u52a0\u8f7d\u51fa\u9519\uff01")}this.node.runAction(cc.sequence(cc.callFunc(function(){}),cc.delayTime(2),cc.callFunc(function(){o.main.getComponent(r.default).bgmShutdown(),cc.audioEngine.play(n,!1,1)}),cc.delayTime(c),cc.callFunc(function(){i.x=-1e3,o.main.getComponent(r.default).bgmStart(),o.main.getComponent(r.default).runScene_10_1()})))},e.prototype.scene_11_Right=function(){},e.prototype.scene_11_Wrong=function(){},i([l(cc.Node)],e.prototype,"main",void 0),i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./KindergartenScene":"KindergartenScene"}],KS_Guard:[function(t,e,o){"use strict";cc._RF.push(e,"06d0c5cy9xO75FUyH00z6yM","KS_Guard");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Object/BaseObject"),a=t("../Prefabs/PlaySound"),s=t("../Tables/TableSystem"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e.playSound=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){}),this.playSound=cc.find("PlaySound")},e.prototype.talk=function(t,e){var o=this;if(-1==t)return this.wordPanel.active=!1,void(this.word.string="");var n=s.default.getInstance().getStoryById(t);null!=n?this.node.runAction(cc.sequence(cc.callFunc(function(){o.wordPanel.active=!0,o.word.string=n.m_Word}),cc.delayTime(this.playSound.getComponent(a.default).playSound(t)),cc.callFunc(function(){o.wordPanel.active=!1,o.word.string="","function"==typeof e&&(cc.log("KS_Player.talk \u6267\u884c\u56de\u8c03!"),e(n))}))):cc.log("Can`t find StoryID")},e.prototype.waveHand=function(){cc.log("\u6267\u884c\u6325\u624b\u52a8\u4f5c")},i([p(cc.Node)],e.prototype,"wordPanel",void 0),i([p(cc.Label)],e.prototype,"word",void 0),i([u],e)}(r.default);o.default=f,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem"}],KS_ISContinue:[function(t,e,o){"use strict";cc._RF.push(e,"d6370XOrvtHKoIId5dcEn0W","KS_ISContinue");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e.title=null,e.description=null,e.YesCallback=null,e.NoCallback=null,e}return c(e,t),e.prototype.start=function(){},e.prototype.show=function(t,e,o,n){this.title.string=t,this.description.string=e,"function"==typeof o&&"function"==typeof n&&(this.YesCallback=o,this.NoCallback=n),this.node.runAction(cc.moveTo(1,new cc.Vec2(this.node.x,320)))},e.prototype.Yes=function(){console.log("\u8df3\u8fc7\u5f53\u524d\u573a\u666f\u68c0\u6d4b!"),this.node.y=960,"function"==typeof this.YesCallback&&this.YesCallback()},e.prototype.No=function(){console.log("\u91cd\u65b0\u5f00\u59cb\u5f53\u524d\u573a\u666f!"),this.node.y=960,"function"==typeof this.NoCallback&&this.NoCallback()},i([s(cc.Node)],e.prototype,"main",void 0),i([s(cc.Label)],e.prototype,"title",void 0),i([s(cc.Label)],e.prototype,"description",void 0),i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],KS_Lights:[function(t,e,o){"use strict";cc._RF.push(e,"12f8fGTR4tD+pBPF6yb1U/9","KS_Lights");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Utils/CommonUtils"),a=t("../Tables/TableSystem"),s=t("../Object/BaseObject"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.red=null,e.yellow=null,e.green=null,e.wordPanel=null,e.word=null,e.playSound=null,e}return c(e,t),e.prototype.start=function(){this.shutdown(),this.playSound=cc.find("PlaySound")},e.prototype.shutdown=function(){this.red.active=!1,this.yellow.active=!1,this.green.active=!1,this.wordPanel.active=!1},e.prototype.light=function(t){this.type=0==r.CommonUtils.getRandomRange(0,2)?0:2,this.storyID=t,this.lightIt()},e.prototype.lightIt=function(){if(null!=a.default.getInstance().getStoryById(this.storyID+this.type))switch(this.shutdown(),this.type){case 0:this.red.active=!0;break;case 1:this.yellow.active=!0;break;case 2:this.green.active=!0}else cc.log("Lights::tabStory == NULL ID =",this.storyID+this.type)},e.prototype.getType=function(){return this.type},e.prototype.lightByType=function(t){return(0==t||2==t)&&(this.type=t,this.lightIt(),!0)},e.prototype.btnCheck=function(t,e){switch(this.type){case 0:return 2==e?this.checkSuccess():this.checkFalse("\u73b0\u5728\u662f\u7ea2\u706f\u54e6\uff0c\u4e0d\u53ef\u4ee5\u8fc7\uff01");case 1:return 4==e?this.checkSuccess():this.checkFalse("\u73b0\u5728\u662f\u9ec4\u706f\uff0c\u9700\u8981\u518d\u7b49\u7b49\uff01");case 2:return 5==e?this.checkSuccess():this.checkFalse("\u73b0\u5728\u662f\u7eff\u706f\uff0c\u662f\u53ef\u4ee5\u8fc7\u7684\uff01")}},e.prototype.checkSuccess=function(){var t=this;return this.node.runAction(cc.sequence(cc.callFunc(function(){t.word.string="\u7b54\u5bf9\u5566\uff0c\u4f60\u771f\u68d2\uff01",t.wordPanel.active=!0}),cc.delayTime(2),cc.callFunc(function(){t.wordPanel.active=!1}))),!0},e.prototype.checkFalse=function(t){var e=this;return this.node.runAction(cc.sequence(cc.callFunc(function(){e.word.string=t,e.wordPanel.active=!0}),cc.delayTime(2),cc.callFunc(function(){e.wordPanel.active=!1}))),!1},i([p(cc.Node)],e.prototype,"red",void 0),i([p(cc.Node)],e.prototype,"yellow",void 0),i([p(cc.Node)],e.prototype,"green",void 0),i([p(cc.Node)],e.prototype,"wordPanel",void 0),i([p(cc.Label)],e.prototype,"word",void 0),i([u],e)}(s.default);o.default=f,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils"}],KS_Player:[function(t,e,o){"use strict";cc._RF.push(e,"13775B8HpNKv7r5aNAE9qgY","KS_Player");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),a=t("../Object/BaseObject"),s=t("../Prefabs/PlaySound"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e.player=null,e.playerDisplay=null,e.playSound=null,e}return c(e,t),e.prototype.start=function(){this.playerDisplay=this.player.getComponent(dragonBones.ArmatureDisplay),this.playSound=cc.find("PlaySound"),null==this.playerDisplay&&console.log("player\u9f99\u9aa8\u52a8\u753b\u52a0\u8f7d\u5931\u8d25\uff01"),this.talk(-1,function(){})},e.prototype.talk=function(t,e){var o=this;if(-1==t)return this.wordPanel.active=!1,void(this.word.string="");var n=r.default.getInstance().getStoryById(t);null!=n?this.node.runAction(cc.sequence(cc.callFunc(function(){o.wordPanel.active=!0,o.word.string=n.m_Word}),cc.delayTime(this.playSound.getComponent(s.default).playSound(t)),cc.callFunc(function(){o.wordPanel.active=!1,o.word.string="","function"==typeof e&&(cc.log("KS_Player.talk \u6267\u884c\u56de\u8c03!"),e(n))}))):cc.log("Can`t find StoryID")},e.prototype.distalk=function(){this.wordPanel.active=!1,this.word.string=""},e.prototype.walk=function(t,e,o){var n=this;this.node.runAction(cc.sequence(cc.callFunc(function(){n.node.x<=t?n.player.scaleX=-1:n.player.scaleX=1,n.player.stopAllActions(),n.playerDisplay.playAnimation("walk",0)}),cc.moveTo(o,new cc.Vec2(t,e)),cc.callFunc(function(){n.playerDisplay.playAnimation("stand",0)})))},e.prototype.turnFace=function(){this.player.scaleX*=-1},e.prototype.setLoc=function(t,e){this.node.x=t,this.node.y=e},e.prototype.resetLoc=function(){this.node.x=-100,this.node.y=0},e.prototype.pushButton=function(){this.playerDisplay.playAnimation("atc",1)},e.prototype.sleep=function(){console.log("\u7761\u89c9")},e.prototype.sing=function(){console.log("\u5531\u6b4c")},e.prototype.sitdown=function(){console.log("\u5750\u4e0b")},e.prototype.drinkWater=function(){console.log("\u559d\u6c34")},e.prototype.waveHand=function(){console.log("\u6325\u624b")},e.prototype.handShake=function(){console.log("\u5c0f\u670b\u53cb\u63e1\u624b\u3002")},e.prototype.eating=function(){console.log("\u64ad\u653e\u5403\u996d\u52a8\u753b\uff0c\u6301\u7eed3s\u3002")},e.prototype.embrace=function(){console.log("\u5c0f\u670b\u53cb\u62e5\u62b1\u3002")},e.prototype.nod=function(){console.log("\u5c0f\u670b\u53cb\u70b9\u5934\u3002")},i([p(cc.Node)],e.prototype,"wordPanel",void 0),i([p(cc.Label)],e.prototype,"word",void 0),i([p(cc.Node)],e.prototype,"player",void 0),i([u],e)}(a.default);o.default=f,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem"}],KS_Singer:[function(t,e,o){"use strict";cc._RF.push(e,"8b8adKj29FHwIU6onASCZD+","KS_Singer");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Object/BaseObject"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return c(e,t),e.prototype.start=function(){},i([l(cc.Label)],e.prototype,"label",void 0),i([l],e.prototype,"text",void 0),i([s],e)}(r.default);o.default=u,cc._RF.pop()},{"../Object/BaseObject":"BaseObject"}],KS_Teacher:[function(t,e,o){"use strict";cc._RF.push(e,"cc09c7FVLtAL6UOFBopbyT3","KS_Teacher");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Object/BaseObject"),a=t("../Prefabs/PlaySound"),s=t("../Tables/TableSystem"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e.playSound=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){}),this.playSound=cc.find("PlaySound")},e.prototype.talk=function(t){var e=this;if(-1==t)return this.wordPanel.active=!1,void(this.word.string="");var o=s.default.getInstance().getStoryById(t);null!=o?this.node.runAction(cc.sequence(cc.callFunc(function(){e.wordPanel.active=!0,e.word.string=o.m_Word}),cc.delayTime(this.playSound.getComponent(a.default).playSound(t)),cc.callFunc(function(){e.wordPanel.active=!1,e.word.string=""}))):cc.log("Can`t find StoryID")},e.prototype.walk=function(t,e,o){this.node.runAction(cc.moveTo(o,new cc.Vec2(t,e)))},e.prototype.setLoc=function(t,e){this.node.x=t,this.node.y=e},i([p(cc.Node)],e.prototype,"wordPanel",void 0),i([p(cc.Label)],e.prototype,"word",void 0),i([u],e)}(r.default);o.default=f,cc._RF.pop()},{"../Object/BaseObject":"BaseObject","../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem"}],KS_TipsPanel:[function(t,e,o){"use strict";cc._RF.push(e,"26878OoI+JFr5Kf/65R8PC1","KS_TipsPanel");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.description=null,e.m_0x01_1=null,e.m_0x01_2=null,e.m_0x01_3=null,e.m_0x01_4=null,e.m_0x01_5=null,e.m_0x01_6=null,e.m_0x01_7=null,e.m_0x01_8=null,e.m_0x02_1=null,e.m_0x02_2=null,e.m_0x02_3=null,e.m_0x02_4=null,e.m_0x02_5=null,e}return c(e,t),e.prototype.start=function(){},e.prototype.show=function(t,e,o){var n=this;if(-1!=t){this.setLoc(e);var c=r.default.getInstance().getStoryById(t);null!=c?(this.title.string=c.m_Title,this.description.string=c.m_Word,this.node.runAction(cc.sequence(cc.moveTo(.5,new cc.Vec2(this.node.x,150)),cc.delayTime(.5),cc.callFunc(function(){var t=n.chooseSound(c.m_CheckType,c.m_CheckTargetId);null!=t?cc.audioEngine.play(t,!1,1):cc.log("sound is NULL!!!")}),cc.delayTime(c.m_Time),cc.delayTime(1),cc.callFunc(function(){"function"==typeof o?(cc.log("KS_TipsPanel::show \u6267\u884c\u56de\u8c03!"),o(c)):n.unshow()})))):cc.log("Can`t find StoryID")}},e.prototype.setLoc=function(t,e){void 0===e&&(e=0),this.node.x=t,this.node.y=e},e.prototype.unshow=function(){this.node.runAction(cc.moveTo(.5,new cc.Vec2(this.node.x,-150)))},e.prototype.chooseSound=function(t,e){switch(t){case"0x01":switch(e){case"1":case 1:return this.m_0x01_1;case"2":case 2:return this.m_0x01_2;case"3":case 3:return this.m_0x01_3;case"4":case 4:return this.m_0x01_4;case"5":case 5:return this.m_0x01_5;case"6":case 6:return this.m_0x01_6;case"7":case 7:return this.m_0x01_7;case"8":case 8:return this.m_0x01_8;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x01 StatusId: ",e),null}case"0x02":switch(e){case"1":case 1:return this.m_0x02_1;case"2":case 2:return this.m_0x02_2;case"3":case 3:return this.m_0x02_3;case"4":case 4:return this.m_0x02_4;case"5":case 5:return this.m_0x02_5;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x02 StatusId: ",e),null}default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR AlgorithmId: ",t),null}},i([l(cc.Label)],e.prototype,"title",void 0),i([l(cc.Label)],e.prototype,"description",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x01_1",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x01_2",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x01_3",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x01_4",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x01_5",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x01_6",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x01_7",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x01_8",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x02_1",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x02_2",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x02_3",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x02_4",void 0),i([l(cc.AudioClip)],e.prototype,"m_0x02_5",void 0),i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem"}],KindergartenScene:[function(t,e,o){"use strict";cc._RF.push(e,"0c9ccgBRhdBj6+bC5xMnqHn","KindergartenScene");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../KS/KS_ChoosePanel"),a=t("../Tables/TableSystem"),s=t("./KS_TipsPanel"),l=t("../Object/BaseObject"),u=t("../NetUtils/CheckSystem"),p=t("../NetUtils/GameProgress"),f=t("../Prefabs/PlaySound"),d=t("../Utils/Story"),y=t("./KS_Player"),h=t("../Object/Xiaoming"),_=t("../Utils/CommonUtils"),g=t("../Object/NPC"),m=cc._decorator,S=m.ccclass,v=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataDisplayPanel=null,e.NPCNodes=[],e.tipsPanel=null,e.boy=null,e.boyfanmian=null,e.boyzhengmian=null,e.player=null,e.tipPanel=null,e.guard=null,e.teacher=null,e.signer=null,e.bgm=null,e.choosePanel_1=null,e.choosePanel_4=null,e.choosePanel_6_1=null,e.choosePanel_6_2=null,e.choosePanel_8=null,e.lights=null,e.bus=null,e.ISContinue=null,e.scene1=null,e.scene2=null,e.scene3=null,e.scene4=null,e.scene5=null,e.scene6=null,e.scene7=null,e.scene8=null,e.scene9=null,e.scene10=null,e.scene11=null,e.scene12=null,e.elevatorSound=null,e.elevatorLayerNumber=null,e.elevatorLayerNumberReturn=null,e.elevator=null,e.elevatorReturn=null,e.zhiwu=null,e.dama=null,e.xiaonvhai=null,e.xiaonanhai=null,e.laoyeyezuoxia=null,e.red=null,e.yellow=null,e.green=null,e.isCheck=!0,e.playSound=null,e.times=0,e}return c(e,t),e.prototype.start=function(){var t=this;a.default.getInstance(),this.scheduleOnce(function(){t.scene=[t.scene1,t.scene2,t.scene3,t.scene4,t.scene5,t.scene6,t.scene7,t.scene8,t.scene9,t.scene10,t.scene11,t.scene12],t.checkpoint=[2002,2003,2004,2010,2012,2021,2023,2024,2011,2029],t.playSound=cc.find("PlaySound"),d.default.getInstance().initScene(t,t.NPCNodes,t.tipsPanel,t.playSound),t.bgmStart(),t.isCheck?t.readRecord():t.runScene_1_1()},.5)},e.prototype.jumpToScene=function(){this.runScene_1_1()},e.prototype.readRecord=function(){var t=this;p.default.queryProgress(function(e){if(""==e.progress)t.runScene_1_1();else{var o=e.progress,n=(o.scene,o.story);t.jumpToScene(n)}},function(){t.runScene_1_1()})},e.prototype.saveRecord=function(t,e){void 0===e&&(e=2);var o={scene:e,story:t.m_ID};p.default.saveProgress(JSON.stringify(o),function(){},function(){})},e.prototype.bgmStart=function(){this.backgroundMusic=cc.audioEngine.play(this.bgm,!0,1)},e.prototype.bgmShutdown=function(){cc.audioEngine.stop(this.backgroundMusic)},e.prototype.checkScene=function(t){this.scene1.active=!1,this.zhiwu.active=!1,this.scene2.active=!1,this.scene3.active=!1,this.scene4.active=!1,this.scene5.active=!1,this.scene6.active=!1,this.scene7.active=!1,this.scene8.active=!1,this.scene9.active=!1,this.scene10.active=!1,this.scene11.active=!1,this.scene12.active=!1,this.player.stopAllActions(),this.player.getComponent(y.default).distalk();var e=t;t>=1&&t<=12&&(this.scene[--t].active=!0),this.zhiwu.active=1==e||12==e},e.prototype.runScene_1_1=function(){var t=this;this.checkScene(1),this.boy.getComponent(h.default).distalk(),this.boy.getComponent(h.default).resetLoc(),this.boy.getComponent(h.default).walkTo(5,new cc.Vec2(650,0),function(){d.default.getInstance().showStory(2001,function(){t.boy.getComponent(h.default).eating(function(){t.runScene_2_1()})})})},e.prototype.runScene_2_1=function(){var t=this;this.elevatorLayerNumber.string="5",this.checkScene(2),this.boy.getComponent(h.default).setLoc(2500,100),d.default.getInstance().showStory(2027,function(){t.boy.getComponent(h.default).turnOnHands(function(){d.default.getInstance().showStory(2003,function(){t.runPlayerEnterElevator()})})})},e.prototype.runPlayerEnterElevator=function(){var t=this;this.elevator.runAction(cc.sequence(cc.callFunc(function(){cc.loader.loadRes("Images/dianti_open.png",cc.SpriteFrame,function(e,o){t.elevator.getComponent(cc.Sprite).spriteFrame=o})}),cc.delayTime(1),cc.callFunc(function(){t.boyfanmian.active=!1,t.boyfanmian.setPosition(t.boy.getPosition()),t.boy.active=!1,t.boyfanmian.active=!0,t.boyfanmian.getComponent(h.default).walkTo(2,new cc.Vec2(950,300),function(){cc.loader.loadRes("Images/dianti_close.png",cc.SpriteFrame,function(e,o){t.boyfanmian.active=!1,t.boyfanmian.getComponent(h.default).resetLoc(),t.elevator.getComponent(cc.Sprite).spriteFrame=o})})}),cc.delayTime(4),cc.callFunc(function(){t.runElevatorDown()})))},e.prototype.runElevatorDown=function(){var t=this;this.elevatorLayerNumber.node.runAction(cc.sequence(cc.callFunc(function(){t.elevatorLayerNumber.string="4"}),cc.delayTime(1),cc.callFunc(function(){t.elevatorLayerNumber.string="3"}),cc.delayTime(1),cc.callFunc(function(){t.elevatorLayerNumber.string="2"}),cc.delayTime(1),cc.callFunc(function(){t.elevatorLayerNumber.string="1",cc.audioEngine.play(t.elevatorSound,!1,1)}),cc.delayTime(1),cc.callFunc(function(){t.runScene_4_1()})))},e.prototype.runScene_2_2=function(){var t=this;this.node.runAction(cc.sequence(cc.callFunc(function(){t.boy.getComponent(h.default).pushButton(function(){})}),cc.delayTime(2),cc.callFunc(function(){t.boy.getComponent(h.default).talk(2003,function(){t.runPlayerEnterElevator()})})))},e.prototype.runScene_3_1=function(){var t=this;this.player.active=!0,this.checkScene(3),this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(y.default).setLoc(2e3,120),t.player.getComponent(y.default).walk(760,120,6)}),cc.delayTime(6),cc.callFunc(function(){cc.log("\u5927\u5bb6\u8138\u8272\u90fd\u4e0d\u597d\u770b")}),cc.delayTime(1.5),cc.callFunc(function(){t.player.getComponent(y.default).talk(2004,t.saveRecord)}),cc.delayTime(this.playSound.getComponent(f.default).getSoundResDuration(2004)+.5),cc.callFunc(function(){t.runScene_4_1()})))},e.prototype.runScene_4_1=function(){var t=this;this.boy.active=!0,this.checkScene(4),this.boy.getComponent(h.default).resetLoc(),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){var e=0==_.CommonUtils.getRandomRange(0,2)?0:2;t.runScene_4_2(e)})))},e.prototype.runScene_4_2=function(t){var e=this;switch(this.red.active=!1,this.yellow.active=!1,this.yellow.active=!1,t){case 0:this.red.active=!0;break;case 1:this.yellow.active=!0;break;case 2:this.green.active=!0}2==t?d.default.getInstance().showStory(2007,function(){e.runScene_4_4()}):0==t?d.default.getInstance().showStory(2005,function(){e.runScene_4_2(2)}):1==t&&d.default.getInstance().showStory(2006,function(){e.runScene_4_2(2)})},e.prototype.runScene_4_4=function(){var t=this;this.boyfanmian.active=!1,this.boyfanmian.setPosition(this.boy.getPosition()),this.boy.active=!1,this.boyfanmian.active=!0,this.boyfanmian.getComponent(h.default).walkTo(8,new cc.Vec2(1e3,350),function(){t.boy.setPosition(t.boyfanmian.getPosition()),t.boyfanmian.active=!1,t.boy.active=!0,t.boy.getComponent(h.default).walkTo(4,new cc.Vec2(2500,350),function(){t.runScene_5_1()})})},e.prototype.runScene_5_1=function(){var t=this;this.checkScene(5),this.boy.getComponent(h.default).setLoc(-100,330),d.default.getInstance().showStory(2011,function(){t.bus.x=3e3,t.bus.y=340,t.bus.scaleX=1,t.bus.runAction(cc.sequence(cc.moveTo(2,1200,t.bus.y),cc.delayTime(4),cc.callFunc(function(){t.bus.x=3e3,t.bus.y=340,t.runScene_6_1()})))})},e.prototype.runScene_6_1=function(){var t=this;this.checkScene(6);var e=cc.find("KindergartenScene/BeforeEnterBus/bus/background1"),o=cc.find("KindergartenScene/BeforeEnterBus/bus/background2");cc.find("KindergartenScene/BeforeEnterBus/bus/background2/old").active=!1,e.active=!0,o.active=!1,this.boy.getComponent(h.default).setLoc(-200,20),d.default.getInstance().showStory(2014,function(){t.runPeopleEnterBus()})},e.prototype.runPeopleEnterBus=function(){var t=this,e=cc.find("KindergartenScene/BeforeEnterBus/bus/background1"),o=cc.find("KindergartenScene/BeforeEnterBus/bus/background2");e.active=!0,o.active=!1,this.boy.active=!0,this.xiaonvhai.setPosition(new cc.Vec2(-100,-530)),this.dama.setPosition(new cc.Vec2(-335,-530)),this.xiaonanhai.setPosition(new cc.Vec2(-572,-530)),this.boy.setPosition(new cc.Vec2(180,20)),this.xiaonvhai.active=!0,this.dama.active=!0,this.xiaonanhai.active=!0,this.boy.active=!0,this.xiaonvhai.getComponent(g.default).walkTo(1,new cc.Vec2(85,-530),function(){t.xiaonvhai.active=!1}),this.dama.getComponent(g.default).walkTo(2,new cc.Vec2(85,-530),function(){t.dama.active=!1}),this.xiaonanhai.getComponent(g.default).walkTo(4,new cc.Vec2(85,-530),function(){t.xiaonanhai.active=!1}),this.boy.getComponent(h.default).walkTo(8,new cc.Vec2(1e3,20),function(){t.boy.active=!1,t.runScene_6_2()})},e.prototype.runScene_6_2=function(){var t=this,e=cc.find("KindergartenScene/BeforeEnterBus/bus/background1"),o=cc.find("KindergartenScene/BeforeEnterBus/bus/background2");e.active=!1,o.active=!0,this.boy.active=!0,this.boy.getComponent(h.default).setLoc(820,230),this.scene_6_2_Type=1,0==this.scene_6_2_Type?this.laoyeyezuoxia.active=!1:this.laoyeyezuoxia.active=!0,d.default.getInstance().showStory(this.scene_6_2_Type+2015,function(){t.runScene_6_3()})},e.prototype.runScene_6_3=function(){var t=this,e=cc.find("KindergartenScene/BeforeEnterBus/bus/background2/old");e.x=92,e.y=-230,0==this.scene_6_2_Type?(console.log("\u5750\u4e0b\u52a8\u4f5c"),this.boy.getComponent(h.default).walkTo(2,new cc.Vec2(1430,230),function(){t.boy.getComponent(h.default).walkTo(3,new cc.Vec2(600,230),function(){t.choosePanel_6_2.getComponent(r.default).show()})})):(console.log("\u4f38\u624b\u52a8\u4f5c"),this.boy.getComponent(h.default).walkTo(2,new cc.Vec2(1080,230),function(){t.runScene_6_5()}))},e.prototype.runScene_6_4=function(){var t=this,e=cc.find("KindergartenScene/BeforeEnterBus/bus/background2/old"),o=cc.find("KindergartenScene/BeforeEnterBus/bus/background2/old/wordbox");this.node.runAction(cc.sequence(cc.callFunc(function(){t.player.getComponent(y.default).walk(1430,230,.3)}),cc.delayTime(.5),cc.callFunc(function(){t.player.getComponent(y.default).walk(1080,230,2),e.runAction(cc.moveTo(2,new cc.Vec2(508,-230)))}),cc.delayTime(2),cc.callFunc(function(){o.active=!0,t.playSound.getComponent(f.default).playSound(2018)}),cc.delayTime(this.playSound.getComponent(f.default).getSoundResDuration(2018)+.5),cc.callFunc(function(){o.active=!1,t.tipPanel.getComponent(s.default).show(2019,300,function(e){t.check(e,function(){t.runScene_6_5()},function(){t.runScene_6_4()})})})))},e.prototype.runScene_6_5=function(){var t=this;d.default.getInstance().showStory(2020,function(){t.runScene_7_1()})},e.prototype.runScene_7_1=function(){var t=this;this.checkScene(7),this.boy.getComponent(h.default).resetLoc(),this.boy.getComponent(h.default).walkTo(3,new cc.Vec2(710,0),function(){t.boy.getComponent(h.default).walkTo(2,new cc.Vec2(900,0),function(){d.default.getInstance().showStory(2022,function(){t.boyfanmian.active=!1,t.boyfanmian.setPosition(t.boy.getPosition()),t.boy.active=!1,t.boyfanmian.active=!0,t.boyfanmian.getComponent(h.default).walkTo(1,new cc.Vec2(900,100),function(){t.runScene_8_1()})})})})},e.prototype.runScene_8_1=function(){var t=this;this.checkScene(8),this.boyfanmian.active=!1,this.boy.active=!0,this.boy.getComponent(h.default).setLoc(2080,0),this.signer.x=-100,this.signer.y=-1e3,this.boy.getComponent(h.default).walkTo(3,new cc.Vec2(1234,0),function(){d.default.getInstance().showStory(2024,function(){t.teacher.getComponent(g.default).sayHello(function(){d.default.getInstance().showStory(2026,function(){t.choosePanel_8.getComponent(r.default).show(0)})})})})},e.prototype.runScene_10_1=function(){var t=this;this.checkScene(10),this.boy.active=!0,this.boy.getComponent(h.default).setLoc(-100,330),d.default.getInstance().showStory(2030,function(){t.bus.x=-1200,t.bus.y=340,t.bus.scaleX=-1,t.bus.runAction(cc.sequence(cc.moveTo(2,950,t.bus.y),cc.delayTime(3),cc.callFunc(function(){t.boy.active=!1}),cc.delayTime(1),cc.moveTo(3,3500,t.bus.y),cc.delayTime(2),cc.callFunc(function(){t.bus.x=-1200,t.bus.y=340,t.runScene_11_1()})))})},e.prototype.runScene_11_1=function(){var t=this,e=cc.find("KindergartenScene/EvelatorReturn/Background2");this.boy.getComponent(h.default).setLoc(-100,30),this.checkScene(11),e.active=!0,this.boy.active=!0,this.boy.getComponent(h.default).walkTo(5,new cc.Vec2(400,230),function(){d.default.getInstance().showStory(2029,function(){t.runScene_11_2()})})},e.prototype.runScene_11_2=function(){var t=this;this.boy.active=!0,this.boy.getComponent(h.default).pushButton(function(){d.default.getInstance().showStory(2003,function(){t.boy.getComponent(h.default).walkTo(2,new cc.Vec2(950,t.boy.y),function(){cc.loader.loadRes("Images/dianti_open.png",cc.SpriteFrame,function(e,o){t.elevatorReturn.getComponent(cc.Sprite).spriteFrame=o,t.boyfanmian.setPosition(t.boy.getPosition()),t.boy.active=!1,t.boyfanmian.active=!0,t.boyfanmian.getComponent(h.default).walkTo(2,new cc.Vec2(t.boyfanmian.x,t.boyfanmian.y+100),function(){cc.loader.loadRes("Images/dianti_close.png",cc.SpriteFrame,function(e,o){t.boyfanmian.active=!1,t.elevatorReturn.getComponent(cc.Sprite).spriteFrame=o,t.runElevatorUp()})})})})})})},e.prototype.runElevatorUp=function(){var t=this;this.elevatorLayerNumberReturn.node.runAction(cc.sequence(cc.callFunc(function(){t.elevatorLayerNumberReturn.string="2"}),cc.delayTime(1),cc.callFunc(function(){t.elevatorLayerNumberReturn.string="3"}),cc.delayTime(1),cc.callFunc(function(){t.elevatorLayerNumberReturn.string="4"}),cc.delayTime(1),cc.callFunc(function(){t.elevatorLayerNumberReturn.string="5",cc.audioEngine.play(t.elevatorSound,!1,1)}),cc.delayTime(1),cc.callFunc(function(){t.runScene_12_1()})))},e.prototype.runScene_12_1=function(){var t=this;this.checkScene(12),cc.find("KindergartenScene/ReturnHome/Background1").active=!0,this.boy.getComponent(h.default).resetLoc(),this.boy.active=!0,d.default.getInstance().showStory(2028,function(){var e=a.default.getInstance().getStoryById(5);t.saveRecord(e,0),t.bgmShutdown(),cc.director.loadScene("HomeScene")})},e.prototype.check=function(t,e,o){var n=this;this.isCheck?null!=t?(cc.log("\u68c0\u6d4b\uff1a",t.m_CheckType,t.m_Target,t.m_CheckTargetId),u.default.checkResult(t.m_CheckType,t.m_CheckTargetId,function(){n.tipPanel.getComponent(s.default).unshow(),e()},function(){n.check(t,e,o)})):cc.log("tabAlgo \u672a\u627e\u5230!"):(this.tipPanel.getComponent(s.default).unshow(),e())},i([v(cc.Node)],e.prototype,"dataDisplayPanel",void 0),i([v([cc.Node])],e.prototype,"NPCNodes",void 0),i([v(cc.Node)],e.prototype,"tipsPanel",void 0),i([v(cc.Node)],e.prototype,"boy",void 0),i([v(cc.Node)],e.prototype,"boyfanmian",void 0),i([v(cc.Node)],e.prototype,"boyzhengmian",void 0),i([v(cc.Node)],e.prototype,"player",void 0),i([v(cc.Node)],e.prototype,"tipPanel",void 0),i([v(cc.Node)],e.prototype,"guard",void 0),i([v(cc.Node)],e.prototype,"teacher",void 0),i([v(cc.Node)],e.prototype,"signer",void 0),i([v(cc.AudioClip)],e.prototype,"bgm",void 0),i([v(cc.Node)],e.prototype,"choosePanel_1",void 0),i([v(cc.Node)],e.prototype,"choosePanel_4",void 0),i([v(cc.Node)],e.prototype,"choosePanel_6_1",void 0),i([v(cc.Node)],e.prototype,"choosePanel_6_2",void 0),i([v(cc.Node)],e.prototype,"choosePanel_8",void 0),i([v(cc.Node)],e.prototype,"lights",void 0),i([v(cc.Node)],e.prototype,"bus",void 0),i([v(cc.Node)],e.prototype,"ISContinue",void 0),i([v(cc.Node)],e.prototype,"scene1",void 0),i([v(cc.Node)],e.prototype,"scene2",void 0),i([v(cc.Node)],e.prototype,"scene3",void 0),i([v(cc.Node)],e.prototype,"scene4",void 0),i([v(cc.Node)],e.prototype,"scene5",void 0),i([v(cc.Node)],e.prototype,"scene6",void 0),i([v(cc.Node)],e.prototype,"scene7",void 0),i([v(cc.Node)],e.prototype,"scene8",void 0),i([v(cc.Node)],e.prototype,"scene9",void 0),i([v(cc.Node)],e.prototype,"scene10",void 0),i([v(cc.Node)],e.prototype,"scene11",void 0),i([v(cc.Node)],e.prototype,"scene12",void 0),i([v(cc.AudioClip)],e.prototype,"elevatorSound",void 0),i([v(cc.Label)],e.prototype,"elevatorLayerNumber",void 0),i([v(cc.Label)],e.prototype,"elevatorLayerNumberReturn",void 0),i([v(cc.Node)],e.prototype,"elevator",void 0),i([v(cc.Node)],e.prototype,"elevatorReturn",void 0),i([v(cc.Node)],e.prototype,"zhiwu",void 0),i([v(cc.Node)],e.prototype,"dama",void 0),i([v(cc.Node)],e.prototype,"xiaonvhai",void 0),i([v(cc.Node)],e.prototype,"xiaonanhai",void 0),i([v(cc.Node)],e.prototype,"laoyeyezuoxia",void 0),i([v(cc.Node)],e.prototype,"red",void 0),i([v(cc.Node)],e.prototype,"yellow",void 0),i([v(cc.Node)],e.prototype,"green",void 0),i([S],e)}(l.default);o.default=b,cc._RF.pop()},{"../KS/KS_ChoosePanel":"KS_ChoosePanel","../NetUtils/CheckSystem":"CheckSystem","../NetUtils/GameProgress":"GameProgress","../Object/BaseObject":"BaseObject","../Object/NPC":"NPC","../Object/Xiaoming":"Xiaoming","../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","../Utils/Story":"Story","./KS_Player":"KS_Player","./KS_TipsPanel":"KS_TipsPanel"}],Laoyeye:[function(t,e,o){"use strict";cc._RF.push(e,"5f0fc3B2GNOg44qcV8oXcpS","Laoyeye");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),a=t("./BaseObject"),s=t("../Utils/CommonUtils"),l=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.update=function(){},e.prototype.turnOnHands=function(t){var e=this;this.node.runAction(cc.sequence(cc.callFunc(function(){e.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1)}),cc.delayTime(1),cc.callFunc(function(){e.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof t&&t()})))},e.prototype.walkTo=function(t,e,o){var n=this;console.log("\u5c0f\u718a\u8d70\u5411\uff1a"+e.x+", "+e.y),s.CommonUtils.comprareTo(this.node.x,e.x)!=s.ConstDefine.EQUAL||s.CommonUtils.comprareTo(this.node.y,e.y)!=s.ConstDefine.EQUAL||"function"!=typeof o?(this.node.x<e.x?(this.node.scaleX=1,this.wordPanel.scaleX=-1,this.word.node.scaleX=1,this.wordPanel.setPosition(-290,340)):(this.node.scaleX=-1,this.wordPanel.scaleX=1,this.word.node.scaleX=-1,this.wordPanel.setPosition(290,340)),this.node.runAction(cc.sequence(cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(t,e),cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0)}),cc.delayTime(.3),cc.callFunc(function(){"function"==typeof o&&o()})))):o()},e.prototype.idle=function(t){this.node.stopAllActions(),this.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof t&&t()},e.prototype.seatdown=function(t){this.node.stopAllActions(),this.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("seatdown",1),"function"==typeof t&&t()},e.prototype.distalk=function(){this.wordPanel.active=!1,this.word.string=""},e.prototype.talk=function(t,e){if(void 0===e&&(e=null),console.log("talk ID:"+t),t==s.ConstDefine.SAY_NOTING_ID)return this.wordPanel.active=!1,this.word.string="",void("function"==typeof e&&e());var o=r.default.getInstance().getStoryById(t);null!=o&&(this.wordPanel.active=!0,this.word.string=o.m_Word);var n=cc.find("PlaySound").getComponent(l.default).playSound(o.m_ID);this.scheduleOnce(function(){"function"==typeof e&&e()},n)},e.prototype.walk=function(t,e,o){var n=this;this.node.runAction(cc.sequence(cc.callFunc(function(){n.node.x<=t?(n.node.scaleX=-1,n.wordPanel.scaleX=1,n.word.node.scaleX=-1):(n.node.scaleX=1,n.wordPanel.scaleX=-1,n.word.node.scaleX=1),n.node.stopAllActions(),n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(o,new cc.Vec2(t,e)),cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0)})))},e.prototype.turnFace=function(){this.node.scaleX*=-1},e.prototype.setLoc=function(t,e){this.node.x=t,this.node.y=e},e.prototype.resetLoc=function(){this.node.x=-100,this.node.y=0},e.prototype.pushButton=function(){this.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1)},e.prototype.sleep=function(){console.log("\u7761\u89c9")},e.prototype.sing=function(){console.log("\u5531\u6b4c")},e.prototype.sitdown=function(){console.log("\u5750\u4e0b")},e.prototype.drinkWater=function(){console.log("\u559d\u6c34")},e.prototype.waveHand=function(){console.log("\u6325\u624b")},e.prototype.handShake=function(){console.log("\u5c0f\u670b\u53cb\u63e1\u624b\u3002")},e.prototype.eating=function(){console.log("\u64ad\u653e\u5403\u996d\u52a8\u753b\uff0c\u6301\u7eed3s\u3002")},e.prototype.embrace=function(){console.log("\u5c0f\u670b\u53cb\u62e5\u62b1\u3002")},e.prototype.nod=function(){console.log("\u5c0f\u670b\u53cb\u70b9\u5934\u3002")},e.prototype.getAlgorithmDetectionResult=function(t,e){for(var o=null,n=r.default.getInstance().getAlgorithmDetectionCount(),c=0;c<n;c++){var i=r.default.getInstance().getAlgorithmDetection(c);if(i.m_CheckType==t&&i.m_StatusId==e){o=i;break}}return o},i([f(cc.Node)],e.prototype,"wordPanel",void 0),i([f(cc.Label)],e.prototype,"word",void 0),i([p],e)}(a.default);o.default=d,cc._RF.pop()},{"../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],NPC:[function(t,e,o){"use strict";cc._RF.push(e,"a04ddX4KINFV6x7uC/DyOsW","NPC");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),a=t("./BaseObject"),s=t("../Utils/CommonUtils"),l=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e.toward=!0,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.update=function(){},e.prototype.turnOnHands=function(t){var e=this;this.node.runAction(cc.sequence(cc.callFunc(function(){var o=e.node.getComponent(dragonBones.ArmatureDisplay);null!=o&&null!=o?o.playAnimation("atc",1):"function"==typeof t&&t()}),cc.delayTime(1),cc.callFunc(function(){var o=e.node.getComponent(dragonBones.ArmatureDisplay);null!=o&&null!=o?(o.playAnimation("stand",0),"function"==typeof t&&t()):"function"==typeof t&&t()})))},e.prototype.walkTo=function(t,e,o){var n=this;console.log("\u5c0f\u718a\u8d70\u5411\uff1a"+e.x+", "+e.y),s.CommonUtils.comprareTo(this.node.x,e.x)!=s.ConstDefine.EQUAL||s.CommonUtils.comprareTo(this.node.y,e.y)!=s.ConstDefine.EQUAL||"function"!=typeof o?(this.toward?this.node.x<e.x?(this.node.scaleX=1,this.wordPanel.scaleX=1,this.word.node.scaleX=1):(this.node.scaleX=-1,this.wordPanel.scaleX=1,this.word.node.scaleX=-1):this.node.x<e.x?(this.node.scaleX=-1,this.wordPanel.scaleX=1,this.word.node.scaleX=-1):(this.node.scaleX=1,this.wordPanel.scaleX=1,this.word.node.scaleX=1),this.node.runAction(cc.sequence(cc.callFunc(function(){var t=n.node.getComponent(dragonBones.ArmatureDisplay);null!=t&&null!=t?t.playAnimation("walk",0):"function"==typeof o&&o()}),cc.moveTo(t,e),cc.callFunc(function(){var t=n.node.getComponent(dragonBones.ArmatureDisplay);null!=t&&null!=t?t.playAnimation("stand",0):"function"==typeof o&&o()}),cc.delayTime(.3),cc.callFunc(function(){"function"==typeof o&&o()})))):o()},e.prototype.idle=function(t){this.node.stopAllActions();var e=this.node.getComponent(dragonBones.ArmatureDisplay);null!=e&&null!=e?(e.playAnimation("stand",0),"function"==typeof t&&t()):"function"==typeof t&&t()},e.prototype.sayHello=function(t){this.node.stopAllActions();var e=this.node.getComponent(dragonBones.ArmatureDisplay);null!=e&&null!=e?(e.playAnimation("sayhello",1),"function"==typeof t&&t()):"function"==typeof t&&t()},e.prototype.seatdown=function(t){this.node.stopAllActions();var e=this.node.getComponent(dragonBones.ArmatureDisplay);null!=e&&null!=e?(e.playAnimation("seatdown",1),"function"==typeof t&&t()):"function"==typeof t&&t()},e.prototype.distalk=function(){this.wordPanel.active=!1,this.word.string=""},e.prototype.talk=function(t,e){if(void 0===e&&(e=null),console.log("talk ID:"+t),t==s.ConstDefine.SAY_NOTING_ID)return this.wordPanel.active=!1,this.word.string="",void("function"==typeof e&&e());var o=r.default.getInstance().getStoryById(t);null!=o&&(this.wordPanel.active=!0,this.word.string=o.m_Word);var n=cc.find("PlaySound").getComponent(l.default).playSound(o.m_ID);this.scheduleOnce(function(){"function"==typeof e&&e()},n)},e.prototype.walk=function(t,e,o){var n=this;this.node.runAction(cc.sequence(cc.callFunc(function(){n.node.x<=t?(n.node.scaleX=-1,n.wordPanel.scaleX=1,n.word.node.scaleX=1):(n.node.scaleX=1,n.wordPanel.scaleX=1,n.word.node.scaleX=-1),n.node.stopAllActions(),n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(o,new cc.Vec2(t,e)),cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0)})))},e.prototype.turnFace=function(){this.node.scaleX*=-1},e.prototype.setLoc=function(t,e){this.node.x=t,this.node.y=e},e.prototype.resetLoc=function(){this.node.x=-100,this.node.y=0},e.prototype.pushButton=function(t){var e=this.node.getComponent(dragonBones.ArmatureDisplay);null!=e&&null!=e?(e.playAnimation("atc",1),"function"==typeof t&&t()):"function"==typeof t&&t()},e.prototype.sleep=function(t){console.log("\u7761\u89c9"),"function"==typeof t&&t()},e.prototype.sing=function(t){console.log("\u5531\u6b4c"),"function"==typeof t&&t()},e.prototype.sitdown=function(t){console.log("\u5750\u4e0b"),"function"==typeof t&&t()},e.prototype.drinkWater=function(t){console.log("\u559d\u6c34"),"function"==typeof t&&t()},e.prototype.waveHand=function(t){console.log("\u6325\u624b"),"function"==typeof t&&t()},e.prototype.handShake=function(t){console.log("\u5c0f\u670b\u53cb\u63e1\u624b\u3002"),"function"==typeof t&&t()},e.prototype.eating=function(t){console.log("\u64ad\u653e\u5403\u996d\u52a8\u753b\uff0c\u6301\u7eed3s\u3002"),"function"==typeof t&&t()},e.prototype.embrace=function(t){console.log("\u5c0f\u670b\u53cb\u62e5\u62b1\u3002"),"function"==typeof t&&t()},e.prototype.nod=function(t){console.log("\u5c0f\u670b\u53cb\u70b9\u5934\u3002"),"function"==typeof t&&t()},e.prototype.getAlgorithmDetectionResult=function(t,e){for(var o=null,n=r.default.getInstance().getAlgorithmDetectionCount(),c=0;c<n;c++){var i=r.default.getInstance().getAlgorithmDetection(c);if(i.m_CheckType==t&&i.m_StatusId==e){o=i;break}}return o},i([f(cc.Node)],e.prototype,"wordPanel",void 0),i([f(cc.Label)],e.prototype,"word",void 0),i([f],e.prototype,"toward",void 0),i([p],e)}(a.default);o.default=d,cc._RF.pop()},{"../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],NetUtils:[function(t,e,o){"use strict";cc._RF.push(e,"1983dYJBONFko9/T7flY0gW","NetUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Utils/CommonUtils"),c=function(){function t(){}return t.requestOnGet=function(t,e,o){var c=n.ConstDefine.SERVER_IP+n.ConstDefine.LOGIN_SERVER_LET+"?"+t,i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&i.status>=200&&i.status<400){var t=i.responseText;console.log(t);var n=JSON.parse(t);1==n.state||"true"==n.state?"function"==typeof e&&e(n):"function"==typeof o&&o(n)}},i.open("GET",c,!0),i.send()},t.requestOnGetWithServerlet=function(t,e,o,c){var i=n.ConstDefine.SERVER_IP+"/"+t,r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState&&r.status>=200&&r.status<400){var t=r.responseText,e=JSON.parse(t);1==e.state||"true"==e.state?"function"==typeof o&&o(e):"function"==typeof c&&c(e)}else console.error("\u3010\u8bf7\u6c42\u8111\u7535\u6570\u636e\u3011\u5931\u8d25\uff01")},r.open("GET",i,!0),r.send()},t.requestOnPost=function(t,e,o){var c=n.ConstDefine.SERVER_IP+":"+n.ConstDefine.SERVER_PORT+"/"+n.ConstDefine.LOGIN_SERVER_LET,i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&i.status>=200&&i.status<400){var t=i.responseText,n=JSON.parse(t);1==n.state||"true"==n.state?"function"==typeof e&&e(n):"function"==typeof o&&o(n)}},i.open("POST",c,!0),i.setRequestHeader("content-type","application/json"),t.userName=n.ConstDefine.USER_NAME,t.password=n.ConstDefine.PASSWORD,i.send(JSON.stringify(t))},t.INVALIDE_MESSAGE_ID=-1,t.CS_MESSAGE_REGISTER=1,t.CS_MESSAGE_LOGIN=3,t.CS_MESSAGE_CHECK=5,t.CS_MESSAGE_SAVE_SCORE=7,t.CS_MESSAGE_QUERY_SCORE=9,t.CS_MESSAGE_SAVE_PROGRESS=11,t.CS_MESSAGE_QUERY_PROGRESS=13,t.SC_MESSAGE_REGISTER=2,t.SC_MESSAGE_LOGIN=4,t.SC_MESSAGE_CHECK=6,t.SC_MESSAGE_SAVE_SCORE=8,t.SC_MESSAGE_QUERY_SCORE=10,t.SC_MESSAGE_SAVE_PROGRESS=12,t.SC_MESSAGE_QUERY_PROGRESS=14,t}();o.default=c,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],OldMan:[function(t,e,o){"use strict";cc._RF.push(e,"9f546UfMopLqJ47mC5j0HDq","OldMan");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BaseObject"),a=t("../Utils/CommonUtils"),s=t("../Tables/TableSystem"),l=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.walkTo=function(t,e,o){var n=this;console.log("\u8001\u4eba\u8d70\u5411\uff1a"+e.x+", "+e.y),a.CommonUtils.comprareTo(this.node.x,e.x)!=a.ConstDefine.EQUAL||a.CommonUtils.comprareTo(this.node.y,e.y)!=a.ConstDefine.EQUAL||"function"!=typeof o?(this.node.x<e.x?(this.node.scaleX=-1,this.wordPanel.scaleX=-1,this.wordPanel.setPosition(-290,340)):(this.node.scaleX=1,this.wordPanel.scaleX=1,this.wordPanel.setPosition(290,340)),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(t,e),cc.callFunc(function(){"function"==typeof o&&o()})))):o()},e.prototype.idle=function(t){this.node.stopAllActions(),"function"==typeof t&&t()},e.prototype.talk=function(t,e){if(void 0===e&&(e=null),console.log("\u3010\u8001\u4eba\u8bf4\u3011talk ID:"+t),t==a.ConstDefine.SAY_NOTING_ID)return this.wordPanel.active=!1,this.word.string="",void("function"==typeof e&&e());var o=s.default.getInstance().getStoryById(t);null!=o&&(this.wordPanel.active=!0,this.word.string=o.m_Word);var n=cc.find("PlaySound").getComponent(l.default).playSound(o.m_ID);this.scheduleOnce(function(){"function"==typeof e&&e()},n)},e.prototype.getAlgorithmDetectionResult=function(t,e){for(var o=null,n=s.default.getInstance().getAlgorithmDetectionCount(),c=0;c<n;c++){var i=s.default.getInstance().getAlgorithmDetection(c);if(i.m_CheckType==t&&i.m_StatusId==e){o=i;break}}return o},i([f(cc.Node)],e.prototype,"wordPanel",void 0),i([f(cc.Label)],e.prototype,"word",void 0),i([p],e)}(r.default);o.default=d,cc._RF.pop()},{"../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],ParkScene:[function(t,e,o){"use strict";cc._RF.push(e,"ca7f59Z8fpPsIK+48d/Rd4C","ParkScene");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),a=t("../Utils/Story"),s=t("../Object/Bear"),l=t("../Utils/CommonUtils"),u=t("../Prefabs/TipsPanel"),p=t("../Prefabs/PlaySound"),f=cc._decorator,d=f.ccclass,y=f.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bear=null,e.NPCNodes=[],e.tipsPanel=null,e.homeRoot=null,e.elevatorRoot=null,e.roadRoot=null,e.busStopRoot=null,e.busStopEnterBus=null,e.innerBusRoot=null,e.parkRoot=null,e.supermarketRoot=null,e.supermarketDoor=null,e.underFloorRoot=null,e.innerHomeRoot=null,e.shareSeatTips=null,e.chooseActivty=null,e.seller=null,e.oldMan=null,e.bus=null,e.playSound=null,e.redLight_1=null,e.redLight_2=null,e.yellowLight_1=null,e.yellowLight_2=null,e.greenLight_1=null,e.greenLight_2=null,e.RED_LIGHT=0,e.YELLOW_LIGHT=1,e.GREEN_LIGHT=2,e.return_type=0,e}return c(e,t),e.prototype.start=function(){var t=this;r.default.getInstance(),this.scheduleOnce(function(){t.playSound=cc.find("PlaySound"),t.playSound.getComponent(p.default).initSoundRes(),a.default.getInstance().initScene(t,t.NPCNodes,t.tipsPanel,t.playSound),t.runHomeLogic()},.1)},e.prototype.resetScene=function(){this.homeRoot.active=!1,this.elevatorRoot.active=!1,this.roadRoot.active=!1,this.busStopRoot.active=!1,this.innerBusRoot.active=!1,this.supermarketRoot.active=!1,this.underFloorRoot.active=!1,this.innerHomeRoot.active=!1},e.prototype.runHomeLogic=function(){var t=this;this.resetScene(),this.homeRoot.active=!0,a.default.getInstance().showStory(3e3,function(){t.runElevatorLogic()})},e.prototype.runElevatorLogic=function(){var t=this;this.resetScene(),this.elevatorRoot.active=!0,this.bear.setPosition(-200,30),this.scheduleOnce(function(){a.default.getInstance().showStory(1002,function(){t.bear.getComponent(s.default).turnOnHands(function(){a.default.getInstance().showStory(1003,function(){t.runRoadLogic()})})})},1)},e.prototype.test_floor_1=function(){var t=this;this.tipsPanel.getComponent(u.default).hideTips(function(){a.default.getInstance().showStory(1003,function(){t.bear.getComponent(s.default).turnOnHands(function(){t.runRoadLogic()})})})},e.prototype.test_floor_5=function(){},e.prototype.runRoadLogic=function(){this.resetScene(),this.bear.getComponent(s.default).distalk(),this.bear.setPosition(-200,30);var t=l.CommonUtils.getRandomRange(0,2);this.showLightLogic(t)},e.prototype.showLightLogic=function(t){var e=this;this.redLight_1.active=!1,this.redLight_2.active=!1,this.yellowLight_1.active=!1,this.yellowLight_2.active=!1,this.greenLight_1.active=!1,this.greenLight_2.active=!1,this.roadRoot.active=!0,this.tipsPanel.getComponent(u.default).flipXLocation(),this.scheduleOnce(function(){switch(t){case e.RED_LIGHT:e.redLight_1.active=!0,e.redLight_2.active=!0;break;case e.YELLOW_LIGHT:e.yellowLight_1.active=!0,e.yellowLight_2.active=!0;break;case e.GREEN_LIGHT:e.greenLight_1.active=!0,e.greenLight_2.active=!0}e.runCrossRoad(t)},2)},e.prototype.runCrossRoad=function(t){var e=this;a.default.getInstance().showStory(t+1005,function(){e.tipsPanel.getComponent(u.default).resumeXLocation(),t!=e.GREEN_LIGHT?e.showLightLogic(e.GREEN_LIGHT):(e.bear.stopAllActions(),e.bear.getComponent(s.default).walkTo(6,new cc.Vec2(2500,80),function(){e.runBusStopLogic()}))})},e.prototype.test_light=function(t,e){e==this.RED_LIGHT?this.showLightLogic(this.GREEN_LIGHT):e==this.YELLOW_LIGHT?this.showLightLogic(this.GREEN_LIGHT):e==this.GREEN_LIGHT&&a.default.getInstance().setCurrentStoryState(l.ConstDefine.AFTER_STORY_FINISH_TIPS)},e.prototype.runBusStopLogic=function(){var t=this;this.resetScene(),this.busStopRoot.active=!0,this.busStopEnterBus.active=!1,this.bear.getComponent(s.default).distalk(),this.bear.setPosition(-200,230),this.bus.setPosition(3500,350),a.default.getInstance().showStory(1009,function(){t.bus.runAction(cc.sequence(cc.moveTo(5,new cc.Vec2(1100,350)),cc.delayTime(1),cc.callFunc(function(){t.bear.setPosition(-200,-300),t.bus.setPosition(3500,350),t.busStopEnterBus.active=!0,a.default.getInstance().showStory(1012,function(){})})))})},e.prototype.test_enter_bus=function(){this.runInnerBusLogic()},e.prototype.runInnerBusLogic=function(){var t=this;this.resetScene(),console.log("\u3010\u8fdb\u5165\u516c\u4ea4\u8f66\u573a\u666f\u3011"),this.bear.getComponent(s.default).distalk(),this.innerBusRoot.active=!0,this.bear.setPosition(200,100),this.bear.stopAllActions(),a.default.getInstance().showStory(1013,function(){t.bear.runAction(cc.sequence(cc.moveTo(2,new cc.Vec2(1e3,300)),cc.delayTime(5),cc.callFunc(function(){t.bear.getComponent(s.default).distalk(),t.runGetParkLogic()})))})},e.prototype.runGetParkLogic=function(){var t=this;this.bear.getComponent(s.default).walkTo(1,new cc.Vec2(1e3,100),function(){t.bear.scaleX=-1,a.default.getInstance().showStory(1019,function(){t.oldMan.scaleX=-1,t.bear.getComponent(s.default).walkTo(2,new cc.Vec2(300,100),function(){t.runEnterParkLogic()})})})},e.prototype.runOldManLogic=function(){var t=this;this.oldMan.scaleX=1,this.oldMan.setPosition(2100,300),this.oldMan.runAction(cc.sequence(cc.moveTo(2,new cc.Vec2(1700,300)),cc.callFunc(function(){t.shareSeatTips.runAction(cc.moveTo(.5,new cc.Vec2(960,640)))})))},e.prototype.test_seatdown=function(){a.default.getInstance().setCurrentStoryState(l.ConstDefine.AFTER_STORY_FINISH_TIPS)},e.prototype.onShareSeat=function(){var t=this;this.shareSeatTips.runAction(cc.moveTo(.5,new cc.Vec2(960,1600))),this.bear.getComponent(s.default).walkTo(1,new cc.Vec2(1e3,100),function(){t.bear.scaleX=-1,a.default.getInstance().showStory(1016,function(){t.oldMan.scaleX=-1,t.bear.getComponent(s.default).walkTo(2,new cc.Vec2(300,100),function(){t.runEnterParkLogic()})})})},e.prototype.runEnterParkLogic=function(){var t=this;this.resetScene(),this.parkRoot.active=!0,this.bear.active=!1,this.bear.setPosition(-200,130),this.bear.active=!0,this.bear.getComponent(s.default).walkTo(1,new cc.Vec2(300,130),function(){t.chooseActivty.runAction(cc.moveTo(1,new cc.Vec2(960,540)))})},e.prototype.onClickChooseActivity=function(t,e){var o=this;this.return_type=e,this.chooseActivty.runAction(cc.sequence(cc.moveTo(1,new cc.Vec2(960,1600)),cc.callFunc(function(){1==e?o.runPlayHappyLogic():2==e?o.runWashRoomLogic():3==e&&o.runGrassLogic()})))},e.prototype.runPlayHappyLogic=function(){console.log("\u5728\u6e38\u4e50\u573a\u6e38\u73a9")},e.prototype.runWashRoomLogic=function(){console.log("\u53bb\u6d17\u624b\u95f4")},e.prototype.runGrassLogic=function(){console.log("\u5728\u8349\u576a\u91ce\u9910")},e.prototype.onClickCloseChoosePanel=function(){this.chooseActivty.runAction(cc.moveTo(1,new cc.Vec2(960,1600)))},e.prototype.onClickReturn=function(){var t=this;0!=this.return_type?(this.return_type=0,this.chooseActivty.runAction(cc.moveTo(1,new cc.Vec2(960,540)))):this.bear.getComponent(s.default).talk(3002,function(){t.runLeaveParkLogic()})},e.prototype.runLeaveParkLogic=function(){this.resetScene(),this.runGoHomeLogic()},e.prototype.test_buy_goods=function(){a.default.getInstance().setCurrentStoryState(l.ConstDefine.AFTER_STORY_FINISH_TIPS)},e.prototype.runGoHomeLogic=function(){var t=this;this.bear.active=!1,this.supermarketDoor.active=!0,this.bear.getComponent(s.default).distalk(),this.bear.setPosition(600,80),this.bear.active=!0,this.seller.active=!1,this.bus.setPosition(-1e3,350),this.bus.active=!0,this.bus.scaleX=-1,this.bus.runAction(cc.sequence(cc.moveTo(5,new cc.Vec2(1200,350)),cc.callFunc(function(){t.bear.setPosition(-200,100)}),cc.delayTime(1),cc.moveTo(5,new cc.Vec2(3500,350)),cc.callFunc(function(){t.bus.setPosition(3500,350),t.runMoveToHomeLogic()})))},e.prototype.runMoveToHomeLogic=function(){var t=this;this.resetScene(),this.underFloorRoot.active=!0,this.bear.setPosition(-200,100),this.bear.active=!0,a.default.getInstance().showStory(1026,function(){t.bear.getComponent(s.default).walkTo(2,new cc.Vec2(1500,300),function(){t.bear.active=!1,t.runInnerHomeLogic()})})},e.prototype.runInnerHomeLogic=function(){this.resetScene(),this.bear.setPosition(2200,300),this.bear.active=!0,this.innerHomeRoot.active=!0,a.default.getInstance().showStory(1027,function(){cc.director.loadScene("HomeScene")})},i([y(cc.Node)],e.prototype,"bear",void 0),i([y([cc.Node])],e.prototype,"NPCNodes",void 0),i([y(cc.Node)],e.prototype,"tipsPanel",void 0),i([y(cc.Node)],e.prototype,"homeRoot",void 0),i([y(cc.Node)],e.prototype,"elevatorRoot",void 0),i([y(cc.Node)],e.prototype,"roadRoot",void 0),i([y(cc.Node)],e.prototype,"busStopRoot",void 0),i([y(cc.Node)],e.prototype,"busStopEnterBus",void 0),i([y(cc.Node)],e.prototype,"innerBusRoot",void 0),i([y(cc.Node)],e.prototype,"parkRoot",void 0),i([y(cc.Node)],e.prototype,"supermarketRoot",void 0),i([y(cc.Node)],e.prototype,"supermarketDoor",void 0),i([y(cc.Node)],e.prototype,"underFloorRoot",void 0),i([y(cc.Node)],e.prototype,"innerHomeRoot",void 0),i([y(cc.Node)],e.prototype,"shareSeatTips",void 0),i([y(cc.Node)],e.prototype,"chooseActivty",void 0),i([y(cc.Node)],e.prototype,"seller",void 0),i([y(cc.Node)],e.prototype,"oldMan",void 0),i([y(cc.Node)],e.prototype,"bus",void 0),i([y(cc.Node)],e.prototype,"playSound",void 0),i([y(cc.Node)],e.prototype,"redLight_1",void 0),i([y(cc.Node)],e.prototype,"redLight_2",void 0),i([y(cc.Node)],e.prototype,"yellowLight_1",void 0),i([y(cc.Node)],e.prototype,"yellowLight_2",void 0),i([y(cc.Node)],e.prototype,"greenLight_1",void 0),i([y(cc.Node)],e.prototype,"greenLight_2",void 0),i([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Object/Bear":"Bear","../Prefabs/PlaySound":"PlaySound","../Prefabs/TipsPanel":"TipsPanel","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","../Utils/Story":"Story"}],PlaySound:[function(t,e,o){"use strict";cc._RF.push(e,"e78d3LhFjBEfJ85TXyC8pbV","PlaySound");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),a=cc._decorator,s=a.ccclass,l=(a.property,function(){function t(){this.clip=null}return t.prototype.init=function(t){this.talkID=t.talkID,this.clip=t.clip},t}()),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundRes=[],e}return c(e,t),e.prototype.start=function(){},e.prototype.initSoundRes=function(){var t=r.default.getInstance().getStoryCount();console.log(t);for(var e=0;e<t;e++){var o=r.default.getInstance().getStory(e);"NULL"!=o.m_SoundPath&&this.loadSound(o)}},e.prototype.playSound=function(t){for(var e=null,o=0;o<this.soundRes.length;++o)if(t==this.soundRes[o].talkID){e=this.soundRes[o].clip;break}if(null==e){console.error("PlaySound::storyID NO FOUND, storyID: ",t);var n=r.default.getInstance().getStoryById(t);return null==n?(console.error("PlaySound::storyID ERROR ID: ",t),0):n.m_Time}return cc.audioEngine.play(e,!1,1),console.log("PlaySound::storyID ",t,"Duration:",e.duration),e.duration},e.prototype.getSoundResDuration=function(t){for(var e=null,o=0;o<this.soundRes.length;++o)if(t==this.soundRes[o].talkID){e=this.soundRes[o].clip;break}if(null==e){console.error("PlaySound::NO FOUND, storyID: ",t);var n=r.default.getInstance().getStoryById(t);return null==n?(console.error("PlaySound::storyID ERROR ID: ",t),0):n.m_Time}return console.log("PlaySound::FOUND, SoundRes Duration: ",e.duration),e.duration},e.prototype.loadSound=function(t){var e=this;cc.resources.load(t.m_SoundPath,cc.AudioClip,null,function(o,n){if(o)console.log("PlaySound::loadSound error | error message: "+o.message);else{console.log("PlaySound::loadSound ",t.m_SoundPath);var c=new l;c.init({talkID:t.m_ID,clip:n}),e.soundRes.push(c)}})},i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Tables/TableSystem":"TableSystem"}],Seller:[function(t,e,o){"use strict";cc._RF.push(e,"88289veuIFNrI/WswYbecSc","Seller");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BaseObject"),a=t("../Utils/CommonUtils"),s=t("../Tables/TableSystem"),l=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.idle=function(t){this.node.stopAllActions(),"function"==typeof t&&t()},e.prototype.talk=function(t,e){if(void 0===e&&(e=null),console.log("\u3010\u552e\u8d27\u5458\u8bf4\u3011talk ID:"+t),t==a.ConstDefine.SAY_NOTING_ID)return this.wordPanel.active=!1,this.word.string="",void("function"==typeof e&&e());var o=s.default.getInstance().getStoryById(t);null!=o&&(this.wordPanel.active=!0,this.word.string=o.m_Word);var n=cc.find("PlaySound").getComponent(l.default).playSound(o.m_ID);this.scheduleOnce(function(){"function"==typeof e&&e()},n)},e.prototype.getAlgorithmDetectionResult=function(t,e){for(var o=null,n=s.default.getInstance().getAlgorithmDetectionCount(),c=0;c<n;c++){var i=s.default.getInstance().getAlgorithmDetection(c);if(i.m_CheckType==t&&i.m_StatusId==e){o=i;break}}return o},i([f(cc.Node)],e.prototype,"wordPanel",void 0),i([f(cc.Label)],e.prototype,"word",void 0),i([p],e)}(r.default);o.default=d,cc._RF.pop()},{"../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],Story:[function(t,e,o){"use strict";cc._RF.push(e,"a6be71iH9hP46XdP7DovUf2","Story"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Tables/TableSystem"),c=t("../Object/BaseObject"),i=t("./CommonUtils"),r=t("../NetUtils/CheckSystem"),a=t("../NetUtils/GameProgress"),s=t("../Prefabs/PlaySound"),l=t("../Prefabs/TipsPanel"),u=function(){function t(){this.__scene=null,this.__currentStoryId=1,this.__currentNpc=null,this.__storyStatus=i.ConstDefine.BEFORE_STORY_SHOW_NPC,this.__ccNodesInScene=[],this.__tipsPanel=null,this.__playSound=null,this.__storyIsRunning=!1,this.__finishStoryCallback=null}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.initScene=function(t,e,o,n){this.__scene=t,this.__playSound=n,this.__ccNodesInScene=e,this.__tipsPanel=o,this.__playSound.getComponent(s.default).initSoundRes()},t.prototype.pause=function(){this.changeStoryRunnigStatus()},t.prototype.resume=function(){this.changeStoryRunnigStatus()},t.prototype.changeStoryRunnigStatus=function(){null!=this.__scene&&(this.__storyIsRunning=!this.__storyIsRunning)},t.prototype.getCurrentScene=function(){return this.__scene},t.prototype.getCurrentStoryId=function(){return this.__currentStoryId},t.prototype.setCurrentStoryId=function(t){this.__currentStoryId=t},t.prototype.getCurrentStoryState=function(){return this.__storyStatus},t.prototype.setCurrentStoryState=function(t){this.__storyStatus=t},t.prototype.getCurrentNpc=function(){return this.__currentNpc},t.prototype.setCurrentNpc=function(t){this.__currentNpc=t},t.prototype.getTipPanel=function(){return this.__tipsPanel},t.prototype.setTipPanel=function(t){this.__tipsPanel=t},t.prototype.getPlaySound=function(){return this.__playSound},t.prototype.setPlaySound=function(t){this.__playSound=t},t.prototype.getAllNodes=function(){return this.__ccNodesInScene},t.prototype.setRunningStatus=function(t){this.__storyIsRunning=t},t.prototype.getRunningStatus=function(){return this.__storyIsRunning},t.prototype.beforeShowStory_showNpc=function(e){if(t.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==i.ConstDefine.BEFORE_STORY_SHOW_NPC)if(t.getInstance().getAllNodes().forEach(function(o){o.getComponent(c.default).object_id==e.m_TalkerID&&t.getInstance().setCurrentNpc(o)}),null!=t.getInstance().getCurrentNpc()){console.log("\u5f53\u524d\u573a\u666f\u5185\u3010"+e.m_TalkerID+"\u3011\u7684\u89d2\u8272\u8282\u70b9 : "+this.__currentNpc.name),console.log("StartLocation : "+e.m_TalkerLocation);var o=e.m_TalkerLocation.split("|");if(o.length<2)console.error("\u5f53\u524d\u5267\u60c5\u3010"+e.m_TalkerID+"\u3011\u914d\u7f6e\u76ee\u6807\u89d2\u8272\u5750\u6807\u70b9\u9519\u8bef\uff01");else{var n=new cc.Vec2(o[0],o[1]);console.log("1 NPC\u89d2\u8272\u9996\u5148\u79fb\u52a8\u5230\u76ee\u6807\u70b9 "+n.x+", "+n.y),t.getInstance().setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_NPC_FINISH),e.m_IsCallBack?t.getInstance().getCurrentNpc().getComponent(c.default).moveTo(.5,n,function(){t.getInstance().getCurrentNpc().getComponent(c.default).show(t.getInstance().getCurrentStoryId(),function(){t.getInstance().setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_TIPS)})}):t.getInstance().getCurrentNpc().getComponent(c.default).walkTo(e.m_MoveTime,n,function(){t.getInstance().getCurrentNpc().getComponent(c.default).talk(t.getInstance().getCurrentStoryId(),function(){t.getInstance().getCurrentNpc().getComponent(c.default).idle(function(){t.getInstance().setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_TIPS)})})})}}else console.error("\u5f53\u524d\u573a\u666f\u5185\u6ca1\u6709ID\u4e3a\u3010"+e.m_TalkerID+"\u3011\u7684\u89d2\u8272\u8282\u70b9\uff01")},t.prototype.beforeShowStory_showTips=function(e){if(t.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==i.ConstDefine.BEFORE_STORY_SHOW_TIPS&&null!=t.getInstance().getTipPanel())if("0"!=e.m_CheckType){console.log("2 \u5f39\u51fa\u9762\u677f\u663e\u793a\u4fe1\u606f"),console.log("\u3010\u5f53\u524d\u5267\u60c5\u8bed\u97f3\u3011m_CheckType \uff1a "+e.m_CheckType+", m_CheckTargetId:"+e.m_CheckTargetId);var o=t.getInstance().getTipPanel().getComponent(l.default).chooseSound(e.m_CheckType,e.m_CheckTargetId);null!=o?cc.audioEngine.play(o,!1,1):cc.log("sound is NULL!!!"),e.m_CheckType,e.m_CheckTargetId,t.getInstance().setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_TIPS_FINISH),this.__tipsPanel.getComponent(l.default).showTips(e.m_Title,e.m_Target,function(){t.getInstance().setCurrentStoryState(i.ConstDefine.WAIT_STORY_CHECK_RESULT)})}else console.log("2 \u975e\u68c0\u6d4b\u5267\u60c5\uff0c\u65e0\u9700\u5f39\u51fa\u9762\u677f"),t.getInstance().setCurrentStoryState(i.ConstDefine.WAIT_STORY_CHECK_RESULT)},t.prototype.waitCheckStory=function(e){if(t.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==i.ConstDefine.WAIT_STORY_CHECK_RESULT)if("0"!=e.m_CheckType)console.log("3 \u6839\u636e\u914d\u7f6e\u68c0\u6d4b\u8bed\u97f3\u6216\u52a8\u4f5c"),r.default.checkResult(e.m_CheckType,e.m_CheckTargetId,function(o){if(e.m_CheckType==o.checkType&&e.m_CheckTargetId==o.result){t.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_TIPS);var n={scene:e.m_SceneID,story:e.m_ID};console.log("\u3010\u4fdd\u5b58\u5267\u60c5\u3011"+JSON.stringify(n)),a.default.saveProgress(JSON.stringify(n),function(){},function(){}),console.log("\u3010\u9a8c\u8bc1\u6210\u529f\u3011\u9a8c\u8bc1\u7c7b\u578b\uff1a"+e.m_CheckType+", \u9a8c\u8bc1\u76ee\u6807\uff1a"+e.m_Target)}else console.log("\u3010\u9a8c\u8bc1\u5931\u8d25\u3011\u9a8c\u8bc1\u7c7b\u578b\uff1a"+e.m_CheckType+", \u9a8c\u8bc1\u76ee\u6807\uff1a"+e.m_Target)},function(){});else{console.log("3 \u975e\u68c0\u6d4b\u5267\u60c5\uff0c\u65e0\u9700\u68c0\u6d4b\u5267\u60c5");var o={scene:e.m_SceneID,story:e.m_ID};console.log("3 \u975e\u68c0\u6d4b\u5267\u60c5\uff0c\u65e0\u9700\u68c0\u6d4b\u5267\u60c5 \u3010\u4fdd\u5b58\u8fdb\u5ea6\u3011"+JSON.stringify(o)),a.default.saveProgress(JSON.stringify(o),function(){},function(){}),t.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_TIPS)}},t.prototype.afterStory_finishTips=function(e){t.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==i.ConstDefine.AFTER_STORY_FINISH_TIPS&&null!=t.getInstance().getTipPanel()&&(t.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_TIPS_FINISH),"0"!=e.m_CheckType?(console.log("4 \u68c0\u6d4b\u5267\u60c5\uff0c\u7ed3\u675f\u5f39\u51fa\u9762\u677f"),this.__tipsPanel.getComponent(l.default).hideTips(function(){t.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_NPC)})):(console.log("4 \u975e\u68c0\u6d4b\u5267\u60c5\uff0c\u65e0\u9700\u5904\u7406\u5f39\u51fa\u9762\u677f"),t.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_NPC)))},t.prototype.afterStory_finishNpc=function(e){if(t.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==i.ConstDefine.AFTER_STORY_FINISH_NPC)if(null!=t.getInstance().getCurrentNpc()){if(console.log("FinishLocation : "+e.m_FinishLocation),e.m_FinishLocation==t.NO_ACTION)return e.m_IsCallBack||t.getInstance().getCurrentNpc().getComponent(c.default).distalk(),void t.getInstance().setCurrentStoryState(i.ConstDefine.FINISH_STORY);var o=e.m_FinishLocation.split("|");if(o.length<2)console.error("\u5f53\u524d\u5267\u60c5\u3010"+e.m_TalkerID+"\u3011\u914d\u7f6e\u76ee\u6807\u89d2\u8272\uff0c\u7ed3\u675f\u5267\u60c5\u65f6\u7684\u5750\u6807\u70b9\u9519\u8bef\uff01");else{var n=new cc.Vec2(o[0],o[1]);t.getInstance().setCurrentStoryState(i.ConstDefine.AFTER_STORY_FINISH_NPC_FINISH),e.m_IsCallBack?t.getInstance().setCurrentStoryState(i.ConstDefine.FINISH_STORY):(t.getInstance().getCurrentNpc().getComponent(c.default).distalk(),t.getInstance().getCurrentNpc().getComponent(c.default).talk(i.ConstDefine.SAY_NOTING_ID,function(){t.getInstance().getCurrentNpc().getComponent(c.default).walkTo(e.m_Time,n,function(){t.getInstance().setCurrentStoryState(i.ConstDefine.FINISH_STORY)})}))}}else console.error("\u5f53\u524d\u5267\u60c5\u7684\u89d2\u8272\u8282\u70b9\u4e3a\u7a7a\uff01")},t.prototype.finishCurrentStory=function(e){t.getInstance().getCurrentStoryId()!=i.ConstDefine.INVALIDE_VALUE&&t.getInstance().getCurrentStoryState()==i.ConstDefine.FINISH_STORY&&null!=e&&(t.getInstance().setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_NPC),t.getInstance().setCurrentNpc(null),t.getInstance().setCurrentStoryId(e.m_Next))},t.prototype.showStory=function(t,e){void 0===e&&(e=null),console.log("\u3010\u5c55\u793a\u5267\u60c5\u3011Id :"+t),this.__finishStoryCallback=e,null!=this.__scene?(null!=this.__scene&&(this.__scene.unschedule(this.runStoryLogic),this.setRunningStatus(!1)),this.setCurrentStoryId(t),this.setCurrentStoryState(i.ConstDefine.BEFORE_STORY_SHOW_NPC),this.__scene.schedule(this.runStoryLogic,.5,cc.macro.REPEAT_FOREVER,.1),this.setRunningStatus(!0)):console.log("\u8bf7\u5148\u521d\u59cb\u5316\u573a\u666f\u8282\u70b9\uff01")},t.prototype.runStoryLogic=function(){var e=n.default.getInstance().getStoryById(t.getInstance().getCurrentStoryId());if(null==e)return console.error("\u3010\u5f53\u524d\u5267\u60c5\u4e3a\u7a7a\u3011"+t.getInstance().getCurrentStoryId()),null!=t.getInstance().getCurrentScene()&&t.getInstance().getCurrentScene().unschedule(t.getInstance().runStoryLogic),void("function"==typeof t.getInstance().__finishStoryCallback&&t.getInstance().__finishStoryCallback());if(t.getInstance().getRunningStatus()){var o=t.getInstance().getCurrentStoryState(),c=o%2==0?o/2:o;switch(console.log("\u3010\u5f53\u524d\u5267\u60c5\u3011"+t.getInstance().getCurrentStoryId()+"\u3010\u5267\u60c5\u72b6\u6001\u3011"+i.ConstDefine.STORY_STEP_DESCRIPTION[c-1]+"\u3010\u72b6\u6001\u7801\u3011"+o),t.getInstance().getCurrentStoryState()){case i.ConstDefine.BEFORE_STORY_SHOW_NPC:t.getInstance().beforeShowStory_showNpc(e);break;case i.ConstDefine.BEFORE_STORY_SHOW_TIPS:t.getInstance().beforeShowStory_showTips(e);break;case i.ConstDefine.WAIT_STORY_CHECK_RESULT:t.getInstance().waitCheckStory(e);break;case i.ConstDefine.AFTER_STORY_FINISH_TIPS:t.getInstance().afterStory_finishTips(e);break;case i.ConstDefine.AFTER_STORY_FINISH_NPC:t.getInstance().afterStory_finishNpc(e);break;case i.ConstDefine.FINISH_STORY:t.getInstance().finishCurrentStory(e)}}},t.prototype.finishStory=function(){this.__ccNodesInScene=[],this.__currentNpc=null},t.NO_ACTION="NO_ACTION",t._instance=null,t}();o.default=u,cc._RF.pop()},{"../NetUtils/CheckSystem":"CheckSystem","../NetUtils/GameProgress":"GameProgress","../Object/BaseObject":"BaseObject","../Prefabs/PlaySound":"PlaySound","../Prefabs/TipsPanel":"TipsPanel","../Tables/TableSystem":"TableSystem","./CommonUtils":"CommonUtils"}],SupermarketScene:[function(t,e,o){"use strict";cc._RF.push(e,"b9fdf2E3oRLno0mI81Uu4PY","SupermarketScene");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),a=t("../Utils/Story"),s=t("../Utils/CommonUtils"),l=t("../Prefabs/TipsPanel"),u=t("../Prefabs/PlaySound"),p=t("../Object/Bus"),f=t("../Object/Xiaoming"),d=t("../Object/Laoyeye"),y=t("../Object/Xiaoming"),h=t("../Object/NPC"),_=cc._decorator,g=_.ccclass,m=_.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bear=null,e.boyfanmian=null,e.boyzhengmian=null,e.NPCNodes=[],e.tipsPanel=null,e.homeRoot=null,e.homeLeafRoot=null,e.elevatorRoot=null,e.roadRoot=null,e.busStopRoot=null,e.busStopEnterBus=null,e.innerBusRoot=null,e.supermarketRoot=null,e.supermarketDoor=null,e.underFloorRoot=null,e.elevatorLayerNumber=null,e.elevator=null,e.elevatorSound=null,e.shareSeatTips=null,e.seller=null,e.oldMan=null,e.bus=null,e.dama=null,e.xiaonvhai=null,e.xiaonanhai=null,e.chaoshixiaonvhai=null,e.chaoshilanyixiaonvhai=null,e.playSound=null,e.redLight_1=null,e.redLight_2=null,e.yellowLight_1=null,e.yellowLight_2=null,e.greenLight_1=null,e.greenLight_2=null,e.RED_LIGHT=0,e.YELLOW_LIGHT=1,e.GREEN_LIGHT=2,e}return c(e,t),e.prototype.start=function(){var t=this;r.default.getInstance(),this.scheduleOnce(function(){t.playSound=cc.find("PlaySound"),t.playSound.getComponent(u.default).initSoundRes(),a.default.getInstance().initScene(t,t.NPCNodes,t.tipsPanel,t.playSound),t.runHomeLogic()},.1)},e.prototype.resetScene=function(){this.homeRoot.active=!1,this.homeLeafRoot.active=!1,this.elevatorRoot.active=!1,this.roadRoot.active=!1,this.busStopRoot.active=!1,this.innerBusRoot.active=!1,this.supermarketRoot.active=!1,this.underFloorRoot.active=!1},e.prototype.runHomeLogic=function(){var t=this;this.resetScene(),this.homeRoot.active=!0,this.homeLeafRoot.active=!0,a.default.getInstance().showStory(1e3,function(){t.runElevatorLogic()})},e.prototype.runElevatorLogic=function(){var t=this;this.resetScene(),this.elevatorLayerNumber.string="5",this.elevatorRoot.active=!0,this.bear.setPosition(2500,130),this.scheduleOnce(function(){a.default.getInstance().showStory(1002,function(){t.bear.getComponent(f.default).turnOnHands(function(){a.default.getInstance().showStory(1003,function(){t.runPlayerEnterElevator()})})})},1)},e.prototype.runPlayerEnterElevator=function(){var t=this;this.elevator.runAction(cc.sequence(cc.callFunc(function(){cc.loader.loadRes("Images/dianti_open.png",cc.SpriteFrame,function(e,o){t.elevator.getComponent(cc.Sprite).spriteFrame=o})}),cc.delayTime(1),cc.callFunc(function(){t.boyfanmian.active=!1,t.boyfanmian.setPosition(t.bear.getPosition()),t.bear.active=!1,t.boyfanmian.active=!0,t.boyfanmian.getComponent(y.default).walkTo(2,new cc.Vec2(1150,400),function(){})}),cc.delayTime(3),cc.callFunc(function(){cc.loader.loadRes("Images/dianti_close.png",cc.SpriteFrame,function(e,o){t.boyfanmian.active=!1,t.elevator.getComponent(cc.Sprite).spriteFrame=o})}),cc.delayTime(2),cc.callFunc(function(){t.runElevatorDown()})))},e.prototype.runElevatorDown=function(){var t=this;this.elevatorLayerNumber.node.runAction(cc.sequence(cc.callFunc(function(){t.elevatorLayerNumber.string="4"}),cc.delayTime(1),cc.callFunc(function(){t.elevatorLayerNumber.string="3"}),cc.delayTime(1),cc.callFunc(function(){t.elevatorLayerNumber.string="2"}),cc.delayTime(1),cc.callFunc(function(){t.elevatorLayerNumber.string="1",cc.audioEngine.play(t.elevatorSound,!1,1)}),cc.delayTime(1),cc.callFunc(function(){t.runRoadLogic()})))},e.prototype.test_floor_1=function(){var t=this;this.bear.active=!0,this.tipsPanel.getComponent(l.default).hideTips(function(){a.default.getInstance().showStory(1003,function(){t.bear.getComponent(f.default).turnOnHands(function(){t.runRoadLogic()})})})},e.prototype.test_floor_5=function(){},e.prototype.runRoadLogic=function(){var t=this;this.resetScene(),this.roadRoot.active=!0,this.bear.active=!0,this.bear.getComponent(f.default).distalk(),this.bear.setPosition(-200,30),this.bear.getComponent(f.default).walkTo(5,new cc.Vec2(1e3,30),function(){var e=s.CommonUtils.getRandomRange(0,2);t.showLightLogic(e)})},e.prototype.showLightLogic=function(t){var e=this;this.redLight_1.active=!1,this.redLight_2.active=!1,this.yellowLight_1.active=!1,this.yellowLight_2.active=!1,this.greenLight_1.active=!1,this.greenLight_2.active=!1,this.roadRoot.active=!0,this.tipsPanel.getComponent(l.default).flipXLocation(),this.scheduleOnce(function(){switch(t){case e.RED_LIGHT:e.redLight_1.active=!0,e.redLight_2.active=!0;break;case e.YELLOW_LIGHT:e.yellowLight_1.active=!0,e.yellowLight_2.active=!0;break;case e.GREEN_LIGHT:e.greenLight_1.active=!0,e.greenLight_2.active=!0}e.runCrossRoad(t)},2)},e.prototype.runCrossRoad=function(t){var e=this;a.default.getInstance().showStory(t+1005,function(){e.tipsPanel.getComponent(l.default).resumeXLocation(),t!=e.GREEN_LIGHT?e.showLightLogic(e.GREEN_LIGHT):(e.bear.stopAllActions(),e.boyfanmian.active=!1,e.boyfanmian.setPosition(e.bear.getPosition()),e.bear.active=!1,e.boyfanmian.active=!0,e.boyfanmian.getComponent(f.default).walkTo(8,new cc.Vec2(1e3,500),function(){e.bear.setPosition(e.boyfanmian.getPosition()),e.bear.active=!0,e.boyfanmian.active=!1,e.bear.getComponent(f.default).walkTo(6,new cc.Vec2(2500,500),function(){e.runBusStopLogic()})}))})},e.prototype.test_light=function(t,e){e==this.RED_LIGHT?this.showLightLogic(this.GREEN_LIGHT):e==this.YELLOW_LIGHT?this.showLightLogic(this.GREEN_LIGHT):e==this.GREEN_LIGHT&&a.default.getInstance().setCurrentStoryState(s.ConstDefine.AFTER_STORY_FINISH_TIPS)},e.prototype.runBusStopLogic=function(){var t=this;this.resetScene(),this.busStopRoot.active=!0,this.busStopEnterBus.active=!1,this.bear.getComponent(f.default).distalk(),this.bear.setPosition(-200,380),this.bus.setPosition(3500,370),a.default.getInstance().showStory(1009,function(){t.bus.getComponent(p.default).run(),t.bus.runAction(cc.sequence(cc.moveTo(5,new cc.Vec2(1100,370)),cc.delayTime(1),cc.callFunc(function(){t.bear.setPosition(-200,33),t.bus.setPosition(3500,370),t.busStopEnterBus.active=!0,t.bus.getComponent(p.default).stop(),a.default.getInstance().showStory(1012,function(){t.runPeopleEnterBus()})})))})},e.prototype.runPeopleEnterBus=function(){var t=this;this.bear.active=!1,this.xiaonvhai.setPosition(new cc.Vec2(-100,-630)),this.dama.setPosition(new cc.Vec2(-350,-605)),this.xiaonanhai.setPosition(new cc.Vec2(-572,-630)),this.bear.setPosition(new cc.Vec2(165,33)),this.xiaonvhai.active=!0,this.dama.active=!0,this.xiaonanhai.active=!0,this.bear.active=!0,this.dama.getComponent(h.default).idle(function(){}),this.xiaonanhai.getComponent(h.default).idle(function(){}),this.xiaonvhai.getComponent(h.default).idle(function(){}),this.xiaonvhai.getComponent(h.default).walkTo(1,new cc.Vec2(85,-630),function(){t.xiaonvhai.active=!1}),this.dama.getComponent(h.default).walkTo(2,new cc.Vec2(85,this.dama.getPosition().y),function(){t.dama.active=!1}),this.xiaonanhai.getComponent(h.default).walkTo(3,new cc.Vec2(85,-630),function(){t.xiaonanhai.active=!1}),this.bear.getComponent(f.default).walkTo(4,new cc.Vec2(1200,33),function(){t.bear.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.bear.active=!1,t.runInnerBusLogic()})))})},e.prototype.test_enter_bus=function(){this.runInnerBusLogic()},e.prototype.runInnerBusLogic=function(){var t=this;this.resetScene(),this.bear.getComponent(f.default).distalk(),this.innerBusRoot.active=!0,this.bear.setPosition(200,100),this.bear.active=!0,this.bear.stopAllActions(),a.default.getInstance().showStory(1013,function(){t.bear.getComponent(f.default).walkTo(2,new cc.Vec2(1350,380),function(){t.bear.getComponent(f.default).seatdown(function(){t.bear.getComponent(f.default).distalk(),t.runOldManLogic()})})})},e.prototype.runOldManLogic=function(){var t=this;this.oldMan.setPosition(2100,300),this.oldMan.getComponent(d.default).walkTo(2,new cc.Vec2(1800,300),function(){t.shareSeatTips.runAction(cc.moveTo(.5,new cc.Vec2(960,640)))})},e.prototype.test_seatdown=function(){a.default.getInstance().setCurrentStoryState(s.ConstDefine.AFTER_STORY_FINISH_TIPS)},e.prototype.onShareSeat=function(){var t=this;this.shareSeatTips.runAction(cc.moveTo(.5,new cc.Vec2(960,1600))),this.bear.getComponent(f.default).walkTo(2,new cc.Vec2(1450,100),function(){a.default.getInstance().showStory(1016,function(){t.oldMan.getComponent(d.default).walkTo(3,new cc.Vec2(1150,500),function(){t.oldMan.getComponent(d.default).turnFace(),t.oldMan.getComponent(d.default).seatdown(function(){t.bear.getComponent(f.default).walkTo(2,new cc.Vec2(300,100),function(){a.default.getInstance().showStory(1019,function(){t.runEnterSupermarketLogic()})})})})})})},e.prototype.runEnterSupermarketLogic=function(){var t=this;this.resetScene(),this.supermarketRoot.active=!0,this.seller.active=!1,this.bear.getComponent(f.default).distalk(),this.bear.setPosition(2100,80),this.chaoshixiaonvhai.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.chaoshixiaonvhai.getComponent(h.default).idle(function(){})}),cc.delayTime(2),cc.callFunc(function(){t.chaoshixiaonvhai.getComponent(h.default).walkTo(2,t.chaoshixiaonvhai.getPosition(),function(){})}),cc.delayTime(2))),this.chaoshilanyixiaonvhai.setPosition(310,-262),a.default.getInstance().showStory(1029,function(){}),this.bear.getComponent(f.default).walkTo(6,new cc.Vec2(600,80),function(){t.bear.active=!1,t.supermarketDoor.active=!1,t.runBuyGoodsLogic()})},e.prototype.runBuyGoodsLogic=function(){var t=this;this.bear.active=!0,this.seller.active=!0,this.bear.setPosition(2100,320),this.tipsPanel.getComponent(l.default).resumeXLocation(),this.seller.getComponent(h.default).sayHello(function(){}),a.default.getInstance().showStory(1020,function(){t.bear.getComponent(f.default).walkTo(3,new cc.Vec2(-250,320),function(){t.runGoHomeLogic(),t.chaoshixiaonvhai.stopAllActions()})})},e.prototype.test_buy_goods=function(){a.default.getInstance().setCurrentStoryState(s.ConstDefine.AFTER_STORY_FINISH_TIPS)},e.prototype.runGoHomeLogic=function(){var t=this;this.bear.active=!1,this.supermarketDoor.active=!0,this.bear.getComponent(f.default).distalk(),this.bear.setPosition(600,80),this.bear.active=!0,this.seller.active=!1,this.bus.setPosition(-1e3,350),this.bus.active=!0,this.bus.scaleX=-1,this.bus.getComponent(p.default).run(),this.bus.runAction(cc.sequence(cc.moveTo(5,new cc.Vec2(1200,350)),cc.callFunc(function(){t.bear.setPosition(-200,100),t.bus.getComponent(p.default).stop()}),cc.delayTime(1),cc.callFunc(function(){t.bus.getComponent(p.default).run()}),cc.moveTo(5,new cc.Vec2(3500,350)),cc.callFunc(function(){t.bus.getComponent(p.default).stop(),t.bus.setPosition(3500,350),t.runMoveToHomeLogic()})))},e.prototype.runMoveToHomeLogic=function(){var t=this;this.resetScene(),this.underFloorRoot.active=!0,this.bear.setPosition(-200,100),this.bear.active=!0,a.default.getInstance().showStory(1026,function(){t.boyfanmian.active=!1,t.boyfanmian.setPosition(t.bear.getPosition()),t.bear.active=!1,t.boyfanmian.active=!0,t.boyfanmian.getComponent(y.default).walkTo(2,new cc.Vec2(1500,300),function(){t.boyfanmian.active=!1,t.runInnerHomeLogic()})})},e.prototype.runInnerHomeLogic=function(){this.resetScene(),this.bear.setPosition(2200,300),this.bear.active=!0,this.homeRoot.active=!0,this.homeLeafRoot.active=!0,a.default.getInstance().showStory(1027,function(){cc.director.loadScene("KindergartenScene")})},i([m(cc.Node)],e.prototype,"bear",void 0),i([m(cc.Node)],e.prototype,"boyfanmian",void 0),i([m(cc.Node)],e.prototype,"boyzhengmian",void 0),i([m([cc.Node])],e.prototype,"NPCNodes",void 0),i([m(cc.Node)],e.prototype,"tipsPanel",void 0),i([m(cc.Node)],e.prototype,"homeRoot",void 0),i([m(cc.Node)],e.prototype,"homeLeafRoot",void 0),i([m(cc.Node)],e.prototype,"elevatorRoot",void 0),i([m(cc.Node)],e.prototype,"roadRoot",void 0),i([m(cc.Node)],e.prototype,"busStopRoot",void 0),i([m(cc.Node)],e.prototype,"busStopEnterBus",void 0),i([m(cc.Node)],e.prototype,"innerBusRoot",void 0),i([m(cc.Node)],e.prototype,"supermarketRoot",void 0),i([m(cc.Node)],e.prototype,"supermarketDoor",void 0),i([m(cc.Node)],e.prototype,"underFloorRoot",void 0),i([m(cc.Label)],e.prototype,"elevatorLayerNumber",void 0),i([m(cc.Node)],e.prototype,"elevator",void 0),i([m(cc.AudioClip)],e.prototype,"elevatorSound",void 0),i([m(cc.Node)],e.prototype,"shareSeatTips",void 0),i([m(cc.Node)],e.prototype,"seller",void 0),i([m(cc.Node)],e.prototype,"oldMan",void 0),i([m(cc.Node)],e.prototype,"bus",void 0),i([m(cc.Node)],e.prototype,"dama",void 0),i([m(cc.Node)],e.prototype,"xiaonvhai",void 0),i([m(cc.Node)],e.prototype,"xiaonanhai",void 0),i([m(cc.Node)],e.prototype,"chaoshixiaonvhai",void 0),i([m(cc.Node)],e.prototype,"chaoshilanyixiaonvhai",void 0),i([m(cc.Node)],e.prototype,"playSound",void 0),i([m(cc.Node)],e.prototype,"redLight_1",void 0),i([m(cc.Node)],e.prototype,"redLight_2",void 0),i([m(cc.Node)],e.prototype,"yellowLight_1",void 0),i([m(cc.Node)],e.prototype,"yellowLight_2",void 0),i([m(cc.Node)],e.prototype,"greenLight_1",void 0),i([m(cc.Node)],e.prototype,"greenLight_2",void 0),i([g],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../Object/Bus":"Bus","../Object/Laoyeye":"Laoyeye","../Object/NPC":"NPC","../Object/Xiaoming":"Xiaoming","../Prefabs/PlaySound":"PlaySound","../Prefabs/TipsPanel":"TipsPanel","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","../Utils/Story":"Story"}],TableStruct:[function(t,e,o){"use strict";cc._RF.push(e,"fb4826L89JM1ZV9L6ZZqSIs","TableStruct"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.initTable=function(){},t}();o.default=n,cc._RF.pop()},{}],TableSystem:[function(t,e,o){"use strict";cc._RF.push(e,"f940f9Dh09BMqgEHMBtsQpS","TableSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Table_AlgorithmDetection"),c=t("./Table_ErrorCode"),i=t("./Table_Scene"),r=t("./Table_Story"),a=function(){function t(){this.m_listAlgorithmDetection=new Array,this.m_listErrorCode=new Array,this.m_listScene=new Array,this.m_listStory=new Array}return t.getInstance=function(){return null==t._instance&&(t._instance=new t,t._instance.loadAlgorithmDetection(),t._instance.loadErrorCode(),t._instance.loadScene(),t._instance.loadStory()),t._instance},t.prototype.loadAlgorithmDetection=function(){var t=this;cc.loader.loadRes("Tables/AlgorithmDetection",function(){},function(e,o){if(e)cc.error(e.message);else for(var c=JSON.parse(o),i=0;i<c.length;i++){var r=c[i],a=new n.default;a.initTable(r),t.addAlgorithmDetection(a)}})},t.prototype.addAlgorithmDetection=function(t){for(var e=0;e<this.m_listAlgorithmDetection.length;e++)if(this.m_listAlgorithmDetection[e].m_ID==t.m_ID)return;this.m_listAlgorithmDetection.push(t)},t.prototype.getAlgorithmDetection=function(t){var e=null;return t<this.m_listAlgorithmDetection.length&&(e=this.m_listAlgorithmDetection[t]),e},t.prototype.getAlgorithmDetectionById=function(t){for(var e=null,o=0;o<this.m_listAlgorithmDetection.length;o++){var n=this.m_listAlgorithmDetection[o];n.m_ID==t&&(e=n)}return e},t.prototype.getAlgorithmDetectionCount=function(){return this.m_listAlgorithmDetection.length},t.prototype.loadErrorCode=function(){var t=this;cc.loader.loadRes("Tables/ErrorCode",function(){},function(e,o){if(e)cc.error(e.message);else for(var n=JSON.parse(o),i=0;i<n.length;i++){var r=n[i],a=new c.default;a.initTable(r),t.addErrorCode(a)}})},t.prototype.addErrorCode=function(t){for(var e=0;e<this.m_listErrorCode.length;e++)if(this.m_listErrorCode[e].m_ID==t.m_ID)return;this.m_listErrorCode.push(t)},t.prototype.getErrorCode=function(t){var e=null;return t<this.m_listErrorCode.length&&(e=this.m_listErrorCode[t]),e},t.prototype.getErrorCodeById=function(t){for(var e=null,o=0;o<this.m_listErrorCode.length;o++){var n=this.m_listErrorCode[o];n.m_ID==t&&(e=n)}return e},t.prototype.getErrorCodeCount=function(){return this.m_listErrorCode.length},t.prototype.loadScene=function(){var t=this;cc.loader.loadRes("Tables/Scene",function(){},function(e,o){if(e)cc.error(e.message);else for(var n=JSON.parse(o),c=0;c<n.length;c++){var r=n[c],a=new i.default;a.initTable(r),t.addScene(a)}})},t.prototype.addScene=function(t){for(var e=0;e<this.m_listScene.length;e++)if(this.m_listScene[e].m_ID==t.m_ID)return;this.m_listScene.push(t)},t.prototype.getScene=function(t){var e=null;return t<this.m_listScene.length&&(e=this.m_listScene[t]),e},t.prototype.getSceneById=function(t){for(var e=null,o=0;o<this.m_listScene.length;o++){var n=this.m_listScene[o];n.m_ID==t&&(e=n)}return e},t.prototype.getSceneCount=function(){return this.m_listScene.length},t.prototype.loadStory=function(){var t=this;cc.loader.loadRes("Tables/Story",function(){},function(e,o){if(e)cc.error(e.message);else for(var n=JSON.parse(o),c=0;c<n.length;c++){var i=n[c],a=new r.default;a.initTable(i),t.addStory(a)}})},t.prototype.addStory=function(t){for(var e=0;e<this.m_listStory.length;e++)if(this.m_listStory[e].m_ID==t.m_ID)return;this.m_listStory.push(t)},t.prototype.getStory=function(t){var e=null;return t<this.m_listStory.length&&(e=this.m_listStory[t]),e},t.prototype.getStoryById=function(t){for(var e=null,o=0;o<this.m_listStory.length;o++){var n=this.m_listStory[o];n.m_ID==t&&(e=n)}return e},t.prototype.getStoryCount=function(){return this.m_listStory.length},t._instance=null,t}();o.default=a,cc._RF.pop()},{"./Table_AlgorithmDetection":"Table_AlgorithmDetection","./Table_ErrorCode":"Table_ErrorCode","./Table_Scene":"Table_Scene","./Table_Story":"Table_Story"}],Table_AlgorithmDetection:[function(t,e,o){"use strict";cc._RF.push(e,"ec8faxFWBxIcJeNRiFEvKPI","Table_AlgorithmDetection");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.m_ID=0,e.m_Description="",e.m_AlgorithmId="",e.m_StatusId="",e.m_CheckType="",e}return c(e,t),e.prototype.initTable=function(t){this.m_ID=t.ID,this.m_Description=t.Description,this.m_AlgorithmId=t.AlgorithmId,this.m_StatusId=t.StatusId,this.m_CheckType=t.CheckType},e}(t("./TableStruct").default);o.default=i,cc._RF.pop()},{"./TableStruct":"TableStruct"}],Table_ErrorCode:[function(t,e,o){"use strict";cc._RF.push(e,"fc60atEvUVDe7XqwH5+CoRp","Table_ErrorCode");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.m_ID=0,e.m_ErrorInfo="",e.m_TipsId=0,e}return c(e,t),e.prototype.initTable=function(t){this.m_ID=t.ID,this.m_ErrorInfo=t.ErrorInfo,this.m_TipsId=t.TipsId},e}(t("./TableStruct").default);o.default=i,cc._RF.pop()},{"./TableStruct":"TableStruct"}],Table_Scene:[function(t,e,o){"use strict";cc._RF.push(e,"f289bq/1kRHAKIHRcuTzKU6","Table_Scene");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.m_ID=0,e.m_Story="",e}return c(e,t),e.prototype.initTable=function(t){this.m_ID=t.ID,this.m_Story=t.Story},e}(t("./TableStruct").default);o.default=i,cc._RF.pop()},{"./TableStruct":"TableStruct"}],Table_Story:[function(t,e,o){"use strict";cc._RF.push(e,"c503fD4zRZFG5cdM1nJ6K5q","Table_Story");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.m_ID=0,e.m_Next=0,e.m_SceneID=0,e.m_TalkerID=0,e.m_TalkerLocation="",e.m_FinishLocation="",e.m_Title="",e.m_Word="",e.m_CheckType="",e.m_CheckTargetId="",e.m_Score=0,e.m_Target="",e.m_Time=0,e.m_MoveTime=0,e.m_IsCallBack=0,e.m_SoundPath="",e}return c(e,t),e.prototype.initTable=function(t){this.m_ID=t.ID,this.m_Next=t.Next,this.m_SceneID=t.SceneID,this.m_TalkerID=t.TalkerID,this.m_TalkerLocation=t.TalkerLocation,this.m_FinishLocation=t.FinishLocation,this.m_Title=t.Title,this.m_Word=t.Word,this.m_CheckType=t.CheckType,this.m_CheckTargetId=t.CheckTargetId,this.m_Score=t.Score,this.m_Target=t.Target,this.m_Time=t.Time,this.m_MoveTime=t.MoveTime,this.m_IsCallBack=t.IsCallBack,this.m_SoundPath=t.SoundPath},e}(t("./TableStruct").default);o.default=i,cc._RF.pop()},{"./TableStruct":"TableStruct"}],TipsPanel:[function(t,e,o){"use strict";cc._RF.push(e,"8860cDxUEREWJ5QlRY6elN9","TipsPanel");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.description=null,e.m_0x01_1=null,e.m_0x01_2=null,e.m_0x01_3=null,e.m_0x01_4=null,e.m_0x01_5=null,e.m_0x01_6=null,e.m_0x01_7=null,e.m_0x01_8=null,e.m_0x02_1=null,e.m_0x02_2=null,e.m_0x02_3=null,e.m_0x02_4=null,e.m_0x02_5=null,e.isShow=!1,e.isFlip=!1,e}return c(e,t),e.prototype.start=function(){},e.prototype.flipXLocation=function(){this.node.setPosition(1670,-160),this.isFlip=!0},e.prototype.resumeXLocation=function(){this.node.setPosition(250,-160),this.isFlip=!1},e.prototype.showTips=function(t,e,o){var n=this,c=this.isFlip?1670:250;this.node.setPosition(c,-800),this.node.runAction(cc.sequence(cc.callFunc(function(){n.title.string=t,n.description.string=e}),cc.moveTo(.5,new cc.Vec2(c,150)),cc.callFunc(function(){"function"==typeof o&&o()})))},e.prototype.hideTips=function(t){var e=this.isFlip?1670:250;this.node.runAction(cc.sequence(cc.moveTo(.5,new cc.Vec2(e,-800)),cc.callFunc(function(){"function"==typeof t&&t()})))},e.prototype.chooseSound=function(t,e){switch(t){case"0x01":switch(e){case"1":case 1:return this.m_0x01_1;case"2":case 2:return this.m_0x01_2;case"3":case 3:return this.m_0x01_3;case"4":case 4:return this.m_0x01_4;case"5":case 5:return this.m_0x01_5;case"6":case 6:return this.m_0x01_6;case"7":case 7:return this.m_0x01_7;case"8":case 8:return this.m_0x01_8;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x01 StatusId: ",e),null}case"0x02":switch(e){case"1":case 1:return this.m_0x02_1;case"2":case 2:return this.m_0x02_2;case"3":case 3:return this.m_0x02_3;case"4":case 4:return this.m_0x02_4;case"5":case 5:return this.m_0x02_5;default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR 0x02 StatusId: ",e),null}default:return cc.log("KS_TipsPanel::chooseSound switch NO Found!!! ERROR AlgorithmId: ",t),null}},i([s(cc.Label)],e.prototype,"title",void 0),i([s(cc.Label)],e.prototype,"description",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_1",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_2",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_3",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_4",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_5",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_6",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_7",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x01_8",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_1",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_2",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_3",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_4",void 0),i([s(cc.AudioClip)],e.prototype,"m_0x02_5",void 0),i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Xiaoming:[function(t,e,o){"use strict";cc._RF.push(e,"b6f38Vv62pNvoYi7Tf10Dkk","Xiaoming");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Tables/TableSystem"),a=t("./BaseObject"),s=t("../Utils/CommonUtils"),l=t("../Prefabs/PlaySound"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPanel=null,e.word=null,e}return c(e,t),e.prototype.start=function(){this.talk(-1,function(){})},e.prototype.update=function(){},e.prototype.turnOnHands=function(t){var e=this;this.node.runAction(cc.sequence(cc.callFunc(function(){e.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1)}),cc.delayTime(1),cc.callFunc(function(){e.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof t&&t()})))},e.prototype.walkTo=function(t,e,o){var n=this;console.log("\u5c0f\u718a\u8d70\u5411\uff1a"+e.x+", "+e.y),s.CommonUtils.comprareTo(this.node.x,e.x)!=s.ConstDefine.EQUAL||s.CommonUtils.comprareTo(this.node.y,e.y)!=s.ConstDefine.EQUAL||"function"!=typeof o?(this.node.x<e.x?(this.node.scaleX=1,this.wordPanel.scaleX=1,this.word.node.scaleX=1):(this.node.scaleX=-1,this.wordPanel.scaleX=1,this.word.node.scaleX=-1),this.node.runAction(cc.sequence(cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(t,e),cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0)}),cc.delayTime(.3),cc.callFunc(function(){"function"==typeof o&&o()})))):o()},e.prototype.idle=function(t){this.node.stopAllActions(),this.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0),"function"==typeof t&&t()},e.prototype.seatdown=function(t){this.node.stopAllActions(),this.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("seatdown",1),"function"==typeof t&&t()},e.prototype.distalk=function(){this.wordPanel.active=!1,this.word.string=""},e.prototype.talk=function(t,e){if(void 0===e&&(e=null),console.log("talk ID:"+t),t==s.ConstDefine.SAY_NOTING_ID)return this.wordPanel.active=!1,this.word.string="",void("function"==typeof e&&e());var o=r.default.getInstance().getStoryById(t);null!=o&&(this.wordPanel.active=!0,this.word.string=o.m_Word);var n=cc.find("PlaySound").getComponent(l.default).playSound(o.m_ID);this.scheduleOnce(function(){"function"==typeof e&&e()},n)},e.prototype.walk=function(t,e,o){var n=this;this.node.runAction(cc.sequence(cc.callFunc(function(){n.node.x<=t?(n.node.scaleX=-1,n.wordPanel.scaleX=1,n.word.node.scaleX=1):(n.node.scaleX=1,n.wordPanel.scaleX=1,n.word.node.scaleX=-1),n.node.stopAllActions(),n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("walk",0)}),cc.moveTo(o,new cc.Vec2(t,e)),cc.callFunc(function(){n.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("stand",0)})))},e.prototype.turnFace=function(){this.node.scaleX*=-1},e.prototype.setLoc=function(t,e){this.node.x=t,this.node.y=e},e.prototype.resetLoc=function(){this.node.x=-100,this.node.y=0},e.prototype.pushButton=function(t){this.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("atc",1),"function"==typeof t&&t()},e.prototype.sleep=function(t){console.log("\u7761\u89c9"),"function"==typeof t&&t()},e.prototype.sing=function(t){console.log("\u5531\u6b4c"),"function"==typeof t&&t()},e.prototype.sitdown=function(t){console.log("\u5750\u4e0b"),"function"==typeof t&&t()},e.prototype.drinkWater=function(t){console.log("\u559d\u6c34"),"function"==typeof t&&t()},e.prototype.waveHand=function(t){console.log("\u6325\u624b"),"function"==typeof t&&t()},e.prototype.handShake=function(t){console.log("\u5c0f\u670b\u53cb\u63e1\u624b\u3002"),"function"==typeof t&&t()},e.prototype.eating=function(t){console.log("\u64ad\u653e\u5403\u996d\u52a8\u753b\uff0c\u6301\u7eed3s\u3002"),"function"==typeof t&&t()},e.prototype.embrace=function(t){console.log("\u5c0f\u670b\u53cb\u62e5\u62b1\u3002"),"function"==typeof t&&t()},e.prototype.nod=function(t){console.log("\u5c0f\u670b\u53cb\u70b9\u5934\u3002"),"function"==typeof t&&t()},e.prototype.getAlgorithmDetectionResult=function(t,e){for(var o=null,n=r.default.getInstance().getAlgorithmDetectionCount(),c=0;c<n;c++){var i=r.default.getInstance().getAlgorithmDetection(c);if(i.m_CheckType==t&&i.m_StatusId==e){o=i;break}}return o},i([f(cc.Node)],e.prototype,"wordPanel",void 0),i([f(cc.Label)],e.prototype,"word",void 0),i([p],e)}(a.default);o.default=d,cc._RF.pop()},{"../Prefabs/PlaySound":"PlaySound","../Tables/TableSystem":"TableSystem","../Utils/CommonUtils":"CommonUtils","./BaseObject":"BaseObject"}],use_reversed_rotateTo:[function(t,e){"use strict";cc._RF.push(e,"2efc0nxnmRDuLwZHCjU3g4G","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"b0055SV/oVPe5QV/+Hf2mDo","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["HomeScene","KS_Bird","KS_ChoosePanel","KS_Guard","KS_ISContinue","KS_Lights","KS_Player","KS_Singer","KS_Teacher","KS_TipsPanel","KindergartenScene","CheckSystem","DataSystem","GameProgress","NetUtils","BaseObject","Bear","Bird","Bus","Laoyeye","NPC","OldMan","Seller","Xiaoming","ParkScene","ChoosePanel","ChooseScenePanel","DataDisplay","PlaySound","TipsPanel","SupermarketScene","TableStruct","TableSystem","Table_AlgorithmDetection","Table_ErrorCode","Table_Scene","Table_Story","CommonUtils","Story","use_reversed_rotateTo","use_v2.1-2.2.1_cc.Toggle_event"]);